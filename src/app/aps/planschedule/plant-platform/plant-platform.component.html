<div>
  <div class="div_menu">
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '查询' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="search()"
                            src="../../../../assets/imgs/planSchedule/8.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '排产刷新' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="refresh()"
                            src="../../../../assets/imgs/planSchedule/6.svg">
    </custom-function-button>
    <nz-divider nzType="vertical"></nz-divider>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '工作日历' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="openCalendar()"
                            src="../../../../assets/imgs/planSchedule/3.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '固定&取消固定' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="fixMo()"
                            src="../../../../assets/imgs/planSchedule/4.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '置尾单' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="setEndMo()"
                            src="../../../../assets/imgs/planSchedule/10.svg">
    </custom-function-button>
    <!-- <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '工单指定' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="setResourceAndRate()"
                            src="../../../../assets/icons/工单指定.svg">
    </custom-function-button> -->
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '修改' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="openMoEdit()"
                            src="../../../../assets/imgs/planSchedule/edit.svg">
    </custom-function-button>
    <!-- <nz-divider nzType="vertical"></nz-divider>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="产能平衡" [iconStyle]="iconStyle"
      (clickEvent)="calculateWorking()" src="../../../../assets/imgs/planSchedule/1.svg">
    </custom-function-button> -->
    <nz-divider nzType="vertical"></nz-divider>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{'集约排产' | translate}}" [iconStyle]="iconStyle"
      (clickEvent)="chooseLine()" src="../../../../assets/imgs/planSchedule/5.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{'工单联动' | translate}}" [iconStyle]="iconStyle"
                            (clickEvent)="moLink()" src="../../../../assets/imgs/planSchedule/2.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{'上层联动' | translate}}" [iconStyle]="iconStyle"
                            (clickEvent)="moUpLink()" src="../../../../assets/imgs/planSchedule/上层联动.png">
    </custom-function-button>
    <nz-divider nzType="vertical"></nz-divider>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{'工单组件' | translate}}" [iconStyle]="iconStyle"
                            (clickEvent)="openMoComponent()" src="../../../../assets/imgs/planSchedule/工单组件.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{'工单簇' | translate}}" [iconStyle]="iconStyle"
                            (clickEvent)="openMoLevel()" src="../../../../assets/imgs/planSchedule/工单族.svg">
    </custom-function-button>
    <nz-divider nzType="vertical"></nz-divider>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '计划发布' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="release()"
                            src="../../../../assets/imgs/planSchedule/计划发布.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '排产表' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="openSchedule()"
                            src="../../../../assets/imgs/planSchedule/排产表.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '排产检核' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="openCheckReport()"
                            src="../../../../assets/imgs/planSchedule/排产检核.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '例外检查' | translate}}"
                            [iconStyle]="iconStyle" (clickEvent)="moException()"
                            src="../../../../assets/imgs/planSchedule/工单例外.svg">
    </custom-function-button>
    <custom-function-button [ngClass]="{'custom_function_button': true}" text="{{ '置尾查询' | translate}}"
    [iconStyle]="iconStyle" (clickEvent)="queryEndMo()"
    src="../../../../assets/imgs/planSchedule/置尾查询.svg">
</custom-function-button>
  </div>

  <div nz-row style="height: 50px">
    <div nz-col nzSpan="4" style="margin: 0px 6px 0px 0px">
      <nz-slider [nzMarks]="scaleModes" [nzTipFormatter]="null" [nzDefaultValue]="56" [nzStep]='null'
                 [(ngModel)]="scaleMode" (ngModelChange)="scaleModeChange($event)">
      </nz-slider>
    </div>
    <div nz-col nzSpan="4" style="margin: 10px 0px 0px 10px; width: 200px">
      <nz-radio-group [(ngModel)]="taskColors" (ngModelChange)="taskColorsChange($event)" name='taskColors'>
        <label nz-radio-button *ngFor="let option of taskColorsOptions"
               [nzValue]="option.value">{{option.label | translate}}</label>
      </nz-radio-group>
    </div>

    <div nz-col nzSpan="5" style="margin: 18px 0px 0px 0px;width: 120px">
      <label>{{'高亮'|translate}}：</label>
      <nz-tag nzMode="checkable" [nzChecked]="taskHighlight === '0' ? true : false" (click)="taskHighlightChange('0')"
              style="width: 50px">
        {{ '同物料号' | translate }}
      </nz-tag>
      <!-- <nz-tag nzMode="checkable" [nzChecked]="taskHighlight === '1' ? true : false" (click)="taskHighlightChange('1')"
              style="width: 50px">
        {{'同项目号' | translate}}
      </nz-tag>
      <nz-tag nzMode="checkable" [nzChecked]="taskHighlight === '2' ? true : false" (click)="taskHighlightChange('2')"
              style="width: 30px">
        {{'非标' | translate}}
      </nz-tag> -->
    </div>

    <div nz-col nzSpan="2" style="margin: 10px 0px 0px 10px; width: 100px">
      <nz-dropdown-button [nzClickHide]="false">
        {{'提示内容'|translate}}
        <ul nz-menu>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[0]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'工单号'|translate}}</label>
          </li>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[1]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'物料编号'|translate}}</label>
          </li>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[2]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'物料描述'|translate}}</label>
          </li>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[3]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'需求时间'|translate}}</label>
          </li>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[4]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'数量'|translate}}</label>
          </li>
          <li nz-menu-item>
            <label nz-checkbox [(ngModel)]="taskTooltipsDisplay[5]"
                   (ngModelChange)="taskTooltipsDisplayChange($event)">{{'起止时间'|translate}}</label>
          </li>
        </ul>
      </nz-dropdown-button>
    </div>

    <div nz-col nzSpan="2" style="margin: 10px 0px 0px 25px">
      <div style="float: right;">
        <nz-input-group [nzSuffix]="suffixIconSearch">
          <input nz-input placeholder="{{'过滤工单' | translate}}" [(ngModel)]="filterTasks" name="filterTasks"
                 (ngModelChange)="filterTasksOnInput($event)">
        </nz-input-group>
        <ng-template #suffixIconSearch>
          <i nz-icon [nzType]="'search'"></i>
        </ng-template>
      </div>
    </div>

    <div nz-col nzSpan="2" style="margin: 10px 0px 0px 10px">
      <div style="float:right;">
        <nz-input-group [nzSuffix]="suffixIconSearch">
          <input nz-input placeholder="{{'过滤资源' | translate}}" [(ngModel)]="filterRows" name="filterRows"
                 (ngModelChange)="filterRowsOnInput($event)">
        </nz-input-group>
        <ng-template #suffixIconSearch>
          <i nz-icon [nzType]="'search'"></i>
        </ng-template>
      </div>
    </div>
  </div>

  <nz-card adaptiveFullScreen [nzBodyStyle]="{width:'100%',height:'100%'}">
    <iframe width="100%" height="100%" src="./assets/demo.dist/index.html" id="ganttFrame" frameborder="0"></iframe>
  </nz-card>
</div>
<div *ngIf="loading" class="div-p">
  <div class="div-c">
    <ng-template #indicatorTemplate>
      <div>
        <div>
          <i nz-icon [nzType]="'loading'" style="font-size: 100px;"></i>
        </div>
        <div>
          <label style="font-size:30px">Loading...</label>
        </div>
      </div>
    </ng-template>
    <nz-spin [nzIndicator]="indicatorTemplate" [nzSpinning]="loading">
    </nz-spin>
  </div>
</div>
