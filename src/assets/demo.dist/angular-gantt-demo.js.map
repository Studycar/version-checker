{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///angular-gantt-demo.js","webpack:///./src/index.ts","webpack:///./src/core/logic/column/column.factory.ts","webpack:///./src/core/logic/api/api.factory.ts","webpack:///./src/core/logic/api/options.factory.ts","webpack:///./src/core/logic/calendar/calendar.factory.ts","webpack:///./src/core/logic/calendar/currentDateManager.factory.ts","webpack:///./src/core/logic/column/columnHeader.factory.ts","webpack:///./src/core/logic/column/columnsManager.factory.ts","webpack:///./src/core/logic/model/objectModel.factory.ts","webpack:///./src/core/logic/row/rowsManager.factory.ts","webpack:///./src/core/logic/template/body.factory.ts","webpack:///./src/core/logic/template/header.factory.ts","webpack:///./src/core/logic/template/scroll.factory.ts","webpack:///./src/core/logic/template/side.factory.ts","webpack:///./src/core/logic/timespan/timespansManager.factory.ts","webpack:///./demo/demo.controller.ts","webpack:///./demo/demo.service.ts","webpack:///./src/plugins/index.ts","webpack:///./~/moment/locale ^\\.\\/.*$","webpack:///./demo/index.ts","webpack:///./src/core/gantt.directive.ts","webpack:///./src/core/logic/column/columnBuilder.factory.ts","webpack:///./src/core/logic/column/columnGenerator.service.ts","webpack:///./src/core/logic/column/headersGenerator.service.ts","webpack:///./src/core/logic/gantt.factory.ts","webpack:///./src/core/logic/row/row.factory.ts","webpack:///./src/core/logic/task/task.factory.ts","webpack:///./src/core/logic/template/bodyBackground.factory.ts","webpack:///./src/core/logic/template/bodyColumns.factory.ts","webpack:///./src/core/logic/template/bodyForeground.factory.ts","webpack:///./src/core/logic/template/bodyRows.factory.ts","webpack:///./src/core/logic/template/headerColumns.factory.ts","webpack:///./src/core/logic/timespan/timespan.factory.ts","webpack:///./src/core/logic/util/arrays.service.ts","webpack:///./src/core/logic/util/binarySearch.service.ts","webpack:///./src/core/logic/util/hierarchy.factory.ts","webpack:///./src/core/logic/util/utils.service.ts","webpack:///./src/core/ui/limit/columnLimit.filter.ts","webpack:///./src/core/ui/limit/taskLimit.filter.ts","webpack:///./src/core/ui/resizer/resizer.directive.ts","webpack:///./src/core/ui/scroll/horizontalScrollReceiver.directive.ts","webpack:///./src/core/ui/scroll/scrollManager.directive.ts","webpack:///./src/core/ui/scroll/scrollSender.directive.ts","webpack:///./src/core/ui/scroll/scrollable.directive.ts","webpack:///./src/core/ui/scroll/verticalScrollReceiver.directive.ts","webpack:///./src/core/ui/size/containerHeightListener.directive.ts","webpack:///./src/core/ui/size/containerWidthListener.directive.ts","webpack:///./src/core/ui/size/elementHeightListener.directive.ts","webpack:///./src/core/ui/size/elementWidthListener.directive.ts","webpack:///./src/core/ui/template/body.directive.ts","webpack:///./src/core/ui/template/bodyBackground.directive.ts","webpack:///./src/core/ui/template/bodyColumns.directive.ts","webpack:///./src/core/ui/template/bodyForeground.directive.ts","webpack:///./src/core/ui/template/bodyRows.directive.ts","webpack:///./src/core/ui/template/column.directive.ts","webpack:///./src/core/ui/template/columnHeader.directive.ts","webpack:///./src/core/ui/template/header.directive.ts","webpack:///./src/core/ui/template/headerColumns.directive.ts","webpack:///./src/core/ui/template/row.directive.ts","webpack:///./src/core/ui/template/rowBackground.directive.ts","webpack:///./src/core/ui/template/rowLabel.directive.ts","webpack:///./src/core/ui/template/scrollableHeader.directive.ts","webpack:///./src/core/ui/template/side.directive.ts","webpack:///./src/core/ui/template/sideBackground.directive.ts","webpack:///./src/core/ui/template/sideContent.directive.ts","webpack:///./src/core/ui/template/task.directive.ts","webpack:///./src/core/ui/template/taskBackground.directive.ts","webpack:///./src/core/ui/template/taskContent.directive.ts","webpack:///./src/core/ui/template/taskForeground.directive.ts","webpack:///./src/core/ui/template/timeFrame.directive.ts","webpack:///./src/core/ui/template/timespan.directive.ts","webpack:///./src/core/ui/util/debounce.factory.ts","webpack:///./src/core/ui/util/directiveBuilder.factory.ts","webpack:///./src/core/ui/util/dom.service.ts","webpack:///./src/core/ui/util/enableNgAnimate.service.ts","webpack:///./src/core/ui/util/ganttBindCompileHtml.directive.ts","webpack:///./src/core/ui/util/layout.service.ts","webpack:///./src/core/ui/util/mouseButton.service.ts","webpack:///./src/core/ui/util/mouseOffset.service.ts","webpack:///./src/core/ui/util/smartEvent.factory.ts","webpack:///./src/plugins/bounds/bounds.directive.ts","webpack:///./src/plugins/bounds/index.ts","webpack:///./src/plugins/bounds/taskBounds.directive.ts","webpack:///./src/plugins/corner/corner.directive.ts","webpack:///./src/plugins/corner/cornerArea.directive.ts","webpack:///./src/plugins/corner/index.ts","webpack:///./src/plugins/dependencies/dependencies.directive.ts","webpack:///./src/plugins/dependencies/dependenciesChecker.factory.ts","webpack:///./src/plugins/dependencies/dependenciesEvents.factory.ts","webpack:///./src/plugins/dependencies/dependenciesManager.factory.ts","webpack:///./src/plugins/dependencies/dependency.factory.ts","webpack:///./src/plugins/dependencies/index.ts","webpack:///./src/plugins/dependencies/taskMouseHandler.factory.ts","webpack:///./src/plugins/drawtask/drawTask.directive.ts","webpack:///./src/plugins/drawtask/index.ts","webpack:///./src/plugins/groups/group.controller.ts","webpack:///./src/plugins/groups/groups.directive.ts","webpack:///./src/plugins/groups/index.ts","webpack:///./src/plugins/groups/taskGroup.directive.ts","webpack:///./src/plugins/groups/taskGroup.factory.ts","webpack:///./src/plugins/groups/taskOverview.directive.ts","webpack:///./src/plugins/labels/index.ts","webpack:///./src/plugins/labels/labels.directive.ts","webpack:///./src/plugins/labels/labelsBody.directive.ts","webpack:///./src/plugins/labels/labelsHeader.directive.ts","webpack:///./src/plugins/labels/sideContentLabels.directive.ts","webpack:///./src/plugins/movable/index.ts","webpack:///./src/plugins/movable/movable.directive.ts","webpack:///./src/plugins/movable/movableOptions.factory.ts","webpack:///./src/plugins/overlap/index.ts","webpack:///./src/plugins/overlap/overlap.directive.ts","webpack:///./src/plugins/progress/index.ts","webpack:///./src/plugins/progress/progress.directive.ts","webpack:///./src/plugins/progress/taskProgress.directive.ts","webpack:///./src/plugins/resizeSensor/index.ts","webpack:///./src/plugins/resizeSensor/resizeSensor.directive.ts","webpack:///./src/plugins/sections/index.ts","webpack:///./src/plugins/sections/sections.directive.ts","webpack:///./src/plugins/sections/taskSection.directive.ts","webpack:///./src/plugins/sections/taskSections.directive.ts","webpack:///./src/plugins/sortable/index.ts","webpack:///./src/plugins/sortable/sortable.directive.ts","webpack:///./src/plugins/table/index.ts","webpack:///./src/plugins/table/sideContentTable.directive.ts","webpack:///./src/plugins/table/table.directive.ts","webpack:///./src/plugins/table/tableColumn.controller.ts","webpack:///./src/plugins/table/tableColumnRow.controller.ts","webpack:///./src/plugins/tooltips/index.ts","webpack:///./src/plugins/tooltips/tooltip.directive.ts","webpack:///./src/plugins/tooltips/tooltips.directive.ts","webpack:///./src/plugins/tree/index.ts","webpack:///./src/plugins/tree/rowTreeLabel.directive.ts","webpack:///./src/plugins/tree/sideContentTree.directive.ts","webpack:///./src/plugins/tree/tree.controller.ts","webpack:///./src/plugins/tree/tree.directive.ts","webpack:///./src/plugins/tree/treeBody.directive.ts","webpack:///./src/plugins/tree/treeHeader.directive.ts","webpack:///./src/plugins/tree/treeNode.controller.ts","webpack:///./src/plugins/tree/uiTree.controller.ts","webpack:///./src/plugins/bounds/taskBounds.tmpl.html","webpack:///./src/plugins/corner/corner.tmpl.html","webpack:///./src/plugins/groups/taskGroup.tmpl.html","webpack:///./src/plugins/groups/taskOverview.tmpl.html","webpack:///./src/plugins/labels/labelsBody.tmpl.html","webpack:///./src/plugins/labels/labelsHeader.tmpl.html","webpack:///./src/plugins/labels/sideContentLabels.tmpl.html","webpack:///./src/plugins/progress/taskProgress.tmpl.html","webpack:///./src/plugins/sections/taskSection.tmpl.html","webpack:///./src/plugins/sections/taskSections.tmpl.html","webpack:///./src/plugins/table/sideContentTable.tmpl.html","webpack:///./src/plugins/tooltips/tooltip.tmpl.html","webpack:///./src/plugins/tree/sideContentTree.tmpl.html","webpack:///./src/plugins/tree/treeBody.tmpl.html","webpack:///./src/plugins/tree/treeBodyChildren.tmpl.html","webpack:///./src/plugins/tree/treeHeader.tmpl.html","webpack:///./src/template/gantt.tmpl.html"],"names":["root","factory","exports","module","define","amd","this","webpackJsonp_name_","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_angular","_angular2","_gantt","_gantt2","_resizer","_resizer2","_containerHeightListener","_containerHeightListener2","_containerWidthListener","_containerWidthListener2","_elementHeightListener","_elementHeightListener2","_elementWidthListener","_elementWidthListener2","_horizontalScrollReceiver","_horizontalScrollReceiver2","_scrollable","_scrollable2","_scrollManager","_scrollManager2","_scrollSender","_scrollSender2","_verticalScrollReceiver","_verticalScrollReceiver2","_body","_body2","_bodyBackground","_bodyBackground2","_bodyColumns","_bodyColumns2","_bodyForeground","_bodyForeground2","_bodyRows","_bodyRows2","_column","_column2","_columnHeader","_columnHeader2","_header","_header2","_headerColumns","_headerColumns2","_row","_row2","_rowBackground","_rowBackground2","_rowLabel","_rowLabel2","_scrollableHeader","_scrollableHeader2","_side","_side2","_sideBackground","_sideBackground2","_sideContent","_sideContent2","_task","_task2","_taskBackground","_taskBackground2","_taskContent","_taskContent2","_taskForeground","_taskForeground2","_timeFrame","_timeFrame2","_timespan","_timespan2","_ganttBindCompileHtml","_ganttBindCompileHtml2","_gantt3","_gantt4","_api","_api2","_options","_options2","_calendar","_calendar2","_scroll","_scroll2","_body3","_body4","_bodyColumns3","_bodyColumns4","_bodyRows3","_bodyRows4","_bodyBackground3","_bodyBackground4","_bodyForeground3","_bodyForeground4","_header3","_header4","_headerColumns3","_headerColumns4","_side3","_side4","_objectModel","_objectModel2","_task3","_task4","_row3","_row4","_rowsManager","_rowsManager2","_column3","_column4","_columnBuilder","_columnBuilder2","_columnHeader3","_columnHeader4","_columnsManager","_columnsManager2","_timespan3","_timespan4","_timespansManager","_timespansManager2","_currentDateManager","_currentDateManager2","_hierarchy","_hierarchy2","_debounce","_debounce2","_smartEvent","_smartEvent2","_directiveBuilder","_directiveBuilder2","_enableNgAnimate","_enableNgAnimate2","_utils","_utils2","_arrays","_arrays2","_binarySearch","_binarySearch2","_layout","_layout2","_headersGenerator","_headersGenerator2","_columnGenerator","_columnGenerator2","_dom","_dom2","_mouseButton","_mouseButton2","_mouseOffset","_mouseOffset2","_columnLimit","_columnLimit2","_taskLimit","_taskLimit2","directive","service","filter","GanttColumn","undefined","_getIterator2","_getIterator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_moment","_moment2","date","endDate","left","width","calendar","timeFramesWorkingMode","timeFramesNonWorkingMode","timeFrames","visibleTimeFrames","daysTimeFrames","currentDate","cropped","duration","diff","originalSize","updateTimeFrames","key","year","month","$element","addClass","removeClass","css","forEach","timeFrame","updateView","cDate","cDateStartOfDay","startOf","cDateNextDay","add","i","getTimeFrames","nextCDate","min","solve","cTimeFrames","length","cTimeFrame","start","end","clone","push","concat","cDateKey","getDateKey","positionDuration","position","timeFrameDuration","timeFramePosition","hidden","working","timeFramesWidth","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","aTimeFrame","err","return","croppedRatio","croppedWidth","originalCroppedWidth","allCropped","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","bTimeFrame","other","unit","offset","midpoint","get","Math","ceil","floor","round","units","set","indexOf","magnetValue","magnetUnit","timeFramesMagnet","initialDate","getPositionByDate","roundTo","maxTimeFrameDiff","abs","currentTimeFrameDiff","magnet","previousTimeFrame","nextTimeFrame","timeFrameDiff","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getDuration","getDateByPositionUsingTimeFrames","getMagnetDate","dtf","croppedDate","getDayTimeFrame","_positionDuration","_position","GanttApi","$q","$rootScope","ganttUtils","gantt","listeners","apiId","newId","eventId","handler","_this","$on","args","Array","prototype","slice","call","arguments","splice","apply","api","listenerFuncs","callBackFn","_this2","isArray","foundListeners","l","lstnr","dereg","registerEventWithAngular","featureName","eventName","_this3","feature","on","raise","$emit","scope","deregAngularOn","listener","removeListener","index","eventObjectMap","_this4","features","featPropName","featProp","name","events","propName","_feature","event","registerEvent","methodName","createBoundedWrapper","methodMap","methods","prop","fn","_feature2","method","registerMethod","GanttOptions","values","defaultValues","optionName","defaultValue","optionValue","sanitize","hasOwnProperty","GanttCalendar","DateFrame","TimeFrameMapping","TimeFrame","$filter","options","color","classes","internal","cssStyles","toggleClass","func","ret","evaluator","endOf","targets","timeFrameMappings","dateFrames","mappings","timeFrameMapping","dateFrame","inputDateFrames","dateMatch","_name","_dateFrame","filterDateFrames","target","names","_name3","_timeFrame3","dateYear","dateMonth","dateDate","validatedTimeFrames","_name2","startDate","minDate","maxDate","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","solvedTimeFrames","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_timeFrame4","orderedTimeFrames","k","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","oTimeFrame","tmpSolvedTimeFrames","dispatched","treated","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","sTimeFrame","newSolvedTimeFrame","GanttCurrentDateManager","currentDateColumn","$scope","simplifyMoment","d","isMoment","unix","$watchGroup","newValues","oldValues","setCurrentDate","oldColumn","newColumn","columnsManager","getColumnByDate","GanttColumnHeader","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_GanttColumn","viewScaleUnit","labelFormat","__proto__","label","format","GanttColumnsManager","GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","ganttLayout","ganttBinarySearch","defaultHeadersFormats","quarter","week","day","hour","minute","second","millisecond","defaultDayHeadersFormats","defaultYearHeadersFormats","from","to","columns","visibleColumns","previousColumns","nextColumns","headers","visibleHeaders","scrollAnchor","columnBuilder","rendered","generateColumns","$watchCollection","updateColumnsMeta","data","load","rowsManager","getDefaultFrom","getDefaultTo","sortRows","remove","clearColumns","getColumnsWidth","getColumnsWidthToFit","getDateRange","scroll","el","center","scrollLeft","offsetWidth","getDateByPosition","$$postDigest","toDate","setScrollAnchor","clear","isValid","getExpandedFrom","getExpandedTo","generate","scrollToScrollAnchor","isRefreshingColumns","lastColumn","getLastColumn","originalWidth","columnsWidthChanged","updateColumnsWidths","showSide","sideShown","side","isShown","sideVisibilityChanged","show","updateTasksPosAndSize","timespansManager","updateTimespansPosAndSize","updateVisibleColumns","updateVisibleObjects","currentDateValue","currentDateManager","refresh","extended","disableExpand","expandExtendedColumnsForDate","extendedColumns","c","x","expandExtendedColumnsForPosition","columnWidth","expandToFit","shrinkToFit","newWidth","getBodyAvailableWidth","currentWidth","widthFactor","setColumnsWidthFactor","header","viewScale","firstColumn","getFirstColumn","firstExtendedColumn","lastExtendedColumn","includeViews","limitThreshold","headerRow","headersFormats","trim","charAt","substring","splittedViewScale","split","scale","headersScales","visibleOnly","GanttObjectModel","model","id","randomUuid","tasks","clean","rows","timespans","GanttRowsManager","_typeof2","_typeof3","GanttRow","ganttArrays","$timeout","rowsMap","sortedRows","filteredRows","customFilteredRows","visibleRows","rowsTaskWatchers","customRowSorters","customRowFilters","_defaultFilterImpl","filterRow","filterRowComparator","filterImpl","updateVisibleTasks","updateVisibleRows","$watch","newValue","oldValue","_oldVScrollbarVisible","isVScrollbarVisible","newVScrollbarVisible","applySort","removeCustomRowSorter","addCustomRowSorter","removeCustomRowFilter","addCustomRowFilter","setFilterImpl","rowModel","modelOrderChanged","row","isUpdate","objectModel","cleanRow","toRemoveIds","getRemovedIds","toRemoveId","removeTask","taskModel","addTask","change","watcher","newTasks","oldTasks","_i","_l","_toRemoveIds","toRemove","toAdd","rowId","removedRow","indexOfId","unregisterFunction","removeId","expression","reverse","String","substr","angularOrderBy","applyCustomRowSorters","sorterFunction","customRowSorter","targetRow","targetRowIndex","rowIndex","moveToIndex","move","oldFilteredRows","actual","expected","raiseEvent","equals","applyCustomRowFilters","displayed","filterFunction","customRowFilter","oldFilteredTasks","filteredTasks","visibleTasks","minRowFrom","maxRowTo","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","defaultFrom","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","defaultTo","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","GanttBody","GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground","background","foreground","GanttHeader","GanttHeaderColumns","offsetHeight","GanttScroll","scrollTo","scrollToDate","scrollToLeft","scrollToRight","setWidth","cachedScrollLeft","scrollWidth","clientWidth","borderLeft","window","getComputedStyle","getPropertyValue","match","borderRight","parseInt","clientHeight","scrollHeight","triggerHandler","GanttSide","hasClass","GanttTimespansManager","GanttTimespan","timespansMap","clearTimespans","loadTimespans","removeTimespans","timespanModel","cleanTimespan","loadTimespan","timespan","updatePosAndSize","timespanData","removeTimespan","timespanId","removedTimespan","_stringify","_stringify2","$log","DemoService","ganttMouseOffset","ganttDebounce","$http","preleft","initVisibleGanttDataTimer","logScrollEvent","direction","logDataEvent","info","curTask","preTask","logTaskEvent","task","curTaskId","curTaskFrom","curRowName","childTasks","document","getElementById","taskColorMode","initTaskColors","initTaskHighlightColors","CellSelectedColor","moAheadDelayColor","moKitColor","moStatusColor","rowData","dependencies","tempDependencies","initParentDependencies","initChildDependencies","curMoResCodePriority","moResCodePriorities","find","moResCodePriority","Key","RowSelectedColor","priorityTips","Value","logRowEvent","initGanttResourceCalendars","logColumnsGenerateEvent","logRowsFilterEvent","logTasksFilterEvent","logReadyEvent","addEventName","mode","sortMode","sideMode","daily","maxHeight","zoom","treeTableColumns","columnsHeaders","model.name","columnsClasses","columnsFormatters","_from","_to","treeHeaderContent","columnsHeaderContents","autoExpand","taskOutOfRange","fromDate","rowContentEnabled","rowContent","taskContentEnabled","taskContent","tooltipsContent","allowSideResizing","labelsEnabled","Date","draw","readOnly","groupDisplayMode","filterTask","closed","columnMagnet","enabled","conflictChecker","movable","allowRowSwitching","corner","headersLabels","toUpperCase","headersLabelsTemplates","targetDataAddRowIndex","canDraw","isLeftMouseButton","button","drawTaskFactory","core","ready","rowChange","moveBegin","moveEnd","resizeBegin","resizeEnd","drawBegin","drawEnd","directives","new","directiveName","directiveScope","element","bind","stopPropagation","live","originalModel","$digest","handleTaskIconClick","alert","handleRowIconClick","expandAll","tree","collapseAll","canAutoWidth","getColumnWidth","widthEnabled","getSampleData","getSampleTimespans","reload","ganttResourceCalendars","curGanttResourceCalendar","resCalendar","ResourceCode","TimeFrames","Start","End","Color","Working","defualt","Defualt","_key","DateFrames","SameItemCodeColor","SameProjectNumColor","StandardFalgYColor","fromScrollDate","toScrollDate","initGanttData","ganttData","JSON","parse","plantPlatformDataOutputDto","dateRange","StartDate","EndDate","initScaleMode","GanttResourceCalendars","mergeGanttData","splitGanttData","initVisibleGanttData","getGanttData","setGanttData","initTaskTooltipsDisplay","viewScaleValue","cancel","initFilterTasks","initFilterRows","taskTooltipsDisplay","heightInline","height","children","initRowName","backupRowName","initTaskId","backupTaskId","initTaskFrom","backupTaskFrom","childTask","taskHighlight","taskTooltipsContent","ITEM_CODE","PROJECT_NUMBER","STANDARD_FLAG","curId","dep","publicTimeDisplay","allowResizing","_bounds","_bounds2","_corner","_corner2","_dependencies","_dependencies2","_drawtask","_drawtask2","_groups","_groups2","_labels","_labels2","_movable","_movable2","_overlap","_overlap2","_progress","_progress2","_resizeSensor","_resizeSensor2","_sections","_sections2","_sortable","_sortable2","_table","_table2","_tooltips","_tooltips2","_tree","_tree2","bounds","drawtask","groups","labels","overlap","progress","resizeSensor","sections","sortable","table","tooltips","webpackContext","req","webpackContextResolve","map","Error","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","keys","resolve","_src","_src2","_angularAnimate","_angularAnimate2","_angularStrap","_angularStrap2","_demo","_demo2","_demo3","_demo4","_plugins","_plugins2","controller","config","$compileProvider","debugInfoEnabled","Gantt","ganttEnableNgAnimate","$templateCache","restrict","transclude","templateUrl","tElement","tAttrs","template","put","filterTaskComparator","sideWidth","shiftColumnMagnet","option","link","destroy","initialized","v1","v2","firstValue","getFirstValue","builder","maximumWidth","leftOffset","parseFloat","excludeTo","isToDateToExclude","subtract","generatedCols","ensureNoUnitOverflow","column","shift","headerName","generatedHeaders","currentColumn","maximumDate","currentPosition","isSame","isAfter","columnHeader","headerNames","generateHeaders","$document","taskLimitThreshold","columnLimitThreshold","loadData","removeData","clearData","getData","registerTimeFrames","registerDateFrames","clearTimeFrames","clearDateFrames","registerTimeFrameMappings","clearTimeFrameMappings","oldTimeFrames","oldDateFrames","framesChanged","splittedColumnMagnet","columnMagnetValue","columnMagnetUnit","normalizeUnits","shiftColumnMagnetValue","shiftColumnMagnetUnit","keyHandler","off","body","hasRowModelOrderChanged","data1","data2","newData","oldData","removeAll","removeRow","removedRows","resetNonModelLists","j","addRow","e","shiftKey","magnetValueAndUnit","getMagnetValueAndUnit","getColumnByPosition","getWidth","borderWidth","getBordersWidth","availableWidth","w","rowToRemove","ti","tl","taskToRemove","tj","ganttElementWidth","ganttElementHeight","ganttContainerWidth","ganttContainerHeight","GanttRowModel","GanttTask","angular","newObj","tasksMap","viewOnly","cleanTask","addTaskImpl","sortTasks","setFromToByTask","beforeViewRowChange","beforeRowChange","oldRow","viewRowChange","_filterTaskComparator","taskId","silent","removedTask","setFromTo","taskIndex","setFromToByValues","sort","t1","t2","copy","GanttTaskModel","truncatedLeft","truncatedRight","oldViewLeft","oldViewWidth","oldTruncatedRight","oldTruncatedLeft","isMoving","isOutOfRange","modelLeft","modelWidth","maxModelLeft","minModelLeft","truncatedLeftOffset","truncatedRightOffset","viewChange","display","priority","isMilestone","backgroundElement","querySelector","contentElement","foregroundElement","magnetEnabled","newTaskRight","newTaskLeft","Timespan","TimespanModel","GanttArrays","array","oldIndex","newIndex","newArray","oldArray","idProperty","removedIds","newObject","newObjectIndex","idProperties","arrayValue","GanttBinarySearch","input","comparer","strict","lo","hi","mid","res","getIndicesOnly","GanttHierarchyFactory","GanttHierarchy","nameToRow","idToRow","nameToChildren","idToChildren","nameToParent","idToParent","childRow","nameChildren","idChildren","parent","parentRow","registerChildRow","childRowNameOrId","rootRows","_i2","descendants","child","childDescendants","ancestors","GanttUtils","seedId","getTime","object","objects","propertyName","arr","random","toString","random4","leftComparator","getScrollLeft","scrollContainerWidth","active","$parse","require","targetElement","$attrs","ganttCtrl","resizerWidth","eventTopic","resize","dblclick","preventDefault","mousemove","$evalAsync","getOffsetForElement","maxWidth","max","mouseup","unbind","mousedown","ganttResizerEventTopic","$observe","attrs","ganttScrollManagerCtrl","registerHorizontalReceiver","horizontal","vertical","registerVerticalReceiver","getHorizontalRecievers","getVerticalRecievers","controllers","updateListeners","vElement","parentNode","scrollTop","hElement","style","GanttDirectiveBuilder","lastScrollLeft","currentScrollLeft","curScrollDate","getScrollableCss","getContainerHeight","getHeight","bodySmallerThanGantt","build","scopeVariable","ganttContainerHeightListener","effectiveScope","$parent","parentElement","marginTop","marginBottom","ganttContainerWidthListener","marginLeft","marginRight","ganttElementHeightListener","ganttElementWidthListener","scrollBarWidth","getScrollBarWidth","getScrollableHeaderCss","maxHeightActivated","vScrollbarWidth","hScrollBarHeight","getScrollBarHeight","getMaxHeightCss","bodyScrollBarHeight","isHScrollbarVisible","getTaskContent","content","debounce","timeout","invokeApply","nthCall","self","argz","later","version","replace","_templateUrl","controllerFunction","compile","pre","iElement","iAttrs","preLink","post","postLink","$applyAsync","GanttDom","$inject","y","elementFromPoint","depth","elements","previousPointerEvents","cDepth","current","getPropertyPriority","setProperty","checkFunction","found","offsetParent","$injector","ngAnimate","major","minor","$compile","$eval","ganttBindCompileHtml","html","contents","GanttLayout","inner","createElement","outer","top","visibility","overflow","appendChild","w1","w2","removeChild","h1","h2","originalLeftOffset","GanttMouseButton","which","GanttMouseOffset","evt","touches","offsetX","offsetY","layerX","layerY","bb","getBoundingClientRect","clientX","clientY","GanttSmartEvent","one","taskScope","taskElement","boundsScope","$new","pluginScope","ifElement","attr","boundsElement","append","est","lct","_index","_index2","_taskBounds","_taskBounds2","right","sideBackgroundScope","sideBackgroundElement","cornerScope","topElement","insertBefore","nextSibling","updateModelWithHeaders","scopeHeaders","scopeHeader","getLabel","getLabelContent","_cornerArea","_cornerArea2","GanttDependenciesManager","GanttDependenciesChecker","jsPlumbDefaults","endpoints","fallbackEndpoints","createLeftOverlay","createRightOverlay","createLeftFallbackOverlay","createRightFallbackOverlay","Endpoint","radius","EndpointStyle","fillStyle","strokeStyle","lineWidth","PaintStyle","strokeWidth","stroke","Connector","ConnectionOverlays","location","anchor","isSource","isTarget","maxConnections","cssClass","overlays","create","endpoint","manager","checker","allTasks","directiveElement","plumb","setContainer","addDependenciesFromTask","removeDependenciesFromTask","setTasks","revalidate","setTask","dependency","getFromTask","getToTask","fromTask","toTask","removeConflictClass","handleTaskConflict","conflictsList","handleTaskNonConflict","taskDependencies","getTaskDependencies","denyDragWhenReadOnly","denyDropOnSameTask","params","sourceId","targetId","connection","setDraggingConnection","createConnection","mouseEvent","oldDependency","$dependency","sourceEndpoint","targetEndpoint","sourceModel","$task","dependenciesModel","connectionModel","removeFromTaskModel","removeDependency","addDependency","setParameter","canvas","setAttribute","updateConnection","newSourceEndpoint","newTargetEndpoint","deleteConnection","GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler","_jsplumb2","jsPlumb","getInstance","importDefaults","dependenciesFrom","dependenciesTo","tasksList","allowPartial","connect","keepConnection","disconnect","fromTaskId","getFromTaskId","toTaskId","getToTaskId","fromDependencies","fromRemove","toDependencies","draggingConnection","mouseHandler","release","_taskId","install","isTaskEnabled","rowDependencies","addTaskEndpoints","endpointObject","addEndpoint","setVisible","removeTaskEndpoint","deleteEndpoint","addTaskMouseHandler","removeTaskMouseHandler","disconnectTaskDependencies","connectTaskDependencies","setSuspendDrawing","oldTask","getTask","getSourceEndpoints","getTargetEndpoints","sourceEndpoints","targetEndpoints","connectParameters","sourceEndpointIndex","targetEndpointIndex","source","parameters","getDependencies","allDependencies","fromId","tasksDependencies","taskDependency","_jsplumb","ganttDom","isConnected","detach","deleteFallbackEndpoints","modelIndex","angularIndexOf","isTaskVisible","isElementVisible","toFallbackEndpoint","fromFallbackEndpoint","_dependenciesEvents","_dependenciesEvents2","_dependenciesManager","_dependenciesManager2","_taskMouseHandler","_taskMouseHandler2","_dependenciesChecker","_dependenciesChecker2","_dependency","_dependency2","installed","elementHandlers","hideEndpointsPromise","ElementHandler","mouseExitHandler","hideEndpoints","mouseEnterHandler","displayEndpoints","getContentElement","moveThreshold","taskFactory","newTaskModel","drawTask","addNewTask","isResizing","addEventListeners","raiseDrawEvent","deferDrawing","startX","moveTrigger","currentX","getOffset","drawHandler","evtTarget","srcElement","rowDrawTask","enabledValue","firstProperty","className","drawTaskHandler","_drawTask","_drawTask2","GanttTaskGroup","updateTaskGroup","rowGroups","taskGroup","$$phase","$root","hierarchy","removeWatch","rowScope","rowElement","taskGroupScope","taskGroupElement","_taskGroup","_taskGroup2","_taskGroup3","_taskGroup4","_taskOverview","_taskOverview2","_group","_group2","overviewTasks","promotedTasks","showGrouping","groupRowGroups","descendant","taskDisplay","taskGroups","_sideContentLabels","_sideContentLabels2","_labelsHeader","_labelsHeader2","_labelsBody","_labelsBody2","fitSideWidthToLabels","getElementsByClassName","newSideWidth","warn","sideContentScope","sideContentElement","labelsScope","labelsElement","getLabelsCss","_movableOptions","_movableOptions2","ganttMouseButton","ganttMovableOptions","$window","allowMoving","initialize","_hasTouch","DocumentTouch","mouseStartOffsetX","moveStartX","windowElement","ganttBodyElement","ganttScrollElement","taskHasBeenChanged","taskHasBeenMovedFromAnotherRow","scrollInterval","getForegroundElement","onPressEvents","getTouch","taskMovable","rowMovable","taskOffsetX","getMoveMode","getButton","bodyOffsetX","enableMoveMode","onMousemove","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","moveMode","scrollRect","rowCenterLeft","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","sourceRow","moveTaskToRow","moveTo","setGlobalCursor","setTo","setFrom","leftScreenBorder","screenWidth","rightScreenBorder","keepOnScrolling","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalRow","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","disableMoveMode","bindOnce","$apply","global","getStartEnd","isBefore","getRange","startEnd","moment","range","handleTaskOverlap","overlapsList","handleTaskNonOverlaps","handleOverlaps","newOverlapsTasks","previousTask","previousRange","overlaps","sortOn","supplier","a","b","handleGlobalOverlaps","globalTasks","_momentRange","extendMoment","_taskProgress","_taskProgress2","progressScope","progressElement","requires","getClasses","getCss","percent","buildSensors","ganttElement","_ResizeSensor2","changed","sensors","_ElementQueries2","update","_ElementQueries","_ResizeSensor","listen","_taskSection","_taskSection2","_taskSections","_taskSections2","keepProportions","disableMagnet","disableDaily","sectionsScope","sectionsElement","section","_movingTaskSections","sectionScopes","sectionScope","sectionCss","sectionScopesEmpty","property","getLeft","taskLeft","getRight","getRelative","updatePosition","sectionLeft","sectionWidth","taskChangeHandler","offsetLeft","sectionRight","taskCleanHandler","beforeViewRowChangeHandler","checkDraggable","rowSortable","onDropSuccess","onDrop","moveRow","_sideContentTable","_sideContentTable2","_tableColumn","_tableColumn2","_tableColumnRow","_tableColumnRow2","headerContents","formatters","headerFormatter","tableScope","tableElement","getHeader","getHeaderContent","headerContent","getClass","getValue","formatter","getRowContent","columnContents","_tooltip","_tooltip2","bodyElement","showTooltipPromise","visible","mouseEnterX","mouseMoveHandler","getViewPortWidth","documentElement","updateTooltip","isRightAligned","showTooltip","restoreNgHide","elementHeight","taskRect","hideTooltip","displayTooltip","showDelayed","taskTooltips","rowTooltips","delay","bottom","getFromLabel","getToLabel","dateFormat","tooltipScope","tooltipElement","_angularUiTree","_angularUiTree2","_rowTreeLabel","_rowTreeLabel2","_sideContentTree","_sideContentTree2","_treeBody","_treeBody2","_treeHeader","_treeHeader2","_uiTree","_uiTree2","_treeNode","_treeNode2","_tree3","_tree4","leaves","sortedRow","filteredLeaves","filterRowKeepAncestor","isVisible","_collapsed","filterRowsFunction","sortRowsFunction","rootRow","handleChildren","sortedChildren","addRowSorter","addRowFilter","removeRowSorter","removeRowFilter","isRowCollapsed","expandRow","nodeScopes","collapsed","toggle","collapseRow","getHierarchy","keepAncestorOnFilterRow","filteredChildrenRows","childrenRows","isCollapseDisabled","$modelValue","getDownTest","$broadcast","path","run"],"mappings":"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AAK9F,KAAUW,EAAMe,MAAiB,gBAC5DuE,EAAmBD,EAAYrF,EAAc+E,cAAY/E,EAAMrB,KACrE,OAAKhL,MAAK+K,KAAYsB,EAAKtB,KACnC4G,EAReH,EADCpG,EAAO8B,OAAIN,EAAK,EACJxB,EAAEwB,EAAK,GACjCQ,MACyBf,EACzBgB,KAUR,GAAoBM,GAAc6D,EAAK9F,KAAK1L,KAAK6K,KAAiB,gBACtD+C,EAAmBD,EAAO3N,KAASyL,SAAOzL,KAAMgL,KAUtD,OARM4C,GAAK,IACPA,EACV,GAEYA,EAAO5N,KAAOgL,QAChB4C,EAAO5N,KACjBgL,OAEWhL,KAAK+K,KAClB6C,MFgaSzD,MAIH,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACC,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUtK,EAAQD,EAASM,GAEjC,YGz3BA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GA1BvFG,OAAOC,eAAeZ,EAAS,cAC3Ba,OAAO,IAEXb,EAAQgS,aAAWxH,EAEnB,IAAIC,GAAgBnK,EAAQ,GAExBoK,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AA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,gBAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,U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","file":"angular-gantt-demo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angular-gantt-demo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-gantt-demo\"] = factory();\n\telse\n\t\troot[\"angular-gantt-demo\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*!\n * Project: angular-gantt v2.0.0-rc.1 - Gantt chart component for AngularJS\n * Authors: Rmi Alvergnat <toilal.dev@gmail.com> (https://www.pragmasphere.com), Marco Schweighauser\n * License: MIT\n * Homepage: https://www.angular-gantt.com\n * Github: https://github.com/angular-gantt/angular-gantt.git\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angular-gantt-demo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-gantt-demo\"] = factory();\n\telse\n\t\troot[\"angular-gantt-demo\"] = factory();\n})(this, function() {\nreturn webpackJsonp_name_([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _gantt = __webpack_require__(262);\n\nvar _gantt2 = _interopRequireDefault(_gantt);\n\nvar _resizer = __webpack_require__(281);\n\nvar _resizer2 = _interopRequireDefault(_resizer);\n\nvar _containerHeightListener = __webpack_require__(287);\n\nvar _containerHeightListener2 = _interopRequireDefault(_containerHeightListener);\n\nvar _containerWidthListener = __webpack_require__(288);\n\nvar _containerWidthListener2 = _interopRequireDefault(_containerWidthListener);\n\nvar _elementHeightListener = __webpack_require__(289);\n\nvar _elementHeightListener2 = _interopRequireDefault(_elementHeightListener);\n\nvar _elementWidthListener = __webpack_require__(290);\n\nvar _elementWidthListener2 = _interopRequireDefault(_elementWidthListener);\n\nvar _horizontalScrollReceiver = __webpack_require__(282);\n\nvar _horizontalScrollReceiver2 = _interopRequireDefault(_horizontalScrollReceiver);\n\nvar _scrollable = __webpack_require__(285);\n\nvar _scrollable2 = _interopRequireDefault(_scrollable);\n\nvar _scrollManager = __webpack_require__(283);\n\nvar _scrollManager2 = _interopRequireDefault(_scrollManager);\n\nvar _scrollSender = __webpack_require__(284);\n\nvar _scrollSender2 = _interopRequireDefault(_scrollSender);\n\nvar _verticalScrollReceiver = __webpack_require__(286);\n\nvar _verticalScrollReceiver2 = _interopRequireDefault(_verticalScrollReceiver);\n\nvar _body = __webpack_require__(291);\n\nvar _body2 = _interopRequireDefault(_body);\n\nvar _bodyBackground = __webpack_require__(292);\n\nvar _bodyBackground2 = _interopRequireDefault(_bodyBackground);\n\nvar _bodyColumns = __webpack_require__(293);\n\nvar _bodyColumns2 = _interopRequireDefault(_bodyColumns);\n\nvar _bodyForeground = __webpack_require__(294);\n\nvar _bodyForeground2 = _interopRequireDefault(_bodyForeground);\n\nvar _bodyRows = __webpack_require__(295);\n\nvar _bodyRows2 = _interopRequireDefault(_bodyRows);\n\nvar _column = __webpack_require__(296);\n\nvar _column2 = _interopRequireDefault(_column);\n\nvar _columnHeader = __webpack_require__(297);\n\nvar _columnHeader2 = _interopRequireDefault(_columnHeader);\n\nvar _header = __webpack_require__(298);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _headerColumns = __webpack_require__(299);\n\nvar _headerColumns2 = _interopRequireDefault(_headerColumns);\n\nvar _row = __webpack_require__(300);\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _rowBackground = __webpack_require__(301);\n\nvar _rowBackground2 = _interopRequireDefault(_rowBackground);\n\nvar _rowLabel = __webpack_require__(302);\n\nvar _rowLabel2 = _interopRequireDefault(_rowLabel);\n\nvar _scrollableHeader = __webpack_require__(303);\n\nvar _scrollableHeader2 = _interopRequireDefault(_scrollableHeader);\n\nvar _side = __webpack_require__(304);\n\nvar _side2 = _interopRequireDefault(_side);\n\nvar _sideBackground = __webpack_require__(305);\n\nvar _sideBackground2 = _interopRequireDefault(_sideBackground);\n\nvar _sideContent = __webpack_require__(306);\n\nvar _sideContent2 = _interopRequireDefault(_sideContent);\n\nvar _task = __webpack_require__(307);\n\nvar _task2 = _interopRequireDefault(_task);\n\nvar _taskBackground = __webpack_require__(308);\n\nvar _taskBackground2 = _interopRequireDefault(_taskBackground);\n\nvar _taskContent = __webpack_require__(309);\n\nvar _taskContent2 = _interopRequireDefault(_taskContent);\n\nvar _taskForeground = __webpack_require__(310);\n\nvar _taskForeground2 = _interopRequireDefault(_taskForeground);\n\nvar _timeFrame = __webpack_require__(311);\n\nvar _timeFrame2 = _interopRequireDefault(_timeFrame);\n\nvar _timespan = __webpack_require__(312);\n\nvar _timespan2 = _interopRequireDefault(_timespan);\n\nvar _ganttBindCompileHtml = __webpack_require__(317);\n\nvar _ganttBindCompileHtml2 = _interopRequireDefault(_ganttBindCompileHtml);\n\nvar _gantt3 = __webpack_require__(266);\n\nvar _gantt4 = _interopRequireDefault(_gantt3);\n\nvar _api = __webpack_require__(166);\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _options = __webpack_require__(167);\n\nvar _options2 = _interopRequireDefault(_options);\n\nvar _calendar = __webpack_require__(168);\n\nvar _calendar2 = _interopRequireDefault(_calendar);\n\nvar _scroll = __webpack_require__(176);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _body3 = __webpack_require__(174);\n\nvar _body4 = _interopRequireDefault(_body3);\n\nvar _bodyColumns3 = __webpack_require__(270);\n\nvar _bodyColumns4 = _interopRequireDefault(_bodyColumns3);\n\nvar _bodyRows3 = __webpack_require__(272);\n\nvar _bodyRows4 = _interopRequireDefault(_bodyRows3);\n\nvar _bodyBackground3 = __webpack_require__(269);\n\nvar _bodyBackground4 = _interopRequireDefault(_bodyBackground3);\n\nvar _bodyForeground3 = __webpack_require__(271);\n\nvar _bodyForeground4 = _interopRequireDefault(_bodyForeground3);\n\nvar _header3 = __webpack_require__(175);\n\nvar _header4 = _interopRequireDefault(_header3);\n\nvar _headerColumns3 = __webpack_require__(273);\n\nvar _headerColumns4 = _interopRequireDefault(_headerColumns3);\n\nvar _side3 = __webpack_require__(177);\n\nvar _side4 = _interopRequireDefault(_side3);\n\nvar _objectModel = __webpack_require__(172);\n\nvar _objectModel2 = _interopRequireDefault(_objectModel);\n\nvar _task3 = __webpack_require__(268);\n\nvar _task4 = _interopRequireDefault(_task3);\n\nvar _row3 = __webpack_require__(267);\n\nvar _row4 = _interopRequireDefault(_row3);\n\nvar _rowsManager = __webpack_require__(173);\n\nvar _rowsManager2 = _interopRequireDefault(_rowsManager);\n\nvar _column3 = __webpack_require__(36);\n\nvar _column4 = _interopRequireDefault(_column3);\n\nvar _columnBuilder = __webpack_require__(263);\n\nvar _columnBuilder2 = _interopRequireDefault(_columnBuilder);\n\nvar _columnHeader3 = __webpack_require__(170);\n\nvar _columnHeader4 = _interopRequireDefault(_columnHeader3);\n\nvar _columnsManager = __webpack_require__(171);\n\nvar _columnsManager2 = _interopRequireDefault(_columnsManager);\n\nvar _timespan3 = __webpack_require__(274);\n\nvar _timespan4 = _interopRequireDefault(_timespan3);\n\nvar _timespansManager = __webpack_require__(178);\n\nvar _timespansManager2 = _interopRequireDefault(_timespansManager);\n\nvar _currentDateManager = __webpack_require__(169);\n\nvar _currentDateManager2 = _interopRequireDefault(_currentDateManager);\n\nvar _hierarchy = __webpack_require__(277);\n\nvar _hierarchy2 = _interopRequireDefault(_hierarchy);\n\nvar _debounce = __webpack_require__(313);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _smartEvent = __webpack_require__(321);\n\nvar _smartEvent2 = _interopRequireDefault(_smartEvent);\n\nvar _directiveBuilder = __webpack_require__(314);\n\nvar _directiveBuilder2 = _interopRequireDefault(_directiveBuilder);\n\nvar _enableNgAnimate = __webpack_require__(316);\n\nvar _enableNgAnimate2 = _interopRequireDefault(_enableNgAnimate);\n\nvar _utils = __webpack_require__(278);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _arrays = __webpack_require__(275);\n\nvar _arrays2 = _interopRequireDefault(_arrays);\n\nvar _binarySearch = __webpack_require__(276);\n\nvar _binarySearch2 = _interopRequireDefault(_binarySearch);\n\nvar _layout = __webpack_require__(318);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _headersGenerator = __webpack_require__(265);\n\nvar _headersGenerator2 = _interopRequireDefault(_headersGenerator);\n\nvar _columnGenerator = __webpack_require__(264);\n\nvar _columnGenerator2 = _interopRequireDefault(_columnGenerator);\n\nvar _dom = __webpack_require__(315);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _mouseButton = __webpack_require__(319);\n\nvar _mouseButton2 = _interopRequireDefault(_mouseButton);\n\nvar _mouseOffset = __webpack_require__(320);\n\nvar _mouseOffset2 = _interopRequireDefault(_mouseOffset);\n\nvar _columnLimit = __webpack_require__(279);\n\nvar _columnLimit2 = _interopRequireDefault(_columnLimit);\n\nvar _taskLimit = __webpack_require__(280);\n\nvar _taskLimit2 = _interopRequireDefault(_taskLimit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(397);\n__webpack_require__(244);\n\nvar _module = 'gantt';\n_angular2.default.module(_module, []).directive('gantt', _gantt2.default).directive('ganttResizer', _resizer2.default).directive('ganttContainerWidthListener', _containerWidthListener2.default).directive('ganttContainerHeightListener', _containerHeightListener2.default).directive('ganttElementWidthListener', _elementWidthListener2.default).directive('ganttElementHeightListener', _elementHeightListener2.default).directive('ganttHorizontalScrollReceiver', _horizontalScrollReceiver2.default).directive('ganttScrollable', _scrollable2.default).directive('ganttScrollManager', _scrollManager2.default).directive('ganttScrollSender', _scrollSender2.default).directive('ganttVerticalScrollReceiver', _verticalScrollReceiver2.default).directive('ganttBindCompileHtml', _ganttBindCompileHtml2.default).directive('ganttBody', _body2.default).directive('ganttBodyBackground', _bodyBackground2.default).directive('ganttBodyColumns', _bodyColumns2.default).directive('ganttBodyForeground', _bodyForeground2.default).directive('ganttBodyRows', _bodyRows2.default).directive('ganttColumn', _column2.default).directive('ganttColumnHeader', _columnHeader2.default).directive('ganttHeader', _header2.default).directive('ganttHeaderColumns', _headerColumns2.default).directive('ganttRow', _row2.default).directive('ganttRowBackground', _rowBackground2.default).directive('ganttRowLabel', _rowLabel2.default).directive('ganttScrollableHeader', _scrollableHeader2.default).directive('ganttSide', _side2.default).directive('ganttSideBackground', _sideBackground2.default).directive('ganttSideContent', _sideContent2.default).directive('ganttTask', _task2.default).directive('ganttTaskBackground', _taskBackground2.default).directive('ganttTaskContent', _taskContent2.default).directive('ganttTaskForeground', _taskForeground2.default).directive('ganttTimeFrame', _timeFrame2.default).directive('ganttTimespan', _timespan2.default).factory('GanttDirectiveBuilder', _directiveBuilder2.default).factory('Gantt', _gantt4.default).factory('GanttApi', _api2.default).factory('GanttOptions', _options2.default).factory('GanttCalendar', _calendar2.default).factory('GanttScroll', _scroll2.default).factory('GanttBody', _body4.default).factory('GanttBodyColumns', _bodyColumns4.default).factory('GanttBodyRows', _bodyRows4.default).factory('GanttBodyBackground', _bodyBackground4.default).factory('GanttBodyForeground', _bodyForeground4.default).factory('GanttHeader', _header4.default).factory('GanttHeaderColumns', _headerColumns4.default).factory('GanttSide', _side4.default).factory('GanttObjectModel', _objectModel2.default).factory('GanttTask', _task4.default).factory('GanttRow', _row4.default).factory('GanttRowsManager', _rowsManager2.default).factory('GanttColumn', _column4.default).factory('GanttColumnHeader', _columnHeader4.default).factory('GanttColumnBuilder', _columnBuilder2.default).factory('GanttColumnsManager', _columnsManager2.default).factory('GanttTimespan', _timespan4.default).factory('GanttTimespansManager', _timespansManager2.default).factory('GanttCurrentDateManager', _currentDateManager2.default).factory('GanttHierarchy', _hierarchy2.default).factory('ganttDebounce', _debounce2.default).factory('GanttSmartEvent', _smartEvent2.default).service('ganttEnableNgAnimate', _enableNgAnimate2.default).service('ganttUtils', _utils2.default).service('ganttArrays', _arrays2.default).service('ganttBinarySearch', _binarySearch2.default).service('ganttLayout', _layout2.default).service('GanttHeadersGenerator', _headersGenerator2.default).service('GanttColumnGenerator', _columnGenerator2.default).service('ganttDom', _dom2.default).service('ganttMouseButton', _mouseButton2.default).service('ganttMouseOffset', _mouseOffset2.default).filter('ganttColumnLimit', _columnLimit2.default).filter('ganttTaskLimit', _taskLimit2.default);\nexports.default = _module;\n\n/***/ }),\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttColumn = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttColumn;\n};\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttColumn = exports.GanttColumn = function () {\n    function GanttColumn(date, endDate, left, width, calendar, timeFramesWorkingMode, timeFramesNonWorkingMode) {\n        (0, _classCallCheck3.default)(this, GanttColumn);\n\n        this.timeFrames = [];\n        this.visibleTimeFrames = [];\n        this.daysTimeFrames = {};\n        this.currentDate = false;\n        this.cropped = false;\n        this.date = date;\n        this.endDate = endDate;\n        this.left = left;\n        this.width = width;\n        this.calendar = calendar;\n        this.duration = this.endDate.diff(this.date, 'milliseconds');\n        this.timeFramesWorkingMode = timeFramesWorkingMode;\n        this.timeFramesNonWorkingMode = timeFramesNonWorkingMode;\n        this.timeFrames = [];\n        this.visibleTimeFrames = [];\n        this.daysTimeFrames = {};\n        this.originalSize = { left: this.left, width: this.width };\n        this.updateTimeFrames();\n    }\n\n    (0, _createClass3.default)(GanttColumn, [{\n        key: 'getDateKey',\n        value: function getDateKey(date) {\n            return date.year() + '-' + date.month() + '-' + date.date();\n        }\n    }, {\n        key: 'updateView',\n        value: function updateView() {\n            if (this.$element) {\n                if (this.currentDate) {\n                    this.$element.addClass('gantt-foreground-col-current-date');\n                } else {\n                    this.$element.removeClass('gantt-foreground-col-current-date');\n                }\n                this.$element.css({ 'left': this.left + 'px', 'width': this.width + 'px' });\n                this.timeFrames.forEach(function (timeFrame) {\n                    return timeFrame.updateView();\n                });\n            }\n        }\n    }, {\n        key: 'updateTimeFrames',\n        value: function updateTimeFrames() {\n            if (this.calendar !== undefined && (this.timeFramesNonWorkingMode !== 'hidden' || this.timeFramesWorkingMode !== 'hidden')) {\n                var cDate = this.date;\n                var cDateStartOfDay = (0, _moment2.default)(cDate).startOf('day');\n                var cDateNextDay = cDateStartOfDay.add(1, 'day');\n                var i = void 0;\n                while (cDate < this.endDate) {\n                    var timeFrames = this.calendar.getTimeFrames(cDate);\n                    var nextCDate = _moment2.default.min(cDateNextDay, this.endDate);\n                    timeFrames = this.calendar.solve(timeFrames, cDate, nextCDate);\n                    var cTimeFrames = [];\n                    for (i = 0; i < timeFrames.length; i++) {\n                        var cTimeFrame = timeFrames[i];\n                        var start = cTimeFrame.start;\n                        if (start === undefined) {\n                            start = cDate;\n                        }\n                        var end = cTimeFrame.end;\n                        if (end === undefined) {\n                            end = nextCDate;\n                        }\n                        if (start < this.date) {\n                            start = this.date;\n                        }\n                        if (end > this.endDate) {\n                            end = this.endDate;\n                        }\n                        cTimeFrame = cTimeFrame.clone();\n                        cTimeFrame.start = (0, _moment2.default)(start);\n                        cTimeFrame.end = (0, _moment2.default)(end);\n                        cTimeFrames.push(cTimeFrame);\n                    }\n                    this.timeFrames = this.timeFrames.concat(cTimeFrames);\n                    var cDateKey = this.getDateKey(cDate);\n                    this.daysTimeFrames[cDateKey] = cTimeFrames;\n                    cDate = nextCDate;\n                    cDateStartOfDay = (0, _moment2.default)(cDate).startOf('day');\n                    cDateNextDay = cDateStartOfDay.add(1, 'day');\n                }\n                for (i = 0; i < this.timeFrames.length; i++) {\n                    var timeFrame = this.timeFrames[i];\n                    var positionDuration = timeFrame.start.diff(this.date, 'milliseconds');\n                    var position = positionDuration / this.duration * this.width;\n                    var timeFrameDuration = timeFrame.end.diff(timeFrame.start, 'milliseconds');\n                    var timeFramePosition = timeFrameDuration / this.duration * this.width;\n                    var hidden = false;\n                    if (timeFrame.working && this.timeFramesWorkingMode !== 'visible') {\n                        hidden = true;\n                    } else if (!timeFrame.working && this.timeFramesNonWorkingMode !== 'visible') {\n                        hidden = true;\n                    }\n                    if (!hidden) {\n                        this.visibleTimeFrames.push(timeFrame);\n                    }\n                    timeFrame.hidden = hidden;\n                    timeFrame.left = position;\n                    timeFrame.width = timeFramePosition;\n                    timeFrame.originalSize = { left: timeFrame.left, width: timeFrame.width };\n                }\n                if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\n                    var timeFramesWidth = 0;\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = (0, _getIterator3.default)(this.timeFrames), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var aTimeFrame = _step.value;\n\n                            if (!aTimeFrame.working && this.timeFramesNonWorkingMode !== 'cropped' || aTimeFrame.working && this.timeFramesWorkingMode !== 'cropped') {\n                                timeFramesWidth += aTimeFrame.width;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    if (timeFramesWidth !== this.width) {\n                        var croppedRatio = this.width / timeFramesWidth;\n                        var croppedWidth = 0;\n                        var originalCroppedWidth = 0;\n                        var allCropped = true;\n                        var _iteratorNormalCompletion2 = true;\n                        var _didIteratorError2 = false;\n                        var _iteratorError2 = undefined;\n\n                        try {\n                            for (var _iterator2 = (0, _getIterator3.default)(this.timeFrames), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var bTimeFrame = _step2.value;\n\n                                if (!bTimeFrame.working && this.timeFramesNonWorkingMode !== 'cropped' || bTimeFrame.working && this.timeFramesWorkingMode !== 'cropped') {\n                                    bTimeFrame.left = (bTimeFrame.left - croppedWidth) * croppedRatio;\n                                    bTimeFrame.width = bTimeFrame.width * croppedRatio;\n                                    bTimeFrame.originalSize.left = (bTimeFrame.originalSize.left - originalCroppedWidth) * croppedRatio;\n                                    bTimeFrame.originalSize.width = bTimeFrame.originalSize.width * croppedRatio;\n                                    bTimeFrame.cropped = false;\n                                    allCropped = false;\n                                } else {\n                                    croppedWidth += bTimeFrame.width;\n                                    originalCroppedWidth += bTimeFrame.originalSize.width;\n                                    bTimeFrame.left = undefined;\n                                    bTimeFrame.width = 0;\n                                    bTimeFrame.originalSize = { left: undefined, width: 0 };\n                                    bTimeFrame.cropped = true;\n                                }\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n                            } finally {\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n\n                        this.cropped = allCropped;\n                    } else {\n                        this.cropped = false;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new GanttColumn((0, _moment2.default)(this.date), (0, _moment2.default)(this.endDate), this.left, this.width, this.calendar);\n        }\n    }, {\n        key: 'containsDate',\n        value: function containsDate(date) {\n            return date > this.date && date <= this.endDate;\n        }\n    }, {\n        key: 'equals',\n        value: function equals(other) {\n            return this.date === other.date;\n        }\n    }, {\n        key: 'roundTo',\n        value: function roundTo(date, unit, offset, midpoint) {\n            if (unit === 'day') {\n                unit = 'date';\n            }\n            offset = offset || 1;\n            var value = date.get(unit);\n            switch (midpoint) {\n                case 'up':\n                    value = Math.ceil(value / offset);\n                    break;\n                case 'down':\n                    value = Math.floor(value / offset);\n                    break;\n                default:\n                    value = Math.round(value / offset);\n                    break;\n            }\n            var units = ['millisecond', 'second', 'minute', 'hour', 'date', 'month', 'year'];\n            date.set(unit, value * offset);\n            var indexOf = units.indexOf(unit);\n            for (var i = 0; i < indexOf; i++) {\n                date.set(units[i], 0);\n            }\n            return date;\n        }\n    }, {\n        key: 'getMagnetDate',\n        value: function getMagnetDate(date, magnetValue, magnetUnit, timeFramesMagnet) {\n            if (magnetValue > 0 && magnetUnit !== undefined) {\n                var initialDate = date;\n                date = (0, _moment2.default)(date);\n                if (magnetUnit === 'column') {\n                    var position = this.getPositionByDate(date);\n                    if (position < this.width / 2) {\n                        date = (0, _moment2.default)(this.date);\n                    } else {\n                        date = (0, _moment2.default)(this.endDate);\n                    }\n                } else {\n                    date = this.roundTo(date, magnetUnit, magnetValue);\n\n                    if (date < this.date) {\n                        date = (0, _moment2.default)(this.date);\n                    } else if (date > this.endDate) {\n                        date = (0, _moment2.default)(this.endDate);\n                    }\n                }\n                if (timeFramesMagnet) {\n                    var maxTimeFrameDiff = Math.abs(initialDate.diff(date, 'milliseconds'));\n                    var currentTimeFrameDiff = void 0;\n                    for (var i = 0; i < this.timeFrames.length; i++) {\n                        var timeFrame = this.timeFrames[i];\n                        if (timeFrame.magnet) {\n                            var previousTimeFrame = this.timeFrames[i - 1];\n                            var nextTimeFrame = this.timeFrames[i + 1];\n                            var timeFrameDiff = void 0;\n                            if (previousTimeFrame === undefined || previousTimeFrame.working !== timeFrame.working) {\n                                timeFrameDiff = Math.abs(initialDate.diff(timeFrame.start, 'milliseconds'));\n                                if (timeFrameDiff < maxTimeFrameDiff && (currentTimeFrameDiff === undefined || timeFrameDiff < currentTimeFrameDiff)) {\n                                    currentTimeFrameDiff = timeFrameDiff;\n                                    date = timeFrame.start;\n                                }\n                            }\n                            if (nextTimeFrame === undefined || nextTimeFrame.working !== timeFrame.working) {\n                                timeFrameDiff = Math.abs(initialDate.diff(timeFrame.end, 'milliseconds'));\n                                if (timeFrameDiff < maxTimeFrameDiff && (currentTimeFrameDiff === undefined || timeFrameDiff < currentTimeFrameDiff)) {\n                                    currentTimeFrameDiff = timeFrameDiff;\n                                    date = timeFrame.end;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            return date;\n        }\n    }, {\n        key: 'getDateByPositionUsingTimeFrames',\n        value: function getDateByPositionUsingTimeFrames(position) {\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = (0, _getIterator3.default)(this.timeFrames), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var timeFrame = _step3.value;\n\n                    if (!timeFrame.cropped && position >= timeFrame.left && position <= timeFrame.left + timeFrame.width) {\n                        var positionDuration = timeFrame.getDuration() / timeFrame.width * (position - timeFrame.left);\n                        var date = (0, _moment2.default)(timeFrame.start).add(positionDuration, 'milliseconds');\n                        return date;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'getDateByPosition',\n        value: function getDateByPosition(position, magnetValue, magnetUnit, timeFramesMagnet) {\n            var date = void 0;\n            if (position < 0) {\n                position = 0;\n            }\n            if (position > this.width) {\n                position = this.width;\n            }\n            if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\n                date = this.getDateByPositionUsingTimeFrames(position);\n            }\n            if (date === undefined) {\n                var positionDuration = this.duration / this.width * position;\n                date = (0, _moment2.default)(this.date).add(positionDuration, 'milliseconds');\n            }\n            date = this.getMagnetDate(date, magnetValue, magnetUnit, timeFramesMagnet);\n            return date;\n        }\n    }, {\n        key: 'getDayTimeFrame',\n        value: function getDayTimeFrame(date) {\n            var dtf = this.daysTimeFrames[this.getDateKey(date)];\n            if (dtf === undefined) {\n                return [];\n            }\n            return dtf;\n        }\n    }, {\n        key: 'getPositionByDate',\n        value: function getPositionByDate(date) {\n            var croppedDate = date;\n            if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\n                var timeFrames = this.getDayTimeFrame(croppedDate);\n                for (var i = 0; i < timeFrames.length; i++) {\n                    var timeFrame = timeFrames[i];\n                    if (croppedDate >= timeFrame.start && croppedDate <= timeFrame.end) {\n                        if (timeFrame.cropped) {\n                            if (timeFrames.length > i + 1) {\n                                croppedDate = timeFrames[i + 1].start;\n                            } else {\n                                croppedDate = timeFrame.end;\n                            }\n                        } else {\n                            var _positionDuration = croppedDate.diff(timeFrame.start, 'milliseconds');\n                            var _position = _positionDuration / timeFrame.getDuration() * timeFrame.width;\n                            return this.left + timeFrame.left + _position;\n                        }\n                    }\n                }\n            }\n            var positionDuration = croppedDate.diff(this.date, 'milliseconds');\n            var position = positionDuration / this.duration * this.width;\n            if (position < 0) {\n                position = 0;\n            }\n            if (position > this.width) {\n                position = this.width;\n            }\n            return this.left + position;\n        }\n    }]);\n    return GanttColumn;\n}();\n\n/***/ }),\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttApi = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"$q\", \"$rootScope\", \"ganttUtils\", function ($q, $rootScope, ganttUtils) {\n    'ngInject';\n\n    GanttApi.$q = $q;\n    GanttApi.$rootScope = $rootScope;\n    GanttApi.ganttUtils = ganttUtils;\n    return GanttApi;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttApi = exports.GanttApi = function () {\n    function GanttApi(gantt) {\n        (0, _classCallCheck3.default)(this, GanttApi);\n\n        this.gantt = gantt;\n        this.listeners = [];\n        this.apiId = GanttApi.ganttUtils.newId();\n    }\n\n    (0, _createClass3.default)(GanttApi, [{\n        key: 'registerEventWithAngular',\n        value: function registerEventWithAngular(eventId, handler, gantt, _this) {\n            return GanttApi.$rootScope.$on(eventId, function () {\n                var args = Array.prototype.slice.call(arguments);\n                args.splice(0, 1);\n                handler.apply(_this ? _this : gantt.api, args);\n            });\n        }\n    }, {\n        key: 'suppressEvents',\n        value: function suppressEvents(listenerFuncs, callBackFn) {\n            var _this2 = this;\n\n            var listeners = Array.isArray(listenerFuncs) ? listenerFuncs : [listenerFuncs];\n\n            var foundListeners = [];\n            listeners.forEach(function (l) {\n                foundListeners = _this2.listeners.filter(function (lstnr) {\n                    return l === lstnr.handler;\n                });\n            });\n\n            foundListeners.forEach(function (l) {\n                return l.dereg();\n            });\n            callBackFn();\n\n            foundListeners.forEach(function (l) {\n                l.dereg = _this2.registerEventWithAngular(l.eventId, l.handler, _this2.gantt, l._this);\n            });\n        }\n    }, {\n        key: 'registerEvent',\n        value: function registerEvent(featureName, eventName) {\n            var _this3 = this;\n\n            if (!this[featureName]) {\n                this[featureName] = {};\n            }\n            var feature = this[featureName];\n            if (!feature.on) {\n                feature.on = {};\n                feature.raise = {};\n            }\n            var eventId = 'event:gantt:' + this.apiId + ':' + featureName + ':' + eventName;\n\n            feature.raise[eventName] = function () {\n                GanttApi.$rootScope.$emit.apply(GanttApi.$rootScope, [eventId].concat(Array.prototype.slice.call(arguments)));\n            };\n\n            feature.on[eventName] = function (scope, handler, _this) {\n                var deregAngularOn = _this3.registerEventWithAngular(eventId, handler, _this3.gantt, _this);\n\n                var listener = {\n                    handler: handler,\n                    dereg: deregAngularOn,\n                    eventId: eventId,\n                    scope: scope,\n                    _this: _this\n                };\n                _this3.listeners.push(listener);\n                var removeListener = function removeListener() {\n                    listener.dereg();\n                    var index = _this3.listeners.indexOf(listener);\n                    _this3.listeners.splice(index, 1);\n                };\n\n                scope.$on('$destroy', function () {\n                    removeListener();\n                });\n                return removeListener;\n            };\n        }\n    }, {\n        key: 'registerEventsFromObject',\n        value: function registerEventsFromObject(eventObjectMap) {\n            var _this4 = this;\n\n            var features = [];\n            for (var featPropName in eventObjectMap) {\n                var featProp = eventObjectMap[featPropName];\n                var feature = { name: featPropName, events: [] };\n                for (var propName in featProp) {\n                    feature.events.push(propName);\n                }\n                features.push(feature);\n            }\n\n            var _loop = function _loop(_feature) {\n                _feature.events.forEach(function (event) {\n                    _this4.registerEvent(_feature.name, event);\n                });\n            };\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(features), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var _feature = _step.value;\n\n                    _loop(_feature);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'registerMethod',\n        value: function registerMethod(featureName, methodName, callBackFn, _this) {\n            if (!this[featureName]) {\n                this[featureName] = {};\n            }\n            var feature = this[featureName];\n            feature[methodName] = GanttApi.ganttUtils.createBoundedWrapper(_this || this.gantt, callBackFn);\n        }\n    }, {\n        key: 'registerMethodsFromObject',\n        value: function registerMethodsFromObject(methodMap, _this) {\n            var features = [];\n            for (var featPropName in methodMap) {\n                var featProp = methodMap[featPropName];\n                var feature = { name: featPropName, methods: [] };\n                for (var propName in featProp) {\n                    var prop = featProp[propName];\n                    feature.methods.push({ name: propName, fn: prop });\n                }\n                features.push(feature);\n            }\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = (0, _getIterator3.default)(features), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var _feature2 = _step2.value;\n                    var _iteratorNormalCompletion3 = true;\n                    var _didIteratorError3 = false;\n                    var _iteratorError3 = undefined;\n\n                    try {\n                        for (var _iterator3 = (0, _getIterator3.default)(_feature2.methods), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                            var method = _step3.value;\n\n                            this.registerMethod(_feature2.name, method.name, method.fn, _this);\n                        }\n                    } catch (err) {\n                        _didIteratorError3 = true;\n                        _iteratorError3 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                _iterator3.return();\n                            }\n                        } finally {\n                            if (_didIteratorError3) {\n                                throw _iteratorError3;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    }]);\n    return GanttApi;\n}();\n\n/***/ }),\n/* 167 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttOptions = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttOptions;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttOptions = exports.GanttOptions = function () {\n    function GanttOptions(values, defaultValues) {\n        (0, _classCallCheck3.default)(this, GanttOptions);\n\n        this.defaultValues = defaultValues;\n        this.values = values;\n    }\n\n    (0, _createClass3.default)(GanttOptions, [{\n        key: 'defaultValue',\n        value: function defaultValue(optionName) {\n            var defaultValue = this.defaultValues[optionName];\n            if (typeof defaultValue === 'function') {\n                defaultValue = defaultValue();\n            }\n            return defaultValue;\n        }\n    }, {\n        key: 'sanitize',\n        value: function sanitize(optionName, optionValue) {\n            if (!optionValue) {\n                var defaultValue = this.defaultValue(optionName);\n                if (defaultValue !== undefined) {\n                    if (optionValue !== undefined && typeof defaultValue === 'boolean') {\n                        return optionValue;\n                    }\n                    return defaultValue;\n                }\n            }\n            return optionValue;\n        }\n    }, {\n        key: 'value',\n        value: function value(optionName) {\n            return this.sanitize(optionName, this.values[optionName]);\n        }\n    }, {\n        key: 'set',\n        value: function set(optionName, optionValue) {\n            this.values[optionName] = optionValue;\n        }\n    }, {\n        key: 'initialize',\n        value: function initialize() {\n            for (var optionName in this.values) {\n                if (this.values.hasOwnProperty(optionName)) {\n                    this.values[optionName] = this.value(optionName);\n                }\n            }\n            return this.values;\n        }\n    }]);\n    return GanttOptions;\n}();\n\n/***/ }),\n/* 168 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttCalendar = exports.DateFrame = exports.TimeFrameMapping = exports.TimeFrame = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"$filter\", function ($filter) {\n    'ngInject';\n\n    GanttCalendar.$filter = $filter;\n    return GanttCalendar;\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TimeFrame = exports.TimeFrame = function () {\n    function TimeFrame(options) {\n        (0, _classCallCheck3.default)(this, TimeFrame);\n\n        if (options === undefined) {\n            options = {};\n        }\n        this.start = options.start;\n        this.end = options.end;\n        this.working = options.working;\n        this.magnet = options.magnet !== undefined ? options.magnet : true;\n        this.default = options.default;\n        this.color = options.color;\n        this.classes = options.classes;\n        this.internal = options.internal;\n    }\n\n    (0, _createClass3.default)(TimeFrame, [{\n        key: 'updateView',\n        value: function updateView() {\n            if (this.$element) {\n                var cssStyles = {};\n                if (this.left !== undefined) {\n                    cssStyles['left'] = this.left + 'px';\n                } else {\n                    cssStyles['left'] = '';\n                }\n                if (this.width !== undefined) {\n                    cssStyles['width'] = this.width + 'px';\n                } else {\n                    cssStyles['width'] = '';\n                }\n                cssStyles['opacity'] = 0.3;\n                if (this.color !== undefined) {\n                    cssStyles['background-color'] = this.color;\n                } else {\n                    cssStyles['background-color'] = '';\n                }\n                this.$element.css(cssStyles);\n                var classes = ['gantt-timeframe' + (this.working ? '' : '-non') + '-working'];\n                if (this.classes) {\n                    classes = classes.concat(this.classes);\n                }\n\n                for (var i = 0, l = classes.length; i < l; i++) {\n                    this.$element.toggleClass(classes[i], true);\n                }\n            }\n        }\n    }, {\n        key: 'getDuration',\n        value: function getDuration() {\n            if (this.end !== undefined && this.start !== undefined) {\n                return this.end.diff(this.start, 'milliseconds');\n            }\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new TimeFrame(this);\n        }\n    }]);\n    return TimeFrame;\n}();\n\nvar TimeFrameMapping = exports.TimeFrameMapping = function () {\n    function TimeFrameMapping(func) {\n        (0, _classCallCheck3.default)(this, TimeFrameMapping);\n\n        this.func = func;\n    }\n\n    (0, _createClass3.default)(TimeFrameMapping, [{\n        key: 'getTimeFrames',\n        value: function getTimeFrames(date) {\n            var ret = this.func(date);\n            if (!(ret instanceof Array)) {\n                ret = [ret];\n            }\n            return ret;\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new TimeFrameMapping(this.func);\n        }\n    }]);\n    return TimeFrameMapping;\n}();\n\nvar DateFrame = exports.DateFrame = function () {\n    function DateFrame(options) {\n        (0, _classCallCheck3.default)(this, DateFrame);\n\n        this.evaluator = options.evaluator;\n        if (options.date) {\n            this.start = (0, _moment2.default)(options.date).startOf('day');\n            this.end = (0, _moment2.default)(options.date).endOf('day');\n        } else {\n            this.start = options.start;\n            this.end = options.end;\n        }\n        if (options.targets instanceof Array) {\n            this.targets = options.targets;\n        } else {\n            this.targets = [options.targets];\n        }\n        this.default = options.default;\n    }\n\n    (0, _createClass3.default)(DateFrame, [{\n        key: 'dateMatch',\n        value: function dateMatch(date) {\n            if (this.evaluator) {\n                return this.evaluator(date);\n            } else if (this.start && this.end) {\n                return date >= this.start && date <= this.end;\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new DateFrame(this);\n        }\n    }]);\n    return DateFrame;\n}();\n\nvar GanttCalendar = exports.GanttCalendar = function () {\n    function GanttCalendar() {\n        (0, _classCallCheck3.default)(this, GanttCalendar);\n\n        this.timeFrames = {};\n        this.timeFrameMappings = {};\n        this.dateFrames = {};\n    }\n\n    (0, _createClass3.default)(GanttCalendar, [{\n        key: 'clear',\n        value: function clear() {\n            this.timeFrames = {};\n            this.timeFrameMappings = {};\n            this.dateFrames = {};\n        }\n    }, {\n        key: 'registerTimeFrames',\n        value: function registerTimeFrames(timeFrames) {\n            for (var name in timeFrames) {\n                var timeFrame = timeFrames[name];\n                this.timeFrames[name] = new TimeFrame(timeFrame);\n            }\n        }\n    }, {\n        key: 'removeTimeFrames',\n        value: function removeTimeFrames(timeFrames) {\n            for (var name in timeFrames) {\n                delete this.timeFrames[name];\n            }\n        }\n    }, {\n        key: 'clearTimeFrames',\n        value: function clearTimeFrames() {\n            this.timeFrames = {};\n        }\n    }, {\n        key: 'registerTimeFrameMappings',\n        value: function registerTimeFrameMappings(mappings) {\n            for (var name in mappings) {\n                var timeFrameMapping = mappings[name];\n                this.timeFrameMappings[name] = new TimeFrameMapping(timeFrameMapping);\n            }\n        }\n    }, {\n        key: 'removeTimeFrameMappings',\n        value: function removeTimeFrameMappings(mappings) {\n            for (var name in mappings) {\n                delete this.timeFrameMappings[name];\n            }\n        }\n    }, {\n        key: 'clearTimeFrameMappings',\n        value: function clearTimeFrameMappings() {\n            this.timeFrameMappings = {};\n        }\n    }, {\n        key: 'registerDateFrames',\n        value: function registerDateFrames(dateFrames) {\n            for (var name in dateFrames) {\n                var dateFrame = dateFrames[name];\n                this.dateFrames[name] = new DateFrame(dateFrame);\n            }\n        }\n    }, {\n        key: 'removeDateFrames',\n        value: function removeDateFrames(dateFrames) {\n            for (var name in dateFrames) {\n                delete this.dateFrames[name];\n            }\n        }\n    }, {\n        key: 'clearDateFrames',\n        value: function clearDateFrames() {\n            this.dateFrames = {};\n        }\n    }, {\n        key: 'filterDateFrames',\n        value: function filterDateFrames(inputDateFrames, date) {\n            var dateFrames = [];\n            for (var name in inputDateFrames) {\n                var dateFrame = inputDateFrames[name];\n                if (dateFrame.dateMatch(date)) {\n                    dateFrames.push(dateFrame);\n                }\n            }\n            if (dateFrames.length === 0) {\n                for (var _name in inputDateFrames) {\n                    var _dateFrame = inputDateFrames[_name];\n                    if (_dateFrame.default) {\n                        dateFrames.push(_dateFrame);\n                    }\n                }\n            }\n            return dateFrames;\n        }\n    }, {\n        key: 'getTimeFrames',\n        value: function getTimeFrames(date) {\n            var timeFrames = [];\n            var dateFrames = this.filterDateFrames(this.dateFrames, date);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(dateFrames), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var dateFrame = _step.value;\n\n                    if (dateFrame !== undefined) {\n                        var targets = dateFrame.targets;\n                        var _iteratorNormalCompletion2 = true;\n                        var _didIteratorError2 = false;\n                        var _iteratorError2 = undefined;\n\n                        try {\n                            for (var _iterator2 = (0, _getIterator3.default)(targets), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var target = _step2.value;\n\n                                var timeFrameMapping = this.timeFrameMappings[target];\n                                if (timeFrameMapping !== undefined) {\n                                    var names = timeFrameMapping.getTimeFrames(date);\n                                    var _iteratorNormalCompletion3 = true;\n                                    var _didIteratorError3 = false;\n                                    var _iteratorError3 = undefined;\n\n                                    try {\n                                        for (var _iterator3 = (0, _getIterator3.default)(names), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                                            var _name3 = _step3.value;\n\n                                            var _timeFrame2 = this.timeFrames[_name3];\n                                            timeFrames.push(_timeFrame2);\n                                        }\n                                    } catch (err) {\n                                        _didIteratorError3 = true;\n                                        _iteratorError3 = err;\n                                    } finally {\n                                        try {\n                                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                                _iterator3.return();\n                                            }\n                                        } finally {\n                                            if (_didIteratorError3) {\n                                                throw _iteratorError3;\n                                            }\n                                        }\n                                    }\n                                } else {\n                                    var _timeFrame3 = this.timeFrames[target];\n                                    if (_timeFrame3 !== undefined) {\n                                        timeFrames.push(_timeFrame3);\n                                    }\n                                }\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n                            } finally {\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            var dateYear = date.year();\n            var dateMonth = date.month();\n            var dateDate = date.date();\n            var validatedTimeFrames = [];\n            if (timeFrames.length === 0) {\n                for (var name in this.timeFrames) {\n                    var timeFrame = this.timeFrames[name];\n                    if (timeFrame.default) {\n                        timeFrames.push(timeFrame);\n                    }\n                }\n            }\n            for (var _name2 in timeFrames) {\n                var _timeFrame = timeFrames[_name2];\n                var cTimeFrame = _timeFrame.clone();\n                if (cTimeFrame.start !== undefined) {\n                    cTimeFrame.start.year(dateYear);\n                    cTimeFrame.start.month(dateMonth);\n                    cTimeFrame.start.date(dateDate);\n                }\n                if (cTimeFrame.end !== undefined) {\n                    cTimeFrame.end.year(dateYear);\n                    cTimeFrame.end.month(dateMonth);\n                    cTimeFrame.end.date(dateDate);\n                    if ((0, _moment2.default)(cTimeFrame.end).startOf('day') === cTimeFrame.end) {\n                        cTimeFrame.end.add(1, 'day');\n                    }\n                }\n                validatedTimeFrames.push(cTimeFrame);\n            }\n            return validatedTimeFrames;\n        }\n    }, {\n        key: 'solve',\n        value: function solve(timeFrames, startDate, endDate) {\n            var color = void 0;\n            var classes = void 0;\n            var minDate = void 0;\n            var maxDate = void 0;\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(timeFrames), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var timeFrame = _step4.value;\n\n                    if (minDate === undefined || minDate > timeFrame.start) {\n                        minDate = timeFrame.start;\n                    }\n                    if (maxDate === undefined || maxDate < timeFrame.end) {\n                        maxDate = timeFrame.end;\n                    }\n                    if (color === undefined && timeFrame.color) {\n                        color = timeFrame.color;\n                    }\n                    if (timeFrame.classes !== undefined) {\n                        if (classes === undefined) {\n                            classes = [];\n                        }\n                        classes = classes.concat(timeFrame.classes);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            if (startDate === undefined) {\n                startDate = minDate;\n            }\n            if (endDate === undefined) {\n                endDate = maxDate;\n            }\n            var solvedTimeFrames = [new TimeFrame({ start: startDate, end: endDate, internal: true })];\n            timeFrames = GanttCalendar.$filter('filter')(timeFrames, function (timeFrame) {\n                return (timeFrame.start === undefined || timeFrame.start < endDate) && (timeFrame.end === undefined || timeFrame.end > startDate);\n            });\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = (0, _getIterator3.default)(timeFrames), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var _timeFrame4 = _step5.value;\n\n                    if (!_timeFrame4.start) {\n                        _timeFrame4.start = startDate;\n                    }\n                    if (!_timeFrame4.end) {\n                        _timeFrame4.end = endDate;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            var orderedTimeFrames = GanttCalendar.$filter('orderBy')(timeFrames, function (timeFrame) {\n                return -timeFrame.getDuration();\n            });\n            var k = void 0;\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n                for (var _iterator6 = (0, _getIterator3.default)(orderedTimeFrames), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                    var oTimeFrame = _step6.value;\n\n                    var tmpSolvedTimeFrames = solvedTimeFrames.slice();\n                    k = 0;\n                    var dispatched = false;\n                    var treated = false;\n                    var _iteratorNormalCompletion7 = true;\n                    var _didIteratorError7 = false;\n                    var _iteratorError7 = undefined;\n\n                    try {\n                        for (var _iterator7 = (0, _getIterator3.default)(solvedTimeFrames), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                            var sTimeFrame = _step7.value;\n\n                            if (!treated) {\n                                if (!oTimeFrame.end && !oTimeFrame.start) {\n                                    tmpSolvedTimeFrames.splice(k, 0, oTimeFrame);\n                                    treated = true;\n                                    dispatched = false;\n                                } else if (oTimeFrame.end > sTimeFrame.start && oTimeFrame.start < sTimeFrame.end) {\n                                    var newSolvedTimeFrame = sTimeFrame.clone();\n                                    sTimeFrame.end = (0, _moment2.default)(oTimeFrame.start);\n                                    newSolvedTimeFrame.start = (0, _moment2.default)(oTimeFrame.end);\n                                    tmpSolvedTimeFrames.splice(k + 1, 0, oTimeFrame.clone(), newSolvedTimeFrame);\n                                    treated = true;\n                                    dispatched = false;\n                                } else if (!dispatched && oTimeFrame.start < sTimeFrame.end) {\n                                    sTimeFrame.end = (0, _moment2.default)(oTimeFrame.start);\n                                    tmpSolvedTimeFrames.splice(k + 1, 0, oTimeFrame.clone());\n                                    dispatched = true;\n                                } else if (dispatched && oTimeFrame.end > sTimeFrame.start) {\n                                    sTimeFrame.start = (0, _moment2.default)(oTimeFrame.end);\n                                    dispatched = false;\n                                    treated = true;\n                                }\n                                k++;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError7 = true;\n                        _iteratorError7 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                                _iterator7.return();\n                            }\n                        } finally {\n                            if (_didIteratorError7) {\n                                throw _iteratorError7;\n                            }\n                        }\n                    }\n\n                    solvedTimeFrames = tmpSolvedTimeFrames;\n                }\n            } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                        _iterator6.return();\n                    }\n                } finally {\n                    if (_didIteratorError6) {\n                        throw _iteratorError6;\n                    }\n                }\n            }\n\n            solvedTimeFrames = GanttCalendar.$filter('filter')(solvedTimeFrames, function (timeFrame) {\n                return !timeFrame.internal && (timeFrame.start === undefined || timeFrame.start < endDate) && (timeFrame.end === undefined || timeFrame.end > startDate);\n            });\n            return solvedTimeFrames;\n        }\n    }]);\n    return GanttCalendar;\n}();\n\n/***/ }),\n/* 169 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttCurrentDateManager = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttCurrentDateManager;\n};\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttCurrentDateManager = exports.GanttCurrentDateManager = function () {\n    function GanttCurrentDateManager(gantt) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, GanttCurrentDateManager);\n\n        this.gantt = gantt;\n        this.date = undefined;\n        this.position = undefined;\n        this.currentDateColumn = undefined;\n        this.gantt.$scope.simplifyMoment = function (d) {\n            return _moment2.default.isMoment(d) ? d.unix() : d;\n        };\n        this.gantt.$scope.$watchGroup(['currentDate', 'simplifyMoment(currentDateValue)'], function (newValues, oldValues) {\n            if (newValues !== oldValues) {\n                _this.setCurrentDate(_this.gantt.options.value('currentDateValue'));\n            }\n        });\n    }\n\n    (0, _createClass3.default)(GanttCurrentDateManager, [{\n        key: 'setCurrentDate',\n        value: function setCurrentDate(currentDate) {\n            this.date = currentDate;\n            var oldColumn = this.currentDateColumn;\n            var newColumn = void 0;\n            if (this.date !== undefined && this.gantt.options.value('currentDate') === 'column') {\n                newColumn = this.gantt.columnsManager.getColumnByDate(this.date, true);\n            }\n            this.currentDateColumn = newColumn;\n            if (oldColumn !== newColumn) {\n                if (oldColumn !== undefined) {\n                    oldColumn.currentDate = false;\n                    oldColumn.updateView();\n                }\n                if (newColumn !== undefined) {\n                    newColumn.currentDate = true;\n                    newColumn.updateView();\n                }\n            }\n            this.position = this.gantt.getPositionByDate(this.date, true);\n        }\n    }]);\n    return GanttCurrentDateManager;\n}();\n\n/***/ }),\n/* 170 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttColumnHeader = undefined;\n\nvar _getPrototypeOf = __webpack_require__(198);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(203);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(202);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttColumnHeader;\n};\n\nvar _column = __webpack_require__(36);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttColumnHeader = exports.GanttColumnHeader = function (_GanttColumn) {\n    (0, _inherits3.default)(GanttColumnHeader, _GanttColumn);\n\n    function GanttColumnHeader(date, endDate, viewScaleUnit, left, width, labelFormat, name) {\n        (0, _classCallCheck3.default)(this, GanttColumnHeader);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GanttColumnHeader.__proto__ || (0, _getPrototypeOf2.default)(GanttColumnHeader)).call(this, date, endDate, left, width));\n\n        _this.name = name;\n        _this.unit = viewScaleUnit;\n        _this.label = typeof labelFormat === 'function' ? labelFormat(_this) : date.format(labelFormat);\n        return _this;\n    }\n\n    return GanttColumnHeader;\n}(_column.GanttColumn);\n\n/***/ }),\n/* 171 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttColumnsManager = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttColumnGenerator\", \"GanttColumnBuilder\", \"GanttHeadersGenerator\", \"$filter\", \"ganttLayout\", \"ganttBinarySearch\", function (GanttColumnGenerator, GanttColumnBuilder, GanttHeadersGenerator, $filter, ganttLayout, ganttBinarySearch) {\n    'ngInject';\n\n    GanttColumnsManager.GanttColumnGenerator = GanttColumnGenerator;\n    GanttColumnsManager.GanttHeadersGenerator = GanttHeadersGenerator;\n    GanttColumnsManager.ganttBinarySearch = ganttBinarySearch;\n    GanttColumnsManager.GanttColumnBuilder = GanttColumnBuilder;\n    GanttColumnsManager.ganttLayout = ganttLayout;\n    GanttColumnsManager.$filter = $filter;\n    return GanttColumnsManager;\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttColumnsManager = exports.GanttColumnsManager = function () {\n    function GanttColumnsManager(gantt) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, GanttColumnsManager);\n\n        this.defaultHeadersFormats = {\n            year: 'YYYY',\n            quarter: '[Q]Q YYYY',\n            month: 'MMMM YYYY',\n            week: 'w',\n            day: 'D',\n            hour: 'H',\n            minute: 'H:mm',\n            second: 'H:mm:ss',\n            millisecond: 'H:mm:ss:SSS'\n        };\n        this.defaultDayHeadersFormats = { day: 'LL', hour: 'H', minute: 'H:mm', second: 'H:mm:ss', millisecond: 'H:mm:ss:SSS' };\n        this.defaultYearHeadersFormats = { 'year': 'YYYY', 'quarter': '[Q]Q', month: 'MMMM' };\n        this.gantt = gantt;\n        this.from = undefined;\n        this.to = undefined;\n        this.columns = [];\n        this.visibleColumns = [];\n        this.previousColumns = [];\n        this.nextColumns = [];\n        this.headers = [];\n        this.visibleHeaders = [];\n        this.scrollAnchor = undefined;\n        this.columnBuilder = new GanttColumnsManager.GanttColumnBuilder(this);\n\n        this.gantt.$scope.$watchGroup(['viewScale', 'columnWidth', 'timeFramesWorkingMode', 'timeFramesNonWorkingMode', 'fromDate', 'toDate', 'autoExpand', 'taskOutOfRange'], function (newValues, oldValues) {\n            if (newValues !== oldValues && _this.gantt.rendered) {\n                _this.generateColumns();\n            }\n        });\n        this.gantt.$scope.$watchCollection('headers', function (newValues, oldValues) {\n            if (newValues !== oldValues && _this.gantt.rendered) {\n                _this.generateColumns();\n            }\n        });\n        this.gantt.$scope.$watchCollection('headersFormats', function (newValues, oldValues) {\n            if (newValues !== oldValues && _this.gantt.rendered) {\n                _this.generateColumns();\n            }\n        });\n        this.gantt.$scope.$watchGroup(['ganttElementWidth', 'showSide', 'sideWidth', 'maxHeight', 'daily'], function (newValues, oldValues) {\n            if (newValues !== oldValues && _this.gantt.rendered) {\n                _this.updateColumnsMeta();\n            }\n        });\n        this.gantt.api.data.on.load(this.gantt.$scope, function () {\n            if ((_this.from === undefined || _this.to === undefined || _this.from > _this.gantt.rowsManager.getDefaultFrom() || _this.to < _this.gantt.rowsManager.getDefaultTo()) && _this.gantt.rendered) {\n                _this.generateColumns();\n            }\n            _this.gantt.rowsManager.sortRows();\n        });\n        this.gantt.api.data.on.remove(this.gantt.$scope, function () {\n            _this.gantt.rowsManager.sortRows();\n        });\n        this.gantt.api.registerMethod('columns', 'clear', this.clearColumns, this);\n        this.gantt.api.registerMethod('columns', 'generate', this.generateColumns, this);\n        this.gantt.api.registerMethod('columns', 'refresh', this.updateColumnsMeta, this);\n        this.gantt.api.registerMethod('columns', 'getColumnsWidth', this.getColumnsWidth, this);\n        this.gantt.api.registerMethod('columns', 'getColumnsWidthToFit', this.getColumnsWidthToFit, this);\n        this.gantt.api.registerMethod('columns', 'getDateRange', this.getDateRange, this);\n        this.gantt.api.registerEvent('columns', 'clear');\n        this.gantt.api.registerEvent('columns', 'generate');\n        this.gantt.api.registerEvent('columns', 'refresh');\n    }\n\n    (0, _createClass3.default)(GanttColumnsManager, [{\n        key: 'setScrollAnchor',\n        value: function setScrollAnchor() {\n            if (this.gantt.scroll.$element && this.columns.length > 0) {\n                var el = this.gantt.scroll.$element[0];\n                var center = el.scrollLeft + el.offsetWidth / 2;\n                this.scrollAnchor = this.gantt.getDateByPosition(center);\n            }\n        }\n    }, {\n        key: 'scrollToScrollAnchor',\n        value: function scrollToScrollAnchor() {\n            var _this2 = this;\n\n            if (this.columns.length > 0 && this.scrollAnchor !== undefined) {\n                this.gantt.$scope.$$postDigest(function () {\n                    _this2.gantt.api.scroll.toDate(_this2.scrollAnchor);\n                });\n            }\n        }\n    }, {\n        key: 'clearColumns',\n        value: function clearColumns() {\n            this.setScrollAnchor();\n            this.from = undefined;\n            this.to = undefined;\n            this.columns = [];\n            this.visibleColumns = [];\n            this.previousColumns = [];\n            this.nextColumns = [];\n            this.headers = [];\n            this.visibleHeaders = [];\n            this.gantt.api.columns.raise.clear();\n        }\n    }, {\n        key: 'generateColumns',\n        value: function generateColumns(from, to) {\n            if (!from) {\n                from = this.gantt.options.value('fromDate');\n            }\n            if (!to) {\n                to = this.gantt.options.value('toDate');\n            }\n            if (!from || _moment2.default.isMoment(from) && !from.isValid()) {\n                from = this.gantt.rowsManager.getDefaultFrom();\n                if (!from) {\n                    return false;\n                }\n            }\n            if (!to || _moment2.default.isMoment(to) && !to.isValid()) {\n                to = this.gantt.rowsManager.getDefaultTo();\n                if (!to) {\n                    return false;\n                }\n            }\n            if (from !== undefined && !_moment2.default.isMoment(from)) {\n                from = (0, _moment2.default)(from);\n            }\n            if (to !== undefined && !_moment2.default.isMoment(to)) {\n                to = (0, _moment2.default)(to);\n            }\n            if (this.gantt.options.value('taskOutOfRange') === 'expand') {\n                from = this.gantt.rowsManager.getExpandedFrom(from);\n                to = this.gantt.rowsManager.getExpandedTo(to);\n            }\n            this.setScrollAnchor();\n            this.from = from;\n            this.to = to;\n            this.previousColumns = [];\n            this.nextColumns = [];\n            this.columns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, this.from, this.to, this.gantt.options.value('viewScale'), this.getColumnsWidth());\n            this.headers = GanttColumnsManager.GanttHeadersGenerator.generate(this);\n            this.updateColumnsMeta();\n            this.scrollToScrollAnchor();\n            this.gantt.api.columns.raise.generate(this.columns, this.headers);\n        }\n    }, {\n        key: 'updateColumnsMeta',\n        value: function updateColumnsMeta() {\n            this.gantt.isRefreshingColumns = true;\n            var lastColumn = this.getLastColumn();\n            this.gantt.originalWidth = lastColumn !== undefined ? lastColumn.originalSize.left + lastColumn.originalSize.width : 0;\n            var columnsWidthChanged = this.updateColumnsWidths(this.columns, this.headers, this.previousColumns, this.nextColumns);\n            this.gantt.width = lastColumn !== undefined ? lastColumn.left + lastColumn.width : 0;\n            var showSide = this.gantt.options.value('showSide');\n            var sideShown = this.gantt.side.isShown();\n            var sideVisibilityChanged = showSide !== sideShown;\n            if (sideVisibilityChanged && !showSide) {\n                this.gantt.side.show(false);\n            }\n            this.gantt.rowsManager.updateTasksPosAndSize();\n            this.gantt.timespansManager.updateTimespansPosAndSize();\n            this.updateVisibleColumns(columnsWidthChanged);\n            this.gantt.rowsManager.updateVisibleObjects();\n            var currentDateValue = this.gantt.options.value('currentDateValue');\n            this.gantt.currentDateManager.setCurrentDate(currentDateValue);\n            if (sideVisibilityChanged && showSide) {\n                this.gantt.side.show(true);\n            }\n            this.gantt.isRefreshingColumns = false;\n            this.gantt.api.columns.raise.refresh(this.columns, this.headers);\n        }\n    }, {\n        key: 'getLastColumn',\n        value: function getLastColumn() {\n            var extended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            var columns = this.columns;\n            if (extended) {\n                columns = this.nextColumns;\n            }\n            if (columns && columns.length > 0) {\n                return columns[columns.length - 1];\n            } else {\n                return undefined;\n            }\n        }\n    }, {\n        key: 'getFirstColumn',\n        value: function getFirstColumn() {\n            var extended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n            var columns = this.columns;\n            if (extended) {\n                columns = this.previousColumns;\n            }\n            if (columns && columns.length > 0) {\n                return columns[0];\n            } else {\n                return undefined;\n            }\n        }\n    }, {\n        key: 'getColumnByDate',\n        value: function getColumnByDate(date, disableExpand) {\n            if (!disableExpand) {\n                this.expandExtendedColumnsForDate(date);\n            }\n            var extendedColumns = this.previousColumns.concat(this.columns, this.nextColumns);\n            var columns = GanttColumnsManager.ganttBinarySearch.get(extendedColumns, date, function (c) {\n                return c.date;\n            }, true);\n            return columns[0] === undefined ? columns[1] : columns[0];\n        }\n    }, {\n        key: 'getColumnByPosition',\n        value: function getColumnByPosition(x, disableExpand) {\n            if (!disableExpand) {\n                this.expandExtendedColumnsForPosition(x);\n            }\n            var extendedColumns = this.previousColumns.concat(this.columns, this.nextColumns);\n            var columns = GanttColumnsManager.ganttBinarySearch.get(extendedColumns, x, function (c) {\n                return c.left;\n            }, true);\n            return columns[0] === undefined ? columns[1] : columns[0];\n        }\n    }, {\n        key: 'updateColumnsWidths',\n        value: function updateColumnsWidths(columns, headers, previousColumns, nextColumns) {\n            var columnWidth = this.gantt.options.value('columnWidth');\n            var expandToFit = this.gantt.options.value('expandToFit');\n            var shrinkToFit = this.gantt.options.value('shrinkToFit');\n            if (columnWidth === undefined || expandToFit || shrinkToFit) {\n                var newWidth = this.gantt.getBodyAvailableWidth();\n                var lastColumn = this.gantt.columnsManager.getLastColumn(false);\n                if (lastColumn !== undefined) {\n                    var currentWidth = lastColumn.originalSize.left + lastColumn.originalSize.width;\n                    if (expandToFit && currentWidth < newWidth || shrinkToFit && currentWidth > newWidth || columnWidth === undefined) {\n                        var widthFactor = newWidth / currentWidth;\n                        GanttColumnsManager.ganttLayout.setColumnsWidthFactor(columns, widthFactor);\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                            for (var _iterator = (0, _getIterator3.default)(headers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                var header = _step.value;\n\n                                GanttColumnsManager.ganttLayout.setColumnsWidthFactor(header, widthFactor);\n                            }\n                        } catch (err) {\n                            _didIteratorError = true;\n                            _iteratorError = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion && _iterator.return) {\n                                    _iterator.return();\n                                }\n                            } finally {\n                                if (_didIteratorError) {\n                                    throw _iteratorError;\n                                }\n                            }\n                        }\n\n                        previousColumns.splice(0, this.previousColumns.length);\n                        nextColumns.splice(0, this.nextColumns.length);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n    }, {\n        key: 'getColumnsWidth',\n        value: function getColumnsWidth() {\n            var columnWidth = this.gantt.options.value('columnWidth');\n            if (columnWidth === undefined) {\n                if (!this.gantt.width || this.gantt.width <= 0) {\n                    columnWidth = 20;\n                } else {\n                    columnWidth = this.gantt.width / this.columns.length;\n                }\n            }\n            return columnWidth;\n        }\n    }, {\n        key: 'getColumnsWidthToFit',\n        value: function getColumnsWidthToFit() {\n            return this.gantt.getBodyAvailableWidth() / this.columns.length;\n        }\n    }, {\n        key: 'expandExtendedColumnsForPosition',\n        value: function expandExtendedColumnsForPosition(x) {\n            var viewScale = void 0;\n            if (x < 0) {\n                var firstColumn = this.getFirstColumn();\n                var from = firstColumn.date;\n                var firstExtendedColumn = this.getFirstColumn(true);\n                if (!firstExtendedColumn || firstExtendedColumn.left > x) {\n                    viewScale = this.gantt.options.value('viewScale');\n                    this.previousColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, from, undefined, viewScale, this.getColumnsWidth(), -x, 0, true);\n                }\n                return true;\n            } else if (x > this.gantt.width) {\n                var lastColumn = this.getLastColumn();\n                var endDate = lastColumn.getDateByPosition(lastColumn.width);\n                var lastExtendedColumn = this.getLastColumn(true);\n                if (!lastExtendedColumn || lastExtendedColumn.left + lastExtendedColumn.width < x) {\n                    viewScale = this.gantt.options.value('viewScale');\n                    this.nextColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, endDate, undefined, viewScale, this.getColumnsWidth(), x - this.gantt.width, this.gantt.width, false);\n                }\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: 'expandExtendedColumnsForDate',\n        value: function expandExtendedColumnsForDate(date) {\n            var firstColumn = this.getFirstColumn();\n            var from = void 0;\n            if (firstColumn) {\n                from = firstColumn.date;\n            }\n            var lastColumn = this.getLastColumn();\n            var endDate = void 0;\n            if (lastColumn) {\n                endDate = lastColumn.endDate;\n            }\n            var viewScale = void 0;\n            if (from && date < from) {\n                var firstExtendedColumn = this.getFirstColumn(true);\n                if (!firstExtendedColumn || firstExtendedColumn.date > date) {\n                    viewScale = this.gantt.options.value('viewScale');\n                    this.previousColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, from, date, viewScale, this.getColumnsWidth(), undefined, 0, true);\n                }\n                return true;\n            } else if (endDate && date >= endDate) {\n                var lastExtendedColumn = this.getLastColumn(true);\n                if (!lastExtendedColumn || lastExtendedColumn.date < endDate) {\n                    viewScale = this.gantt.options.value('viewScale');\n                    this.nextColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, endDate, date, viewScale, this.getColumnsWidth(), undefined, this.gantt.width, false);\n                }\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: 'getActiveHeadersCount',\n        value: function getActiveHeadersCount() {\n            return this.headers.length;\n        }\n    }, {\n        key: 'updateVisibleColumns',\n        value: function updateVisibleColumns(includeViews) {\n            var limitThreshold = this.gantt.options.value('columnLimitThreshold');\n            var i = void 0;\n            if (limitThreshold === undefined || limitThreshold > 0 && this.columns.length >= limitThreshold) {\n                this.visibleColumns = GanttColumnsManager.$filter('ganttColumnLimit')(this.columns, this.gantt);\n                this.visibleHeaders = [];\n                for (i = 0; i < this.headers.length; i++) {\n                    this.visibleHeaders.push.apply(this.visibleHeaders, GanttColumnsManager.$filter('ganttColumnLimit')(this.headers[i], this.gantt));\n                }\n            } else {\n                this.visibleColumns = this.columns;\n                this.visibleHeaders = this.headers;\n            }\n            if (includeViews) {\n                for (i = 0; i < this.visibleColumns.length; i++) {\n                    this.visibleColumns[i].updateView();\n                }\n                for (i = 0; i < this.visibleHeaders.length; i++) {\n                    var headerRow = this.visibleHeaders[i];\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(headerRow), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var headerRowItem = _step2.value;\n\n                            headerRowItem.updateView();\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            }\n            var currentDateValue = this.gantt.options.value('currentDateValue');\n            this.gantt.currentDateManager.setCurrentDate(currentDateValue);\n        }\n    }, {\n        key: 'getHeaderFormat',\n        value: function getHeaderFormat(unit) {\n            var format = void 0;\n            var headersFormats = this.gantt.options.value('headersFormats');\n            if (headersFormats !== undefined) {\n                format = headersFormats[unit];\n            }\n            if (format === undefined) {\n                var viewScale = this.gantt.options.value('viewScale');\n                viewScale = viewScale.trim();\n                if (viewScale.charAt(viewScale.length - 1) === 's') {\n                    viewScale = viewScale.substring(0, viewScale.length - 1);\n                }\n                var viewScaleUnit = void 0;\n                var splittedViewScale = void 0;\n                if (viewScale) {\n                    splittedViewScale = viewScale.split(' ');\n                }\n                if (splittedViewScale && splittedViewScale.length > 1) {\n                    viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n                } else {\n                    viewScaleUnit = viewScale;\n                }\n                if (['millisecond', 'second', 'minute', 'hour'].indexOf(viewScaleUnit) > -1) {\n                    format = this.defaultDayHeadersFormats[unit];\n                } else if (['month', 'quarter', 'year'].indexOf(viewScaleUnit) > -1) {\n                    format = this.defaultYearHeadersFormats[unit];\n                }\n                if (format === undefined) {\n                    format = this.defaultHeadersFormats[unit];\n                }\n            }\n            return format;\n        }\n    }, {\n        key: 'getHeaderScale',\n        value: function getHeaderScale(header) {\n            var scale = void 0;\n            var headersScales = this.gantt.options.value('headersScales');\n            if (headersScales !== undefined) {\n                scale = headersScales[header];\n            }\n            if (scale === undefined) {\n                scale = header;\n            }\n            if (['millisecond', 'second', 'minute', 'hour', 'day', 'week', 'month', 'quarter', 'year'].indexOf(scale) === -1) {\n                scale = 'day';\n            }\n            return scale;\n        }\n    }, {\n        key: 'getDateRange',\n        value: function getDateRange(visibleOnly) {\n            var firstColumn = void 0;\n            var lastColumn = void 0;\n            if (visibleOnly) {\n                if (this.visibleColumns && this.visibleColumns.length > 0) {\n                    firstColumn = this.visibleColumns[0];\n                    lastColumn = this.visibleColumns[this.visibleColumns.length - 1];\n                }\n            } else {\n                firstColumn = this.getFirstColumn();\n                lastColumn = this.getLastColumn();\n            }\n            return firstColumn && lastColumn ? [firstColumn.date, lastColumn.endDate] : undefined;\n        }\n    }]);\n    return GanttColumnsManager;\n}();\n\n/***/ }),\n/* 172 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttObjectModel = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"ganttUtils\", function (ganttUtils) {\n    'ngInject';\n\n    GanttObjectModel.ganttUtils = ganttUtils;\n    return GanttObjectModel;\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttObjectModel = exports.GanttObjectModel = function () {\n    function GanttObjectModel(api) {\n        (0, _classCallCheck3.default)(this, GanttObjectModel);\n\n        this.api = api;\n        this.api.registerEvent('tasks', 'clean');\n        this.api.registerEvent('rows', 'clean');\n        this.api.registerEvent('timespans', 'clean');\n    }\n\n    (0, _createClass3.default)(GanttObjectModel, [{\n        key: 'cleanTask',\n        value: function cleanTask(model) {\n            if (model.id === undefined) {\n                model.id = GanttObjectModel.ganttUtils.randomUuid();\n            }\n            if (model.from !== undefined && !_moment2.default.isMoment(model.from)) {\n                model.from = (0, _moment2.default)(model.from);\n            }\n            if (model.to !== undefined && !_moment2.default.isMoment(model.to)) {\n                model.to = (0, _moment2.default)(model.to);\n            }\n            this.api.tasks.raise.clean(model);\n        }\n    }, {\n        key: 'cleanRow',\n        value: function cleanRow(model) {\n            if (model.id === undefined) {\n                model.id = GanttObjectModel.ganttUtils.randomUuid();\n            }\n            if (model.from !== undefined && !_moment2.default.isMoment(model.from)) {\n                model.from = (0, _moment2.default)(model.from);\n            }\n            if (model.to !== undefined && !_moment2.default.isMoment(model.to)) {\n                model.to = (0, _moment2.default)(model.to);\n            }\n            this.api.rows.raise.clean(model);\n        }\n    }, {\n        key: 'cleanTimespan',\n        value: function cleanTimespan(model) {\n            if (model.id === undefined) {\n                model.id = GanttObjectModel.ganttUtils.randomUuid();\n            }\n            if (model.from !== undefined && !_moment2.default.isMoment(model.from)) {\n                model.from = (0, _moment2.default)(model.from);\n            }\n            if (model.to !== undefined && !_moment2.default.isMoment(model.to)) {\n                model.to = (0, _moment2.default)(model.to);\n            }\n            this.api.timespans.raise.clean(model);\n        }\n    }]);\n    return GanttObjectModel;\n}();\n\n/***/ }),\n/* 173 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttRowsManager = undefined;\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttRow\", \"ganttArrays\", \"$filter\", \"$timeout\", function (GanttRow, ganttArrays, $filter, $timeout) {\n    'ngInject';\n\n    GanttRowsManager.GanttRow = GanttRow;\n    GanttRowsManager.$filter = $filter;\n    GanttRowsManager.$timeout = $timeout;\n    GanttRowsManager.ganttArrays = ganttArrays;\n    return GanttRowsManager;\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttRowsManager = exports.GanttRowsManager = function () {\n    function GanttRowsManager(gantt) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, GanttRowsManager);\n\n        this.rowsMap = {};\n        this.rows = [];\n        this.sortedRows = [];\n        this.filteredRows = [];\n        this.customFilteredRows = [];\n        this.visibleRows = [];\n        this.rowsTaskWatchers = [];\n        this.customRowSorters = [];\n        this.customRowFilters = [];\n        this.gantt = gantt;\n        this._defaultFilterImpl = function (sortedRows, filterRow, filterRowComparator) {\n            return GanttRowsManager.$filter('filter')(sortedRows, filterRow, filterRowComparator);\n        };\n        this.filterImpl = this._defaultFilterImpl;\n        this.customRowSorters = [];\n        this.customRowFilters = [];\n        this.gantt.$scope.$watchGroup(['filterTask', 'filterTaskComparator'], function (newValues, oldValues) {\n            if (newValues !== oldValues) {\n                _this.updateVisibleTasks();\n            }\n        });\n        this.gantt.$scope.$watchGroup(['filterRow', 'filterRowComparator'], function (newValues, oldValues) {\n            if (newValues !== oldValues) {\n                _this.updateVisibleRows();\n            }\n        });\n        this.gantt.$scope.$watch('sortMode', function (newValue, oldValue) {\n            if (newValue !== oldValue) {\n                _this.sortRows();\n            }\n        });\n\n        var _oldVScrollbarVisible = this.gantt.scroll.isVScrollbarVisible();\n        this.gantt.$scope.$watchGroup(['maxHeight', 'gantt.rowsManager.visibleRows.length'], function (newValue, oldValue) {\n            if (newValue !== oldValue) {\n                GanttRowsManager.$timeout(function () {\n                    var newVScrollbarVisible = _this.gantt.scroll.isVScrollbarVisible();\n                    if (newVScrollbarVisible !== _oldVScrollbarVisible) {\n                        _oldVScrollbarVisible = newVScrollbarVisible;\n                        _this.gantt.columnsManager.updateColumnsMeta();\n                    }\n                });\n            }\n        });\n        this.gantt.api.registerMethod('rows', 'sort', GanttRowsManager.prototype.sortRows, this);\n        this.gantt.api.registerMethod('rows', 'applySort', GanttRowsManager.prototype.applySort, this);\n        this.gantt.api.registerMethod('rows', 'refresh', GanttRowsManager.prototype.updateVisibleObjects, this);\n        this.gantt.api.registerMethod('rows', 'removeRowSorter', GanttRowsManager.prototype.removeCustomRowSorter, this);\n        this.gantt.api.registerMethod('rows', 'addRowSorter', GanttRowsManager.prototype.addCustomRowSorter, this);\n        this.gantt.api.registerMethod('rows', 'removeRowFilter', GanttRowsManager.prototype.removeCustomRowFilter, this);\n        this.gantt.api.registerMethod('rows', 'addRowFilter', GanttRowsManager.prototype.addCustomRowFilter, this);\n        this.gantt.api.registerMethod('rows', 'setFilterImpl', GanttRowsManager.prototype.setFilterImpl, this);\n        this.gantt.api.registerEvent('tasks', 'add');\n        this.gantt.api.registerEvent('tasks', 'change');\n        this.gantt.api.registerEvent('tasks', 'viewChange');\n        this.gantt.api.registerEvent('tasks', 'beforeRowChange');\n        this.gantt.api.registerEvent('tasks', 'beforeViewRowChange');\n        this.gantt.api.registerEvent('tasks', 'rowChange');\n        this.gantt.api.registerEvent('tasks', 'viewRowChange');\n        this.gantt.api.registerEvent('tasks', 'remove');\n        this.gantt.api.registerEvent('tasks', 'filter');\n        this.gantt.api.registerEvent('tasks', 'displayed');\n        this.gantt.api.registerEvent('rows', 'add');\n        this.gantt.api.registerEvent('rows', 'change');\n        this.gantt.api.registerEvent('rows', 'remove');\n        this.gantt.api.registerEvent('rows', 'move');\n        this.gantt.api.registerEvent('rows', 'displayed');\n        this.gantt.api.registerEvent('rows', 'filter');\n        this.updateVisibleObjects();\n    }\n\n    (0, _createClass3.default)(GanttRowsManager, [{\n        key: 'resetNonModelLists',\n        value: function resetNonModelLists() {\n            this.rows = [];\n            this.sortedRows = [];\n            this.filteredRows = [];\n            this.customFilteredRows = [];\n            this.visibleRows = [];\n        }\n    }, {\n        key: 'addRow',\n        value: function addRow(rowModel, modelOrderChanged) {\n            var row = void 0;\n            var i = void 0;\n            var l = void 0;\n            var isUpdate = false;\n            this.gantt.objectModel.cleanRow(rowModel);\n            if (rowModel.id in this.rowsMap) {\n                row = this.rowsMap[rowModel.id];\n                if (modelOrderChanged) {\n                    this.rows.push(row);\n                    this.sortedRows.push(row);\n                    this.filteredRows.push(row);\n                    this.customFilteredRows.push(row);\n                    this.visibleRows.push(row);\n                }\n                if (row.model === rowModel) {\n                    return;\n                }\n                var toRemoveIds = GanttRowsManager.ganttArrays.getRemovedIds(rowModel.tasks, row.model.tasks);\n                for (i = 0, l = toRemoveIds.length; i < l; i++) {\n                    var toRemoveId = toRemoveIds[i];\n                    row.removeTask(toRemoveId);\n                }\n                row.model = rowModel;\n                isUpdate = true;\n            } else {\n                row = new GanttRowsManager.GanttRow(this, rowModel);\n                this.rowsMap[rowModel.id] = row;\n                this.rows.push(row);\n                this.sortedRows.push(row);\n                this.filteredRows.push(row);\n                this.customFilteredRows.push(row);\n                this.visibleRows.push(row);\n            }\n            if (rowModel.tasks !== undefined && rowModel.tasks.length > 0) {\n                for (i = 0, l = rowModel.tasks.length; i < l; i++) {\n                    var taskModel = rowModel.tasks[i];\n                    row.addTask(taskModel);\n                }\n                row.updateVisibleTasks();\n            }\n            if (isUpdate) {\n                this.gantt.api.rows.raise.change(row);\n            } else {\n                this.gantt.api.rows.raise.add(row);\n            }\n            if (!isUpdate) {\n                var watcher = this.gantt.$scope.$watchCollection(function () {\n                    return rowModel.tasks;\n                }, function (newTasks, oldTasks) {\n                    if (newTasks !== oldTasks) {\n                        var _i = void 0;\n                        var _l = void 0;\n                        var _toRemoveIds = GanttRowsManager.ganttArrays.getRemovedIds(newTasks, oldTasks);\n                        for (_i = 0, _l = _toRemoveIds.length; _i < _l; _i++) {\n                            var toRemove = _toRemoveIds[_i];\n                            row.removeTask(toRemove);\n                        }\n                        if (newTasks !== undefined) {\n                            for (_i = 0, _l = newTasks.length; _i < _l; _i++) {\n                                var toAdd = newTasks[_i];\n                                row.addTask(toAdd);\n                            }\n                            row.updateVisibleTasks();\n                        }\n                    }\n                });\n                this.rowsTaskWatchers.push(watcher);\n            }\n            return isUpdate;\n        }\n    }, {\n        key: 'removeRow',\n        value: function removeRow(rowId) {\n            if (rowId in this.rowsMap) {\n                delete this.rowsMap[rowId];\n                var removedRow = void 0;\n                var indexOf = GanttRowsManager.ganttArrays.indexOfId(this.rows, rowId, ['model', 'id']);\n                if (indexOf > -1) {\n                    removedRow = this.rows.splice(indexOf, 1)[0];\n                    var unregisterFunction = this.rowsTaskWatchers.splice(indexOf, 1)[0];\n                    if (unregisterFunction) {\n                        unregisterFunction();\n                    }\n                }\n                GanttRowsManager.ganttArrays.removeId(this.sortedRows, rowId, ['model', 'id']);\n                GanttRowsManager.ganttArrays.removeId(this.filteredRows, rowId, ['model', 'id']);\n                GanttRowsManager.ganttArrays.removeId(this.customFilteredRows, rowId, ['model', 'id']);\n                GanttRowsManager.ganttArrays.removeId(this.visibleRows, rowId, ['model', 'id']);\n                this.gantt.api.rows.raise.remove(removedRow);\n                return removedRow;\n            }\n            return undefined;\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            this.rowsMap = {};\n            this.rows = [];\n            this.sortedRows = [];\n            this.filteredRows = [];\n            this.customFilteredRows = [];\n            this.visibleRows = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(this.rowsTaskWatchers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var unregisterFunction = _step.value;\n\n                    unregisterFunction();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            this.rowsTaskWatchers = [];\n        }\n    }, {\n        key: 'sortRows',\n        value: function sortRows() {\n            var expression = this.gantt.options.value('sortMode');\n            if (expression !== undefined) {\n                var reverse = false;\n                if ((typeof expression === 'string' || expression instanceof String) && expression.charAt(0) === '-') {\n                    reverse = true;\n                    expression = expression.substr(1);\n                }\n                var angularOrderBy = GanttRowsManager.$filter('orderBy');\n                this.sortedRows = angularOrderBy(this.rows, expression, reverse);\n            } else {\n                this.sortedRows = this.rows.slice();\n            }\n            this.sortedRows = this.applyCustomRowSorters(this.sortedRows);\n            this.updateVisibleRows();\n        }\n    }, {\n        key: 'removeCustomRowSorter',\n        value: function removeCustomRowSorter(sorterFunction) {\n            var i = this.customRowSorters.indexOf(sorterFunction);\n            if (i > -1) {\n                this.customRowSorters.splice(i, 1);\n            }\n        }\n    }, {\n        key: 'addCustomRowSorter',\n        value: function addCustomRowSorter(sorterFunction) {\n            this.customRowSorters.push(sorterFunction);\n        }\n    }, {\n        key: 'applyCustomRowSorters',\n        value: function applyCustomRowSorters(rows) {\n            var sortedRows = rows;\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = (0, _getIterator3.default)(this.customRowSorters), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var customRowSorter = _step2.value;\n\n                    sortedRows = customRowSorter(sortedRows);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return sortedRows;\n        }\n    }, {\n        key: 'applySort',\n        value: function applySort() {\n            var data = this.gantt.$scope.data;\n            data.splice(0, data.length);\n            var rows = [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = (0, _getIterator3.default)(this.sortedRows), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var row = _step3.value;\n\n                    data.push(row.model);\n                    rows.push(row);\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            this.rows = rows;\n        }\n    }, {\n        key: 'moveRow',\n        value: function moveRow(row, targetRow) {\n            var sortMode = this.gantt.options.value('sortMode');\n            if (sortMode !== undefined) {\n                this.applySort();\n                this.gantt.options.set('sortMode', undefined);\n            }\n            var targetRowIndex = this.rows.indexOf(targetRow);\n            var rowIndex = this.rows.indexOf(row);\n            if (targetRowIndex > -1 && rowIndex > -1 && targetRowIndex !== rowIndex) {\n                GanttRowsManager.ganttArrays.moveToIndex(this.rows, rowIndex, targetRowIndex);\n                GanttRowsManager.ganttArrays.moveToIndex(this.rowsTaskWatchers, rowIndex, targetRowIndex);\n                GanttRowsManager.ganttArrays.moveToIndex(this.gantt.$scope.data, rowIndex, targetRowIndex);\n                this.gantt.api.rows.raise.change(row);\n                this.gantt.api.rows.raise.move(row, rowIndex, targetRowIndex);\n                this.updateVisibleObjects();\n                this.sortRows();\n            }\n        }\n    }, {\n        key: 'updateVisibleObjects',\n        value: function updateVisibleObjects() {\n            this.updateVisibleRows();\n            this.updateVisibleTasks();\n        }\n    }, {\n        key: 'updateVisibleRows',\n        value: function updateVisibleRows() {\n            var oldFilteredRows = this.filteredRows;\n            var filterRow = this.gantt.options.value('filterRow');\n            if (filterRow) {\n                if ((typeof filterRow === 'undefined' ? 'undefined' : (0, _typeof3.default)(filterRow)) === 'object') {\n                    filterRow = { model: filterRow };\n                }\n                var filterRowComparator = this.gantt.options.value('filterRowComparator');\n                if (typeof filterRowComparator === 'function') {\n                    var gantt = this.gantt;\n                    filterRowComparator = function filterRowComparator(actual, expected) {\n                        return gantt.options.value('filterRowComparator')(actual, expected);\n                    };\n                }\n                this.filteredRows = this.filterImpl(this.sortedRows, filterRow, filterRowComparator);\n            } else {\n                this.filteredRows = this.sortedRows.slice(0);\n            }\n            var raiseEvent = !_angular2.default.equals(oldFilteredRows, this.filteredRows);\n            this.customFilteredRows = this.applyCustomRowFilters(this.filteredRows);\n\n            this.visibleRows = this.customFilteredRows;\n            this.gantt.api.rows.raise.displayed(this.sortedRows, this.filteredRows, this.visibleRows);\n            if (raiseEvent) {\n                this.gantt.api.rows.raise.filter(this.sortedRows, this.filteredRows);\n            }\n        }\n    }, {\n        key: 'removeCustomRowFilter',\n        value: function removeCustomRowFilter(filterFunction) {\n            var i = this.customRowFilters.indexOf(filterFunction);\n            if (i > -1) {\n                this.customRowFilters.splice(i, 1);\n            }\n        }\n    }, {\n        key: 'addCustomRowFilter',\n        value: function addCustomRowFilter(filterFunction) {\n            this.customRowFilters.push(filterFunction);\n        }\n    }, {\n        key: 'applyCustomRowFilters',\n        value: function applyCustomRowFilters(rows) {\n            var filteredRows = rows;\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(this.customRowFilters), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var customRowFilter = _step4.value;\n\n                    filteredRows = customRowFilter(filteredRows);\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            return filteredRows;\n        }\n    }, {\n        key: 'setFilterImpl',\n        value: function setFilterImpl(filterImpl) {\n            if (!filterImpl) {\n                this.filterImpl = this._defaultFilterImpl;\n            } else {\n                this.filterImpl = filterImpl;\n            }\n        }\n    }, {\n        key: 'updateVisibleTasks',\n        value: function updateVisibleTasks() {\n            var oldFilteredTasks = [];\n            var filteredTasks = [];\n            var tasks = [];\n            var visibleTasks = [];\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = (0, _getIterator3.default)(this.rows), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var row = _step5.value;\n\n                    oldFilteredTasks = oldFilteredTasks.concat(row.filteredTasks);\n                    row.updateVisibleTasks();\n                    filteredTasks = filteredTasks.concat(row.filteredTasks);\n                    visibleTasks = visibleTasks.concat(row.visibleTasks);\n                    tasks = tasks.concat(row.tasks);\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            this.gantt.api.tasks.raise.displayed(tasks, filteredTasks, visibleTasks);\n            var filterEvent = !_angular2.default.equals(oldFilteredTasks, filteredTasks);\n            if (filterEvent) {\n                this.gantt.api.tasks.raise.filter(tasks, filteredTasks, visibleTasks);\n            }\n        }\n    }, {\n        key: 'updateTasksPosAndSize',\n        value: function updateTasksPosAndSize() {\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n                for (var _iterator6 = (0, _getIterator3.default)(this.rows), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                    var row = _step6.value;\n\n                    row.updateTasksPosAndSize();\n                }\n            } catch (err) {\n                _didIteratorError6 = true;\n                _iteratorError6 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                        _iterator6.return();\n                    }\n                } finally {\n                    if (_didIteratorError6) {\n                        throw _iteratorError6;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'getExpandedFrom',\n        value: function getExpandedFrom(from) {\n            from = from ? (0, _moment2.default)(from) : from;\n            var minRowFrom = from;\n            var _iteratorNormalCompletion7 = true;\n            var _didIteratorError7 = false;\n            var _iteratorError7 = undefined;\n\n            try {\n                for (var _iterator7 = (0, _getIterator3.default)(this.rows), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                    var row = _step7.value;\n\n                    if (minRowFrom === undefined || minRowFrom > row.from) {\n                        minRowFrom = row.from;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError7 = true;\n                _iteratorError7 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                        _iterator7.return();\n                    }\n                } finally {\n                    if (_didIteratorError7) {\n                        throw _iteratorError7;\n                    }\n                }\n            }\n\n            if (minRowFrom && (!from || minRowFrom < from)) {\n                return minRowFrom;\n            }\n            return from;\n        }\n    }, {\n        key: 'getExpandedTo',\n        value: function getExpandedTo(to) {\n            to = to ? (0, _moment2.default)(to) : to;\n            var maxRowTo = to;\n            var _iteratorNormalCompletion8 = true;\n            var _didIteratorError8 = false;\n            var _iteratorError8 = undefined;\n\n            try {\n                for (var _iterator8 = (0, _getIterator3.default)(this.rows), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                    var row = _step8.value;\n\n                    if (maxRowTo === undefined || maxRowTo < row.to) {\n                        maxRowTo = row.to;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError8 = true;\n                _iteratorError8 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion8 && _iterator8.return) {\n                        _iterator8.return();\n                    }\n                } finally {\n                    if (_didIteratorError8) {\n                        throw _iteratorError8;\n                    }\n                }\n            }\n\n            var toDate = this.gantt.options.value('toDate');\n            if (maxRowTo && (!toDate || maxRowTo > toDate)) {\n                return maxRowTo;\n            }\n            return to;\n        }\n    }, {\n        key: 'getDefaultFrom',\n        value: function getDefaultFrom() {\n            var defaultFrom = void 0;\n            var _iteratorNormalCompletion9 = true;\n            var _didIteratorError9 = false;\n            var _iteratorError9 = undefined;\n\n            try {\n                for (var _iterator9 = (0, _getIterator3.default)(this.rows), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                    var row = _step9.value;\n\n                    if (defaultFrom === undefined || row.from < defaultFrom) {\n                        defaultFrom = row.from;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError9 = true;\n                _iteratorError9 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion9 && _iterator9.return) {\n                        _iterator9.return();\n                    }\n                } finally {\n                    if (_didIteratorError9) {\n                        throw _iteratorError9;\n                    }\n                }\n            }\n\n            return defaultFrom;\n        }\n    }, {\n        key: 'getDefaultTo',\n        value: function getDefaultTo() {\n            var defaultTo = void 0;\n            var _iteratorNormalCompletion10 = true;\n            var _didIteratorError10 = false;\n            var _iteratorError10 = undefined;\n\n            try {\n                for (var _iterator10 = (0, _getIterator3.default)(this.rows), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n                    var row = _step10.value;\n\n                    if (defaultTo === undefined || row.to > defaultTo) {\n                        defaultTo = row.to;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError10 = true;\n                _iteratorError10 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion10 && _iterator10.return) {\n                        _iterator10.return();\n                    }\n                } finally {\n                    if (_didIteratorError10) {\n                        throw _iteratorError10;\n                    }\n                }\n            }\n\n            return defaultTo;\n        }\n    }]);\n    return GanttRowsManager;\n}();\n\n/***/ }),\n/* 174 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttBody = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = [\"GanttBodyColumns\", \"GanttBodyRows\", \"GanttBodyBackground\", \"GanttBodyForeground\", function (GanttBodyColumns, GanttBodyRows, GanttBodyBackground, GanttBodyForeground) {\n    'ngInject';\n\n    GanttBody.GanttBodyColumns = GanttBodyColumns;\n    GanttBody.GanttBodyRows = GanttBodyRows;\n    GanttBody.GanttBodyBackground = GanttBodyBackground;\n    GanttBody.GanttBodyForeground = GanttBodyForeground;\n    return GanttBody;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBody = exports.GanttBody = function GanttBody(gantt) {\n    (0, _classCallCheck3.default)(this, GanttBody);\n\n    this.gantt = gantt;\n    this.background = new GanttBody.GanttBodyBackground(this);\n    this.foreground = new GanttBody.GanttBodyForeground(this);\n    this.columns = new GanttBody.GanttBodyColumns(this);\n    this.rows = new GanttBody.GanttBodyRows(this);\n};\n\n/***/ }),\n/* 175 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttHeader = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttHeaderColumns\", function (GanttHeaderColumns) {\n    'ngInject';\n\n    GanttHeader.GanttHeaderColumns = GanttHeaderColumns;\n    return GanttHeader;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttHeader = exports.GanttHeader = function () {\n    function GanttHeader(gantt) {\n        (0, _classCallCheck3.default)(this, GanttHeader);\n\n        this.gantt = gantt;\n        this.columns = new GanttHeader.GanttHeaderColumns(this.gantt);\n    }\n\n    (0, _createClass3.default)(GanttHeader, [{\n        key: 'getHeight',\n        value: function getHeight() {\n            return this.$element[0].offsetHeight;\n        }\n    }]);\n    return GanttHeader;\n}();\n\n/***/ }),\n/* 176 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttScroll = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttScroll;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttScroll = exports.GanttScroll = function () {\n    function GanttScroll(gantt) {\n        (0, _classCallCheck3.default)(this, GanttScroll);\n\n        this.gantt = gantt;\n        this.gantt.api.registerEvent('scroll', 'scroll');\n        this.gantt.api.registerMethod('scroll', 'to', this.scrollTo, this);\n        this.gantt.api.registerMethod('scroll', 'toDate', this.scrollToDate, this);\n        this.gantt.api.registerMethod('scroll', 'left', this.scrollToLeft, this);\n        this.gantt.api.registerMethod('scroll', 'right', this.scrollToRight, this);\n        this.gantt.api.registerMethod('scroll', 'setWidth', this.setWidth, this);\n    }\n\n    (0, _createClass3.default)(GanttScroll, [{\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            if (this.$element === undefined) {\n                return undefined;\n            } else {\n                if (this.cachedScrollLeft === undefined) {\n                    this.cachedScrollLeft = this.$element[0].scrollLeft;\n                }\n                return this.cachedScrollLeft;\n            }\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            return this.$element === undefined ? undefined : this.$element[0].scrollWidth;\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this.$element === undefined ? undefined : this.$element[0].offsetWidth;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(width) {\n            if (this.$element[0]) {}\n        }\n    }, {\n        key: 'getBordersWidth',\n        value: function getBordersWidth() {\n            if (this.$element === undefined) {\n                return undefined;\n            }\n            if (this.$element[0].clientWidth) {\n                return this.$element[0].offsetWidth - this.$element[0].clientWidth;\n            } else {\n                var borderLeft = window.getComputedStyle(this.$element[0]).getPropertyValue('border-left-width') ? window.getComputedStyle(this.$element[0]).getPropertyValue('border-left-width').match(/\\d+/)[0] : '0';\n                var borderRight = window.getComputedStyle(this.$element[0]).getPropertyValue('border-right-width') ? window.getComputedStyle(this.$element[0]).getPropertyValue('border-right-width').match(/\\d+/)[0] : '0';\n                return parseInt(borderLeft, 10) + parseInt(borderRight, 10);\n            }\n        }\n    }, {\n        key: 'getBordersHeight',\n        value: function getBordersHeight() {\n            return this.$element === undefined ? undefined : this.$element[0].offsetHeight - this.$element[0].clientHeight;\n        }\n    }, {\n        key: 'isVScrollbarVisible',\n        value: function isVScrollbarVisible() {\n            if (this.$element !== undefined) {\n                return this.$element[0].scrollHeight > this.$element[0].offsetHeight;\n            }\n        }\n    }, {\n        key: 'isHScrollbarVisible',\n        value: function isHScrollbarVisible() {\n            if (this.$element !== undefined) {\n                return this.$element[0].scrollWidth > this.$element[0].offsetWidth;\n            }\n        }\n    }, {\n        key: 'scrollTo',\n        value: function scrollTo(position) {\n            this.$element[0].scrollLeft = position;\n            this.$element.triggerHandler('scroll');\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft(offset) {\n            this.$element[0].scrollLeft -= offset;\n            this.$element.triggerHandler('scroll');\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight(offset) {\n            this.$element[0].scrollLeft += offset;\n            this.$element.triggerHandler('scroll');\n        }\n    }, {\n        key: 'scrollToDate',\n        value: function scrollToDate(date) {\n            var position = this.gantt.getPositionByDate(date);\n            if (position !== undefined) {\n                this.$element[0].scrollLeft = position - this.$element[0].offsetWidth / 2;\n            }\n        }\n    }]);\n    return GanttScroll;\n}();\n\n/***/ }),\n/* 177 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttSide = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttSide;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttSide = exports.GanttSide = function () {\n    function GanttSide(gantt) {\n        (0, _classCallCheck3.default)(this, GanttSide);\n\n        this.gantt = gantt;\n    }\n\n    (0, _createClass3.default)(GanttSide, [{\n        key: 'getWidth',\n        value: function getWidth() {\n            if (this.gantt.options.value('showSide')) {\n                var width = this.gantt.options.value('sideWidth');\n                if (width === undefined && this.$element !== undefined) {\n                    if (this.$element.css('width') !== undefined) {\n                        this.$element.css('width', '');\n                    }\n                }\n                if (this.$element !== undefined) {\n                    width = this.$element[0].offsetWidth;\n                }\n                if (width !== undefined) {\n                    return width;\n                }\n            }\n            return 0;\n        }\n    }, {\n        key: 'show',\n        value: function show(value) {\n            if (this.$element !== undefined) {\n                this.$element.toggleClass('ng-hide', !value);\n            }\n        }\n    }, {\n        key: 'isShown',\n        value: function isShown() {\n            if (this.$element !== undefined) {\n                return !this.$element.hasClass('ng-hide');\n            }\n        }\n    }]);\n    return GanttSide;\n}();\n\n/***/ }),\n/* 178 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttTimespansManager = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttTimespan\", function (GanttTimespan) {\n    'ngInject';\n\n    GanttTimespansManager.GanttTimespan = GanttTimespan;\n    return GanttTimespansManager;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttTimespansManager = exports.GanttTimespansManager = function () {\n    function GanttTimespansManager(gantt) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, GanttTimespansManager);\n\n        this.timespansMap = {};\n        this.timespans = [];\n        this.gantt = gantt;\n        this.gantt.$scope.$watchCollection('timespans', function (newValue) {\n            _this.clearTimespans();\n            _this.loadTimespans(newValue);\n        });\n        this.gantt.api.registerMethod('timespans', 'load', this.loadTimespans, this);\n        this.gantt.api.registerMethod('timespans', 'remove', this.removeTimespans, this);\n        this.gantt.api.registerMethod('timespans', 'clear', this.clearTimespans, this);\n        this.gantt.api.registerEvent('timespans', 'add');\n        this.gantt.api.registerEvent('timespans', 'remove');\n        this.gantt.api.registerEvent('timespans', 'change');\n    }\n\n    (0, _createClass3.default)(GanttTimespansManager, [{\n        key: 'loadTimespans',\n        value: function loadTimespans(timespans) {\n            if (!Array.isArray(timespans)) {\n                timespans = timespans !== undefined ? [timespans] : [];\n            }\n            this.gantt.$scope.timespans = timespans;\n\n            for (var i = 0, l = timespans.length; i < l; i++) {\n                var timespanModel = timespans[i];\n                this.gantt.objectModel.cleanTimespan(timespanModel);\n                this.loadTimespan(timespanModel);\n            }\n        }\n    }, {\n        key: 'loadTimespan',\n        value: function loadTimespan(timespanModel) {\n            var timespan = void 0;\n            var isUpdate = false;\n            if (timespanModel.id in this.timespansMap) {\n                timespan = this.timespansMap[timespanModel.id];\n                timespan.model = timespanModel;\n                isUpdate = true;\n                this.gantt.api.timespans.raise.change(timespan);\n            } else {\n                timespan = new GanttTimespansManager.GanttTimespan(this.gantt, timespanModel);\n                this.timespansMap[timespanModel.id] = timespan;\n                this.timespans.push(timespan);\n                this.gantt.api.timespans.raise.add(timespan);\n            }\n            timespan.updatePosAndSize();\n            return isUpdate;\n        }\n    }, {\n        key: 'removeTimespans',\n        value: function removeTimespans(timespans) {\n            if (!Array.isArray(timespans)) {\n                timespans = [timespans];\n            }\n            for (var i = 0, l = timespans.length; i < l; i++) {\n                var timespanData = timespans[i];\n                this.removeTimespan(timespanData.id);\n            }\n        }\n    }, {\n        key: 'removeTimespan',\n        value: function removeTimespan(timespanId) {\n            if (timespanId in this.timespansMap) {\n                delete this.timespansMap[timespanId];\n                var removedTimespan = void 0;\n                var timespan = void 0;\n                for (var i = this.timespans.length - 1; i >= 0; i--) {\n                    timespan = this.timespans[i];\n                    if (timespan.model.id === timespanId) {\n                        removedTimespan = timespan;\n                        this.timespans.splice(i, 1);\n                        break;\n                    }\n                }\n                this.gantt.api.timespans.raise.remove(removedTimespan);\n                return removedTimespan;\n            }\n            return undefined;\n        }\n    }, {\n        key: 'clearTimespans',\n        value: function clearTimespans() {\n            this.timespansMap = {};\n            this.timespans = [];\n        }\n    }, {\n        key: 'updateTimespansPosAndSize',\n        value: function updateTimespansPosAndSize() {\n            for (var i = 0, l = this.timespans.length; i < l; i++) {\n                this.timespans[i].updatePosAndSize();\n            }\n        }\n    }]);\n    return GanttTimespansManager;\n}();\n\n/***/ }),\n/* 179 */,\n/* 180 */,\n/* 181 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _stringify = __webpack_require__(195);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nexports.default = [\"$scope\", \"$timeout\", \"$log\", \"ganttUtils\", \"GanttObjectModel\", \"DemoService\", \"ganttMouseOffset\", \"ganttDebounce\", \"$http\", function ($scope, $timeout, $log, ganttUtils, GanttObjectModel, DemoService, ganttMouseOffset, ganttDebounce, $http) {\n    'ngInject';\n\n    var preleft = 0;\n    var initVisibleGanttDataTimer = void 0;\n    var logScrollEvent = function logScrollEvent(left, date, direction) {\n        return;\n        console.log(left, 'left');\n        console.log(preleft, 'preleft');\n        if (preleft !== 0 && date) {\n            var second = (0, _moment2.default)(date.format('YYYY-MM-DD HH:mm:ss')).diff((0, _moment2.default)(fromScrollDate), 'second');\n            fromScrollDate = (0, _moment2.default)(fromScrollDate).add(second - 1, 'second').format('YYYY-MM-DD HH:mm:ss');\n            toScrollDate = (0, _moment2.default)(toScrollDate).add(second, 'second').format('YYYY-MM-DD HH:mm:ss');\n            if (initVisibleGanttDataTimer) {\n                $timeout.cancel(initVisibleGanttDataTimer);\n            }\n            initVisibleGanttDataTimer = $timeout(function () {\n                $scope.initVisibleGanttData();\n            }, 300);\n        }\n\n        preleft = left;\n    };\n\n    var logDataEvent = function logDataEvent(eventName) {\n        $log.info('[Event] ' + eventName);\n    };\n    var curTask = void 0;\n    var preTask = void 0;\n\n    var logTaskEvent = function logTaskEvent(eventName, task) {\n        $log.info('[Event] ' + eventName + ': ' + task.model.name);\n        if (eventName === 'task-click') {\n            curTaskId = task.model.id;\n            curTaskFrom = task.model.from;\n            curRowName = task.row.model.name;\n            preTask = curTask;\n            curTask = task;\n            if (task.model.childTasks && task.model.childTasks.length > 1) {\n                curTaskId = document.getElementById('taskIdStorage').value = '';\n            }\n            var taskColorMode = document.getElementById('taskColorsStorage').value;\n            var taskHighlight = document.getElementById('taskHighlightStorage').value;\n            if (taskHighlight !== '') {\n                $scope.initTaskColors();\n                $scope.initTaskHighlightColors();\n            } else {\n                if (curTask.model.color === CellSelectedColor) {\n                    if (taskColorMode === '1') {\n                        curTask.model.color = curTask.model.moAheadDelayColor;\n                    } else if (taskColorMode === '2') {\n                        curTask.model.color = curTask.model.moKitColor;\n                    } else {\n                        curTask.model.color = curTask.model.moStatusColor;\n                    }\n                } else {\n                    curTask.model.color = CellSelectedColor;\n                }\n                if (preTask && preTask !== curTask) {\n                    if (taskColorMode === '1') {\n                        preTask.model.color = preTask.model.moAheadDelayColor;\n                    } else if (taskColorMode === '2') {\n                        preTask.model.color = preTask.model.moKitColor;\n                    } else {\n                        preTask.model.color = preTask.model.moStatusColor;\n                    }\n                }\n            }\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        task.dependencies = [];\n                    });\n                }\n            });\n            curTask.model.dependencies = curTask.model.tempDependencies;\n            $scope.initParentDependencies(curTask.model.id);\n            $log.info('initParentDependencies ');\n            $scope.initChildDependencies(curTask.model.dependencies);\n            $log.info('initChildDependencies ');\n            $scope.api.dependencies.refresh();\n        } else if (eventName === 'tasks.on.moveBegin') {\n            $scope.data.forEach(function (rowData) {\n                var curMoResCodePriority = task.model.moResCodePriorities.find(function (moResCodePriority) {\n                    return moResCodePriority.Key === rowData.name;\n                });\n                if (curMoResCodePriority) {\n                    rowData.color = RowSelectedColor;\n                    rowData.priorityTips = curMoResCodePriority.Value;\n                } else {\n                    rowData.color = '';\n                    rowData.priorityTips = '';\n                }\n            });\n        } else if (eventName === 'tasks.on.moveEnd') {\n            $scope.data.forEach(function (rowData) {\n                rowData.color = '';\n                rowData.priorityTips = '';\n            });\n        }\n    };\n\n    var logRowEvent = function logRowEvent(eventName, row) {\n        $log.info('[Event] ' + eventName + ': ' + row.model.name);\n        if (eventName === 'row-click' || eventName === 'row-label-click') {\n            curRowName = row.model.name;\n            $scope.initGanttResourceCalendars();\n            $scope.data.forEach(function (rowData) {\n                if (rowData.name === row.model.name) {\n                    rowData.color = RowSelectedColor;\n                } else {\n                    rowData.color = '';\n                }\n            });\n        }\n    };\n\n    var logTimespanEvent = function logTimespanEvent(eventName, timespan) {\n        $log.info('[Event] ' + eventName + ': ' + timespan.model.name);\n    };\n\n    var logLabelsEvent = function logLabelsEvent(eventName, width) {\n        $log.info('[Event] ' + eventName + ': ' + width);\n    };\n\n    var logColumnsGenerateEvent = function logColumnsGenerateEvent(columns, headers) {\n        $log.info('[Event] ' + 'columns.on.generate' + ': ' + columns.length + ' column(s), ' + headers.length + ' header(s)');\n    };\n\n    var logRowsFilterEvent = function logRowsFilterEvent(rows, filteredRows) {\n        $log.info('[Event] rows.on.filter: ' + filteredRows.length + '/' + rows.length + ' rows displayed.');\n    };\n\n    var logTasksFilterEvent = function logTasksFilterEvent(tasks, filteredTasks) {\n        $log.info('[Event] tasks.on.filter: ' + filteredTasks.length + '/' + tasks.length + ' tasks displayed.');\n    };\n\n    var logReadyEvent = function logReadyEvent() {\n        $log.info('[Event] core.on.ready');\n    };\n\n    var addEventName = function addEventName(eventName, func) {\n        return function (data) {\n            return func(eventName, data);\n        };\n    };\n\n    $scope.options = {\n        mode: 'custom',\n        scale: 'day',\n        sortMode: undefined,\n        sideMode: 'Tree',\n        daily: false,\n        maxHeight: true,\n        width: false,\n        columnWidth: 400,\n        zoom: 1,\n        columns: ['model.name', 'from', 'to'],\n        treeTableColumns: ['from', 'to'],\n        columnsHeaders: { 'model.name': 'Name', 'from': 'From', 'to': 'To' },\n        columnsClasses: { 'model.name': 'gantt-column-name', 'from': 'gantt-column-from', 'to': 'gantt-column-to' },\n        columnsFormatters: {\n            'from': function from(_from) {\n                return _from !== undefined ? _from.format('lll') : undefined;\n            },\n            'to': function to(_to) {\n                return _to !== undefined ? _to.format('lll') : undefined;\n            }\n        },\n        treeHeaderContent: '<span></span>',\n        columnsHeaderContents: {\n            'model.name': '<i class=\"fa fa-align-justify\"></i> {{getHeader()}}',\n            'from': '<i class=\"fa fa-calendar\"></i> {{getHeader()}}',\n            'to': '<i class=\"fa fa-calendar\"></i> {{getHeader()}}'\n        },\n        autoExpand: 'none',\n        taskOutOfRange: 'truncate',\n        fromDate: (0, _moment2.default)(null),\n        toDate: null,\n        rowContentEnabled: true,\n        rowContent: '<lable><font size=\"2\" color=\"red\">{{row.model.priorityTips}}</font></lable>' + '{{row.model.name}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>' + '<lable style=\"display:{{row.model.publicTimeDisplay}}\"><font size=\"2\" color=\"red\">{{row.model.publicTime}}</font></lable>',\n        taskContentEnabled: true,\n        taskContent: '<i class=\"fa fa-tasks\"></i> {{task.model.name}}',\n        tooltipsContent: '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>' + '<label>{{task.model.taskTooltipsContent.ITEM_CODE}}</label><br/>' + '<label>{{task.model.taskTooltipsContent.DESCRIPTIONS_CN}}</label><br/>' + '<label>{{task.model.taskTooltipsContent.DEMAND_DATE}}</label><br/>' + '<label>{{task.model.taskTooltipsContent.MO_QTY}}</label><br/>' + '<label>{{getFromLabel() + \\' - \\' + getToLabel()}}</label>',\n        allowSideResizing: false,\n        labelsEnabled: true,\n        currentDate: 'none',\n        currentDateValue: new Date(),\n        draw: false,\n        readOnly: false,\n        groupDisplayMode: 'group',\n        filterTask: '',\n        filterRow: '',\n        timeFrames: {\n            'closed': {\n                working: false,\n                default: true\n            }\n        },\n        dateFrames: {},\n        timeFramesWorkingMode: 'visible',\n        timeFramesNonWorkingMode: 'visible',\n        columnMagnet: '1 minutes',\n        timeFramesMagnet: true,\n        dependencies: {\n            enabled: true,\n            conflictChecker: true\n        },\n        movable: {\n            allowRowSwitching: function allowRowSwitching(task, targetRow) {\n                if (task.model.moResCodePriorities) {\n                    var curMoResCodePriority = task.model.moResCodePriorities.find(function (moResCodePriority) {\n                        return moResCodePriority.Key === targetRow.model.name;\n                    });\n                    if (curMoResCodePriority) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        },\n        corner: {\n            headersLabels: function headersLabels(key) {\n                return key.charAt(0).toUpperCase() + key.slice(1);\n            },\n            headersLabelsTemplates: ''\n        },\n        targetDataAddRowIndex: undefined,\n        canDraw: function canDraw(event) {\n            var isLeftMouseButton = event.button === 0 || event.button === 1;\n            return $scope.options.draw && !$scope.options.readOnly && isLeftMouseButton;\n        },\n        drawTaskFactory: function drawTaskFactory() {\n            return {\n                id: ganttUtils.randomUuid(),\n                name: 'Drawn task',\n                color: '#AA8833' };\n        },\n        api: function api(_api) {\n            $scope.api = _api;\n            _api.core.on.ready($scope, function () {\n                _api.scroll.on.scroll($scope, logScrollEvent);\n                _api.core.on.ready($scope, logReadyEvent);\n                _api.data.on.remove($scope, addEventName('data.on.remove', logDataEvent));\n                _api.data.on.load($scope, addEventName('data.on.load', logDataEvent));\n                _api.data.on.clear($scope, addEventName('data.on.clear', logDataEvent));\n                _api.data.on.change($scope, addEventName('data.on.change', logDataEvent));\n\n                _api.tasks.on.change($scope, addEventName('tasks.on.change', logTaskEvent));\n                _api.tasks.on.rowChange($scope, addEventName('tasks.on.rowChange', logTaskEvent));\n                _api.tasks.on.remove($scope, addEventName('tasks.on.remove', logTaskEvent));\n                if (_api.tasks.on.moveBegin) {\n                    _api.tasks.on.moveBegin($scope, addEventName('tasks.on.moveBegin', logTaskEvent));\n\n                    _api.tasks.on.moveEnd($scope, addEventName('tasks.on.moveEnd', logTaskEvent));\n                    _api.tasks.on.resizeBegin($scope, addEventName('tasks.on.resizeBegin', logTaskEvent));\n\n                    _api.tasks.on.resizeEnd($scope, addEventName('tasks.on.resizeEnd', logTaskEvent));\n                }\n                if (_api.tasks.on.drawBegin) {\n                    _api.tasks.on.drawBegin($scope, addEventName('tasks.on.drawBegin', logTaskEvent));\n\n                    _api.tasks.on.drawEnd($scope, addEventName('tasks.on.drawEnd', logTaskEvent));\n                }\n\n                _api.rows.on.change($scope, addEventName('rows.on.change', logRowEvent));\n                _api.rows.on.move($scope, addEventName('rows.on.move', logRowEvent));\n                _api.rows.on.remove($scope, addEventName('rows.on.remove', logRowEvent));\n\n                _api.columns.on.generate($scope, logColumnsGenerateEvent);\n                _api.rows.on.filter($scope, logRowsFilterEvent);\n                _api.tasks.on.filter($scope, logTasksFilterEvent);\n\n                $scope.load();\n\n                _api.directives.on.new($scope, function (directiveName, directiveScope, element) {\n                    if (directiveName === 'ganttTask') {\n                        element.bind('click', function (event) {\n                            event.stopPropagation();\n                            logTaskEvent('task-click', directiveScope.task);\n                        });\n                        element.bind('mousedown touchstart', function (event) {\n                            event.stopPropagation();\n                            $scope.live.row = directiveScope.task.row.model;\n                            if (directiveScope.task.originalModel !== undefined) {\n                                $scope.live.task = directiveScope.task.originalModel;\n                            } else {\n                                $scope.live.task = directiveScope.task.model;\n                            }\n                            $scope.$digest();\n                        });\n                    } else if (directiveName === 'ganttRow') {\n                        element.bind('click', function (event) {\n                            event.stopPropagation();\n                            logRowEvent('row-click', directiveScope.row);\n                        });\n                        element.bind('mousedown touchstart', function (event) {\n                            event.stopPropagation();\n                            $scope.live.row = directiveScope.row.model;\n                            $scope.$digest();\n                        });\n                    } else if (directiveName === 'ganttRowLabel') {\n                        element.bind('click', function () {\n                            logRowEvent('row-label-click', directiveScope.row);\n                        });\n                        element.bind('mousedown touchstart', function () {\n                            $scope.live.row = directiveScope.row.model;\n                            $scope.$digest();\n                        });\n                    }\n                });\n                _api.tasks.on.rowChange($scope, function (task) {\n                    $scope.live.row = task.row.model;\n                });\n            });\n        }\n    };\n    $scope.handleTaskIconClick = function (taskModel) {\n        alert('Icon from ' + taskModel.name + ' task has been clicked.');\n    };\n    $scope.handleRowIconClick = function (rowModel) {\n        alert('Icon from ' + rowModel.name + ' row has been clicked.');\n    };\n    $scope.expandAll = function () {\n        $scope.api.tree.expandAll();\n    };\n    $scope.collapseAll = function () {\n        $scope.api.tree.collapseAll();\n    };\n\n    $scope.canAutoWidth = function (scale) {\n        if (scale.match(/.*?hour.*?/) || scale.match(/.*?minute.*?/)) {\n            return false;\n        }\n        return true;\n    };\n    $scope.getColumnWidth = function (widthEnabled, scale, zoom) {\n        if (!widthEnabled && $scope.canAutoWidth(scale)) {\n            return undefined;\n        }\n        if (scale.match(/.*?week.*?/)) {\n            return 150 * zoom;\n        }\n        if (scale.match(/.*?month.*?/)) {\n            return 300 * zoom;\n        }\n        if (scale.match(/.*?quarter.*?/)) {\n            return 500 * zoom;\n        }\n        if (scale.match(/.*?year.*?/)) {\n            return 800 * zoom;\n        }\n        return 40 * zoom;\n    };\n\n    $scope.load = function () {\n        $scope.data = DemoService.getSampleData();\n\n        $scope.timespans = DemoService.getSampleTimespans();\n    };\n    $scope.reload = function () {\n        $scope.load();\n    };\n\n    $scope.remove = function () {\n        $scope.api.dependencies.refresh();\n    };\n\n    $scope.clear = function () {\n        $scope.data = [];\n    };\n\n    $scope.live = {};\n    var debounceValue = 1000;\n\n    var ganttResourceCalendars = void 0;\n    $scope.initGanttResourceCalendars = function () {\n        if (curRowName && ganttResourceCalendars) {\n            var curGanttResourceCalendar = ganttResourceCalendars.filter(function (resCalendar) {\n                return resCalendar.ResourceCode === curRowName;\n            });\n            if (curGanttResourceCalendar && curGanttResourceCalendar.length > 0) {\n                var timeFrames = {};\n                for (var key in curGanttResourceCalendar[0].TimeFrames) {\n                    timeFrames[key] = {\n                        start: (0, _moment2.default)(curGanttResourceCalendar[0].TimeFrames[key].Start, 'HH:mm'),\n                        end: (0, _moment2.default)(curGanttResourceCalendar[0].TimeFrames[key].End, 'HH:mm'),\n                        color: curGanttResourceCalendar[0].TimeFrames[key].Color,\n                        working: curGanttResourceCalendar[0].TimeFrames[key].Working,\n                        defualt: curGanttResourceCalendar[0].TimeFrames[key].Defualt\n                    };\n                }\n                var dateFrames = {};\n                for (var _key in curGanttResourceCalendar[0].DateFrames) {\n                    var year = _key.slice(0, 4);\n                    var month = _key.slice(4, 6);\n                    var day = _key.slice(6, 8);\n                    dateFrames[_key] = {\n                        date: (0, _moment2.default)(year + '-' + month + '-' + day, 'YYYY-MM-DD'),\n                        targets: curGanttResourceCalendar[0].DateFrames[_key]\n                    };\n                }\n                $scope.options.timeFrames = timeFrames;\n                $scope.options.dateFrames = dateFrames;\n            }\n        }\n    };\n    var RowSelectedColor = void 0;\n    var CellSelectedColor = void 0;\n    var SameItemCodeColor = void 0;\n    var SameProjectNumColor = void 0;\n    var StandardFalgYColor = void 0;\n    var fromScrollDate = void 0;\n    var toScrollDate = void 0;\n    var scopeData = void 0;\n    $scope.initGanttData = function () {\n        $scope.options.scale = 'day';\n        document.getElementById('scaleModeStorage').value = '3 day';\n        $scope.options.columnWidth = 400;\n        $scope.options.filterTask = document.getElementById('filterTasksStorage').value = '';\n        $scope.options.filterRow = document.getElementById('filterRowsStorage').value = '';\n        document.getElementById('taskTooltipsStorage').value = '';\n        $scope.options.taskContent = '<div style=\"text-align:left; font-size:6px\">' + '<div style=\"width:1920px;height:5px;background:red;\" ng-if=\"task.model.exception.warningFlag\"></div>' + '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>' + '<label>{{task.model.from.format(\"YYYY-MM-DD HH:mm:ss\") + \\' - \\' + task.model.to.format(\"YYYY-MM-DD HH:mm:ss\")}}</label>' + '</div>';\n        curRowName = document.getElementById('rowNameStorage').value = '';\n        curTaskId = document.getElementById('taskIdStorage').value = '';\n        curTaskFrom = document.getElementById('taskFromStorage').value = '';\n        $scope.options.timeFrames = {};\n        $scope.options.dateFrames = {};\n        document.getElementById('taskHighlightStorage').value = '';\n        var ganttData = JSON.parse(document.getElementById('dataStorage').value);\n        $scope.data = ganttData.plantPlatformDataOutputDto.data;\n\n        $scope.options.fromDate = ganttData.dateRange.StartDate;\n        $scope.options.toDate = ganttData.dateRange.EndDate;\n        $scope.initScaleMode();\n        ganttResourceCalendars = ganttData.plantPlatformDataOutputDto.GanttResourceCalendars;\n        RowSelectedColor = ganttData.plantPlatformDataOutputDto.RowSelectedColor;\n        CellSelectedColor = ganttData.plantPlatformDataOutputDto.CellSelectedColor;\n        SameItemCodeColor = ganttData.plantPlatformDataOutputDto.SameItemCodeColor;\n        SameProjectNumColor = ganttData.plantPlatformDataOutputDto.SameProjectNumColor;\n        StandardFalgYColor = ganttData.plantPlatformDataOutputDto.StandardFalgYColor;\n    };\n    $scope.mergeGanttData = function () {\n        return;\n        var scale = document.getElementById('scaleModeStorage').value;\n        var viewScaleValue = 1;\n        var viewScaleUnit = 'day';\n        var splittedViewScale = void 0;\n        if (scale) {\n            splittedViewScale = scale.split(' ');\n        }\n        if (splittedViewScale && splittedViewScale.length > 1) {\n            viewScaleValue = splittedViewScale[0];\n            viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n        }\n        if (viewScaleUnit !== 'day' || viewScaleValue < 2) {\n            return;\n        }\n        var tempScopeData = [];\n        var guidSeed = new Date().getTime();\n        scopeData.forEach(function (rowData, rowIndex) {\n            tempScopeData.push(JSON.parse((0, _stringify2.default)(rowData)));\n            tempScopeData[rowIndex].tasks = [];\n            if (rowData.tasks.length > 0) {\n                var taskIndex = 0;\n                for (var i = 0; i < rowData.tasks.length; i++) {\n                    if (i === 0) {\n                        tempScopeData[rowIndex].tasks.push(JSON.parse((0, _stringify2.default)(rowData.tasks[i])));\n                        tempScopeData[rowIndex].tasks[taskIndex].childTasks.push(JSON.parse((0, _stringify2.default)(rowData.tasks[i])));\n                        taskIndex++;\n                    } else {\n                        var diffSecond1 = (0, _moment2.default)(rowData.tasks[i].from).diff(rowData.tasks[i - 1].to, 'second');\n\n                        var diffSecond2 = (0, _moment2.default)(fromScrollDate).diff(rowData.tasks[i - 1].from, 'second');\n                        if (rowData.tasks[i - 1].movable && rowData.tasks[i].movable && rowData.tasks[i - 1].taskTooltipsContent.ITEM_CODE === rowData.tasks[i].taskTooltipsContent.ITEM_CODE && rowData.tasks[i - 1].moStatusColor === rowData.tasks[i].moStatusColor && diffSecond1 === 0 && diffSecond2 <= 0) {\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].id = guidSeed++;\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].name = rowData.tasks[i].taskTooltipsContent.ITEM_CODE + '' + (tempScopeData[rowIndex].tasks[taskIndex - 1].childTasks.length + 1);\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].to = rowData.tasks[i].to;\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].progress = undefined;\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].dependencies = [];\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].tempDependencies = [];\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.MAKE_ORDER_NUM = tempScopeData[rowIndex].tasks[taskIndex - 1].name;\n\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.MO_QTY += rowData.tasks[i].taskTooltipsContent.MO_QTY;\n\n                            tempScopeData[rowIndex].tasks[taskIndex - 1].childTasks.push(JSON.parse((0, _stringify2.default)(rowData.tasks[i])));\n                            if ((0, _moment2.default)(rowData.tasks[i].taskTooltipsContent.DEMAND_DATE).diff(rowData.tasks[i - 1].taskTooltipsContent.DEMAND_DATE, 'second') > 0) {\n                                tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.DEMAND_DATE = rowData.tasks[i].taskTooltipsContent.DEMAND_DATE;\n                            }\n                        } else {\n                            tempScopeData[rowIndex].tasks.push(JSON.parse((0, _stringify2.default)(rowData.tasks[i])));\n                            tempScopeData[rowIndex].tasks[taskIndex].childTasks.push(JSON.parse((0, _stringify2.default)(rowData.tasks[i])));\n                            taskIndex++;\n                        }\n                    }\n                }\n            }\n        });\n        scopeData = tempScopeData;\n    };\n    $scope.splitGanttData = function () {\n        return;\n        var mergeFlag = false;\n        scopeData.forEach(function (rowData) {\n            rowData.tasks.forEach(function (task) {\n                if (task.childTasks && task.childTasks.length > 0) {\n                    mergeFlag = true;\n                    return;\n                }\n            });\n            if (mergeFlag) {\n                return;\n            }\n        });\n        if (!mergeFlag) {\n            scopeData.forEach(function (rowData) {\n                rowData.tasks.forEach(function (task) {\n                    task.from = (0, _moment2.default)(task.from);\n                    task.to = (0, _moment2.default)(task.to);\n                });\n            });\n        }\n        var tempScopeData = [];\n        scopeData.forEach(function (rowData, rowIndex) {\n            tempScopeData.push(JSON.parse((0, _stringify2.default)(rowData)));\n            tempScopeData[rowIndex].tasks = [];\n            rowData.tasks.forEach(function (task) {\n                if (task.childTasks) {\n                    task.childTasks.forEach(function (childTask) {\n                        childTask.visible = true;\n                        var tempChildTask = JSON.parse((0, _stringify2.default)(childTask));\n                        tempChildTask.visible = true;\n                        tempScopeData[rowIndex].tasks.push(tempChildTask);\n                    });\n                }\n            });\n        });\n\n        tempScopeData.forEach(function (curRow) {\n            curRow.tasks.sort(function (task1, task2) {\n                if ((0, _moment2.default)(task1.from).diff(task2.from, 'second') >= 0) {\n                    return 1;\n                } else {\n                    return -1;\n                }\n            });\n        });\n        if (mergeFlag) {\n            scopeData = tempScopeData;\n        }\n    };\n    $scope.initVisibleGanttData = function () {\n        return;\n        console.log(fromScrollDate);\n        console.log(toScrollDate);\n\n        $scope.splitGanttData();\n        console.log(scopeData, 'splitGanttData');\n\n        $scope.mergeGanttData();\n        console.log(scopeData, 'mergeGanttData');\n        var taskCount = 0;\n        var taskVisibleCount = 0;\n        scopeData.forEach(function (rowData) {\n            if (rowData.tasks.length > 0) {\n                taskCount += rowData.tasks.length;\n                rowData.tasks.forEach(function (task) {\n                    if (task.from && (0, _moment2.default)(task.from).isBetween(fromScrollDate, toScrollDate) || task.to && (0, _moment2.default)(task.to).isBetween(fromScrollDate, toScrollDate)) {\n                        task.visible = true;\n                        taskVisibleCount += 1;\n                    } else {\n                        task.visible = false;\n                    }\n                });\n            }\n        });\n        $scope.data = scopeData;\n        console.log($scope.data);\n        console.log('' + taskCount);\n        console.log('' + taskVisibleCount);\n    };\n    $scope.getGanttData = function () {\n        $scope.splitGanttData();\n        document.getElementById('dataStorage').value = (0, _stringify2.default)({ data: $scope.data });\n    };\n    $scope.setGanttData = function () {\n        curRowName = document.getElementById('rowNameStorage').value = '';\n        curTaskId = document.getElementById('taskIdStorage').value = '';\n        curTaskFrom = document.getElementById('taskFromStorage').value = '';\n        $scope.options.timeFrames = {};\n        $scope.options.dateFrames = {};\n\n        $scope.data = JSON.parse(document.getElementById('dataStorage').value).plantPlatformDataOutputDto.data;\n\n        $scope.initTaskColors();\n        $scope.initTaskTooltipsDisplay();\n    };\n    $scope.initScaleMode = function () {\n        var scale = document.getElementById('scaleModeStorage').value;\n        var splittedViewScale = void 0;\n        var viewScaleValue = 1;\n        var viewScaleUnit = scale;\n        preleft = 0;\n        fromScrollDate = (0, _moment2.default)($scope.options.fromDate).add(-1, 'milliseconds').format('YYYY-MM-DD HH:mm:ss');\n        if (scale) {\n            splittedViewScale = scale.split(' ');\n        }\n        if (splittedViewScale && splittedViewScale.length > 1) {\n            viewScaleValue = splittedViewScale[0];\n            viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n        }\n        if (viewScaleUnit === 'day') {\n            $scope.options.scale = 'day';\n            $scope.options.columnWidth = 1200 / viewScaleValue;\n            toScrollDate = (0, _moment2.default)($scope.options.fromDate).add(viewScaleValue, 'day').format('YYYY-MM-DD HH:mm:ss');\n        } else {\n            $scope.options.scale = scale;\n            $scope.options.columnWidth = 1200;\n            toScrollDate = (0, _moment2.default)($scope.options.fromDate).add(viewScaleValue, 'hour').format('YYYY-MM-DD HH:mm:ss');\n        }\n        if (initVisibleGanttDataTimer) {\n            $timeout.cancel(initVisibleGanttDataTimer);\n        }\n        initVisibleGanttDataTimer = $timeout(function () {\n            $scope.initVisibleGanttData();\n        }, 50);\n    };\n    $scope.initFilterTasks = function () {\n        $scope.options.filterTask = document.getElementById('filterTasksStorage').value;\n    };\n    $scope.initFilterRows = function () {\n        $scope.options.filterRow = document.getElementById('filterRowsStorage').value;\n    };\n    $scope.initTaskTooltipsDisplay = function () {\n        var taskTooltipsDisplay = JSON.parse(document.getElementById('taskTooltipsStorage').value).taskTooltipsDisplay;\n        var taskContent = '';\n        var heightInline = 0;\n        if (taskTooltipsDisplay[0] === 'inline') {\n            taskContent = '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>';\n            heightInline++;\n        }\n        if (taskTooltipsDisplay[1] === 'inline') {\n            taskContent += '<label>{{task.model.taskTooltipsContent.ITEM_CODE}}</label><br/>';\n            heightInline++;\n        }\n        if (taskTooltipsDisplay[2] === 'inline') {\n            taskContent += '<label>{{task.model.taskTooltipsContent.DESCRIPTIONS_CN}}</label><br/>';\n            heightInline++;\n        }\n        if (taskTooltipsDisplay[3] === 'inline') {\n            taskContent += '<label>{{task.model.taskTooltipsContent.DEMAND_DATE}}</label><br/>';\n            heightInline++;\n        }\n        if (taskTooltipsDisplay[4] === 'inline') {\n            taskContent += '<label>{{task.model.taskTooltipsContent.MO_QTY}}</label><br/>';\n            heightInline++;\n        }\n        if (taskTooltipsDisplay[5] === 'inline') {\n            taskContent += '<label>{{task.model.from.format(\"YYYY-MM-DD HH:mm:ss\") + \\' - \\' + task.model.to.format(\"YYYY-MM-DD HH:mm:ss\")}}</label>';\n            heightInline++;\n        }\n        var height = '3em';\n        if (heightInline > 1) {\n            height = 2.2 * heightInline + 'em';\n        }\n        $scope.data.forEach(function (rowData) {\n            if (rowData.children.length === 0) {\n                rowData.height = height;\n            }\n        });\n        $scope.options.taskContent = '<div style=\"text-align:left; font-size:6px\"><div style=\"width:1920px;height:5px;background:red;\" ng-if=\"task.model.exception.warningFlag\"></div>' + taskContent + '</div>';\n    };\n    var curRowName = void 0;\n    $scope.initRowName = function () {\n        if (curRowName === undefined) {\n            document.getElementById('rowNameStorage').value = '';\n        } else {\n            document.getElementById('rowNameStorage').value = curRowName;\n        }\n    };\n    $scope.backupRowName = function () {\n        document.getElementById('rowNameStorage').value = curRowName = '';\n    };\n    var curTaskId = void 0;\n    $scope.initTaskId = function () {\n        if (curTaskId === undefined) {\n            document.getElementById('taskIdStorage').value = '';\n        } else {\n            document.getElementById('taskIdStorage').value = curTaskId;\n        }\n    };\n    $scope.backupTaskId = function () {\n        document.getElementById('taskIdStorage').value = curTaskId = '';\n    };\n    var curTaskFrom = void 0;\n    $scope.initTaskFrom = function () {\n        if (curTaskFrom === undefined) {\n            document.getElementById('taskFromStorage').value = '';\n        } else {\n            document.getElementById('taskFromStorage').value = curTaskFrom;\n        }\n    };\n    $scope.backupTaskFrom = function () {\n        document.getElementById('taskFromStorage').value = curTaskFrom = '';\n    };\n    $scope.initTaskColors = function () {\n        var taskColorMode = document.getElementById('taskColorsStorage').value;\n        if (taskColorMode === '1') {\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        task.color = task.moAheadDelayColor;\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                childTask.color = childTask.moAheadDelayColor;\n                            });\n                        }\n                    });\n                }\n            });\n        } else if (taskColorMode === '2') {\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        task.color = task.moKitColor;\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                childTask.color = childTask.moKitColor;\n                            });\n                        }\n                    });\n                }\n            });\n        } else {\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        task.color = task.moStatusColor;\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                childTask.color = childTask.moStatusColor;\n                            });\n                        }\n                    });\n                }\n            });\n        }\n    };\n    $scope.initTaskHighlightColors = function () {\n        var taskHighlight = document.getElementById('taskHighlightStorage').value;\n        if (taskHighlight === '0' && curTask) {\n            curTask.model.color = SameItemCodeColor;\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        if (task.taskTooltipsContent.ITEM_CODE === curTask.model.taskTooltipsContent.ITEM_CODE) {\n                            task.color = curTask.model.color;\n                        }\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                if (childTask.taskTooltipsContent.ITEM_CODE === curTask.model.taskTooltipsContent.ITEM_CODE) {\n                                    childTask.color = curTask.model.color;\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        } else if (taskHighlight === '1' && curTask) {\n            curTask.model.color = SameProjectNumColor;\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        if (task.taskTooltipsContent.PROJECT_NUMBER === curTask.model.taskTooltipsContent.PROJECT_NUMBER) {\n                            task.color = curTask.model.color;\n                        }\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                if (childTask.taskTooltipsContent.PROJECT_NUMBER === curTask.model.taskTooltipsContent.PROJECT_NUMBER) {\n                                    childTask.color = curTask.model.color;\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        } else if (taskHighlight === '2') {\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        if (task.taskTooltipsContent.STANDARD_FLAG === 'Y') {\n                            task.color = StandardFalgYColor;\n                        }\n                        if (task.childTasks && task.childTasks.length > 0) {\n                            task.childTasks.forEach(function (childTask) {\n                                if (childTask.taskTooltipsContent.STANDARD_FLAG === 'Y') {\n                                    childTask.color = StandardFalgYColor;\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        } else {\n            $scope.initTaskColors();\n        }\n    };\n    $scope.initParentDependencies = function (curId) {\n        if (curId) {\n            $scope.data.forEach(function (rowData) {\n                if (rowData.tasks.length > 0) {\n                    rowData.tasks.forEach(function (task) {\n                        if (task.tempDependencies && task.tempDependencies.length > 0) {\n                            task.tempDependencies.forEach(function (dep) {\n                                if (dep.to === curId) {\n                                    task.dependencies = [];\n                                    task.dependencies.push({ to: curId });\n                                    $scope.initParentDependencies(task.id);\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        }\n    };\n    $scope.initChildDependencies = function (dependencies) {\n        if (dependencies) {\n            dependencies.forEach(function (dep) {\n                $scope.data.forEach(function (rowData) {\n                    if (rowData.tasks.length > 0) {\n                        rowData.tasks.forEach(function (task) {\n                            if (dep.to === task.id) {\n                                task.dependencies = task.tempDependencies;\n                                $scope.initChildDependencies(task.dependencies);\n                            }\n                        });\n                    }\n                });\n            });\n        }\n    };\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 185 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        getSampleData: function getSampleData() {\n            return [{ 'name': 'Loading Data', 'publicTimeDisplay': 'none', 'children': [], 'tasks': [], 'height': '5em', 'movable': { 'allowResizing': false } }];\n        },\n        getSampleTimespans: function getSampleTimespans() {\n            return [];\n        }\n    };\n};\n\n/***/ }),\n/* 186 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _bounds = __webpack_require__(323);\n\nvar _bounds2 = _interopRequireDefault(_bounds);\n\nvar _corner = __webpack_require__(327);\n\nvar _corner2 = _interopRequireDefault(_corner);\n\nvar _dependencies = __webpack_require__(333);\n\nvar _dependencies2 = _interopRequireDefault(_dependencies);\n\nvar _drawtask = __webpack_require__(336);\n\nvar _drawtask2 = _interopRequireDefault(_drawtask);\n\nvar _groups = __webpack_require__(339);\n\nvar _groups2 = _interopRequireDefault(_groups);\n\nvar _labels = __webpack_require__(343);\n\nvar _labels2 = _interopRequireDefault(_labels);\n\nvar _movable = __webpack_require__(348);\n\nvar _movable2 = _interopRequireDefault(_movable);\n\nvar _overlap = __webpack_require__(351);\n\nvar _overlap2 = _interopRequireDefault(_overlap);\n\nvar _progress = __webpack_require__(353);\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _resizeSensor = __webpack_require__(356);\n\nvar _resizeSensor2 = _interopRequireDefault(_resizeSensor);\n\nvar _sections = __webpack_require__(358);\n\nvar _sections2 = _interopRequireDefault(_sections);\n\nvar _sortable = __webpack_require__(362);\n\nvar _sortable2 = _interopRequireDefault(_sortable);\n\nvar _table = __webpack_require__(364);\n\nvar _table2 = _interopRequireDefault(_table);\n\nvar _tooltips = __webpack_require__(369);\n\nvar _tooltips2 = _interopRequireDefault(_tooltips);\n\nvar _tree = __webpack_require__(372);\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    bounds: _bounds2.default,\n    corner: _corner2.default,\n    dependencies: _dependencies2.default,\n    drawtask: _drawtask2.default,\n    groups: _groups2.default,\n    labels: _labels2.default,\n    movable: _movable2.default,\n    overlap: _overlap2.default,\n    progress: _progress2.default,\n    resizeSensor: _resizeSensor2.default,\n    sections: _sections2.default,\n    sortable: _sortable2.default,\n    table: _table2.default,\n    tooltips: _tooltips2.default,\n    tree: _tree2.default\n};\n\n/***/ }),\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */,\n/* 224 */,\n/* 225 */,\n/* 226 */,\n/* 227 */,\n/* 228 */,\n/* 229 */,\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */,\n/* 240 */,\n/* 241 */,\n/* 242 */,\n/* 243 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 252 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 253 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 254 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 255 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 258 */,\n/* 259 */,\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./af\": 51,\n\t\"./af.js\": 51,\n\t\"./ar\": 58,\n\t\"./ar-dz\": 52,\n\t\"./ar-dz.js\": 52,\n\t\"./ar-kw\": 53,\n\t\"./ar-kw.js\": 53,\n\t\"./ar-ly\": 54,\n\t\"./ar-ly.js\": 54,\n\t\"./ar-ma\": 55,\n\t\"./ar-ma.js\": 55,\n\t\"./ar-sa\": 56,\n\t\"./ar-sa.js\": 56,\n\t\"./ar-tn\": 57,\n\t\"./ar-tn.js\": 57,\n\t\"./ar.js\": 58,\n\t\"./az\": 59,\n\t\"./az.js\": 59,\n\t\"./be\": 60,\n\t\"./be.js\": 60,\n\t\"./bg\": 61,\n\t\"./bg.js\": 61,\n\t\"./bn\": 62,\n\t\"./bn.js\": 62,\n\t\"./bo\": 63,\n\t\"./bo.js\": 63,\n\t\"./br\": 64,\n\t\"./br.js\": 64,\n\t\"./bs\": 65,\n\t\"./bs.js\": 65,\n\t\"./ca\": 66,\n\t\"./ca.js\": 66,\n\t\"./cs\": 67,\n\t\"./cs.js\": 67,\n\t\"./cv\": 68,\n\t\"./cv.js\": 68,\n\t\"./cy\": 69,\n\t\"./cy.js\": 69,\n\t\"./da\": 70,\n\t\"./da.js\": 70,\n\t\"./de\": 73,\n\t\"./de-at\": 71,\n\t\"./de-at.js\": 71,\n\t\"./de-ch\": 72,\n\t\"./de-ch.js\": 72,\n\t\"./de.js\": 73,\n\t\"./dv\": 74,\n\t\"./dv.js\": 74,\n\t\"./el\": 75,\n\t\"./el.js\": 75,\n\t\"./en-au\": 76,\n\t\"./en-au.js\": 76,\n\t\"./en-ca\": 77,\n\t\"./en-ca.js\": 77,\n\t\"./en-gb\": 78,\n\t\"./en-gb.js\": 78,\n\t\"./en-ie\": 79,\n\t\"./en-ie.js\": 79,\n\t\"./en-nz\": 80,\n\t\"./en-nz.js\": 80,\n\t\"./eo\": 81,\n\t\"./eo.js\": 81,\n\t\"./es\": 83,\n\t\"./es-do\": 82,\n\t\"./es-do.js\": 82,\n\t\"./es.js\": 83,\n\t\"./et\": 84,\n\t\"./et.js\": 84,\n\t\"./eu\": 85,\n\t\"./eu.js\": 85,\n\t\"./fa\": 86,\n\t\"./fa.js\": 86,\n\t\"./fi\": 87,\n\t\"./fi.js\": 87,\n\t\"./fo\": 88,\n\t\"./fo.js\": 88,\n\t\"./fr\": 91,\n\t\"./fr-ca\": 89,\n\t\"./fr-ca.js\": 89,\n\t\"./fr-ch\": 90,\n\t\"./fr-ch.js\": 90,\n\t\"./fr.js\": 91,\n\t\"./fy\": 92,\n\t\"./fy.js\": 92,\n\t\"./gd\": 93,\n\t\"./gd.js\": 93,\n\t\"./gl\": 94,\n\t\"./gl.js\": 94,\n\t\"./gom-latn\": 95,\n\t\"./gom-latn.js\": 95,\n\t\"./he\": 96,\n\t\"./he.js\": 96,\n\t\"./hi\": 97,\n\t\"./hi.js\": 97,\n\t\"./hr\": 98,\n\t\"./hr.js\": 98,\n\t\"./hu\": 99,\n\t\"./hu.js\": 99,\n\t\"./hy-am\": 100,\n\t\"./hy-am.js\": 100,\n\t\"./id\": 101,\n\t\"./id.js\": 101,\n\t\"./is\": 102,\n\t\"./is.js\": 102,\n\t\"./it\": 103,\n\t\"./it.js\": 103,\n\t\"./ja\": 104,\n\t\"./ja.js\": 104,\n\t\"./jv\": 105,\n\t\"./jv.js\": 105,\n\t\"./ka\": 106,\n\t\"./ka.js\": 106,\n\t\"./kk\": 107,\n\t\"./kk.js\": 107,\n\t\"./km\": 108,\n\t\"./km.js\": 108,\n\t\"./kn\": 109,\n\t\"./kn.js\": 109,\n\t\"./ko\": 110,\n\t\"./ko.js\": 110,\n\t\"./ky\": 111,\n\t\"./ky.js\": 111,\n\t\"./lb\": 112,\n\t\"./lb.js\": 112,\n\t\"./lo\": 113,\n\t\"./lo.js\": 113,\n\t\"./lt\": 114,\n\t\"./lt.js\": 114,\n\t\"./lv\": 115,\n\t\"./lv.js\": 115,\n\t\"./me\": 116,\n\t\"./me.js\": 116,\n\t\"./mi\": 117,\n\t\"./mi.js\": 117,\n\t\"./mk\": 118,\n\t\"./mk.js\": 118,\n\t\"./ml\": 119,\n\t\"./ml.js\": 119,\n\t\"./mr\": 120,\n\t\"./mr.js\": 120,\n\t\"./ms\": 122,\n\t\"./ms-my\": 121,\n\t\"./ms-my.js\": 121,\n\t\"./ms.js\": 122,\n\t\"./my\": 123,\n\t\"./my.js\": 123,\n\t\"./nb\": 124,\n\t\"./nb.js\": 124,\n\t\"./ne\": 125,\n\t\"./ne.js\": 125,\n\t\"./nl\": 127,\n\t\"./nl-be\": 126,\n\t\"./nl-be.js\": 126,\n\t\"./nl.js\": 127,\n\t\"./nn\": 128,\n\t\"./nn.js\": 128,\n\t\"./pa-in\": 129,\n\t\"./pa-in.js\": 129,\n\t\"./pl\": 130,\n\t\"./pl.js\": 130,\n\t\"./pt\": 132,\n\t\"./pt-br\": 131,\n\t\"./pt-br.js\": 131,\n\t\"./pt.js\": 132,\n\t\"./ro\": 133,\n\t\"./ro.js\": 133,\n\t\"./ru\": 134,\n\t\"./ru.js\": 134,\n\t\"./sd\": 135,\n\t\"./sd.js\": 135,\n\t\"./se\": 136,\n\t\"./se.js\": 136,\n\t\"./si\": 137,\n\t\"./si.js\": 137,\n\t\"./sk\": 138,\n\t\"./sk.js\": 138,\n\t\"./sl\": 139,\n\t\"./sl.js\": 139,\n\t\"./sq\": 140,\n\t\"./sq.js\": 140,\n\t\"./sr\": 142,\n\t\"./sr-cyrl\": 141,\n\t\"./sr-cyrl.js\": 141,\n\t\"./sr.js\": 142,\n\t\"./ss\": 143,\n\t\"./ss.js\": 143,\n\t\"./sv\": 144,\n\t\"./sv.js\": 144,\n\t\"./sw\": 145,\n\t\"./sw.js\": 145,\n\t\"./ta\": 146,\n\t\"./ta.js\": 146,\n\t\"./te\": 147,\n\t\"./te.js\": 147,\n\t\"./tet\": 148,\n\t\"./tet.js\": 148,\n\t\"./th\": 149,\n\t\"./th.js\": 149,\n\t\"./tl-ph\": 150,\n\t\"./tl-ph.js\": 150,\n\t\"./tlh\": 151,\n\t\"./tlh.js\": 151,\n\t\"./tr\": 152,\n\t\"./tr.js\": 152,\n\t\"./tzl\": 153,\n\t\"./tzl.js\": 153,\n\t\"./tzm\": 155,\n\t\"./tzm-latn\": 154,\n\t\"./tzm-latn.js\": 154,\n\t\"./tzm.js\": 155,\n\t\"./uk\": 156,\n\t\"./uk.js\": 156,\n\t\"./ur\": 157,\n\t\"./ur.js\": 157,\n\t\"./uz\": 159,\n\t\"./uz-latn\": 158,\n\t\"./uz-latn.js\": 158,\n\t\"./uz.js\": 159,\n\t\"./vi\": 160,\n\t\"./vi.js\": 160,\n\t\"./x-pseudo\": 161,\n\t\"./x-pseudo.js\": 161,\n\t\"./yo\": 162,\n\t\"./yo.js\": 162,\n\t\"./zh-cn\": 163,\n\t\"./zh-cn.js\": 163,\n\t\"./zh-hk\": 164,\n\t\"./zh-hk.js\": 164,\n\t\"./zh-tw\": 165,\n\t\"./zh-tw.js\": 165\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 260;\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _src = __webpack_require__(6);\n\nvar _src2 = _interopRequireDefault(_src);\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _angularAnimate = __webpack_require__(179);\n\nvar _angularAnimate2 = _interopRequireDefault(_angularAnimate);\n\nvar _angularStrap = __webpack_require__(180);\n\nvar _angularStrap2 = _interopRequireDefault(_angularStrap);\n\nvar _demo = __webpack_require__(184);\n\nvar _demo2 = _interopRequireDefault(_demo);\n\nvar _demo3 = __webpack_require__(185);\n\nvar _demo4 = _interopRequireDefault(_demo3);\n\nvar _plugins = __webpack_require__(186);\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(182);\n__webpack_require__(183);\n__webpack_require__(181);\nvar demoModule = 'gantt.demo';\n_angular2.default.module(demoModule, [_src2.default, _angularStrap2.default, _angularAnimate2.default, _plugins2.default.bounds, _plugins2.default.corner, _plugins2.default.dependencies, _plugins2.default.drawtask, _plugins2.default.groups, _plugins2.default.labels, _plugins2.default.movable, _plugins2.default.overlap, _plugins2.default.progress, _plugins2.default.resizeSensor, _plugins2.default.sections, _plugins2.default.sortable, _plugins2.default.table, _plugins2.default.tooltips, _plugins2.default.tree]).service('DemoService', _demo4.default).controller('DemoCtrl', _demo2.default).config(['$compileProvider', function ($compileProvider) {\n    $compileProvider.debugInfoEnabled(false);\n}]);\nexports.default = demoModule;\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"Gantt\", \"ganttEnableNgAnimate\", \"$timeout\", \"$templateCache\", function (Gantt, ganttEnableNgAnimate, $timeout, $templateCache) {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        transclude: true,\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'template/gantt.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template !== undefined) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        scope: {\n            sortMode: '=?',\n            filterTask: '=?',\n            filterTaskComparator: '=?',\n            filterRow: '=?',\n            filterRowComparator: '=?',\n            viewScale: '=?',\n            columnWidth: '=?',\n            expandToFit: '=?',\n            shrinkToFit: '=?',\n            showSide: '=?',\n            allowSideResizing: '=?',\n            fromDate: '=?',\n            toDate: '=?',\n            currentDateValue: '=?',\n            currentDate: '=?',\n            daily: '=?',\n            autoExpand: '=?',\n            taskOutOfRange: '=?',\n            taskContent: '=?',\n            rowContent: '=?',\n            maxHeight: '=?',\n            sideWidth: '=?',\n            headers: '=?',\n            headersFormats: '=?',\n            headersScales: '=?',\n            timeFrames: '=?',\n            dateFrames: '=?',\n            timeFramesWorkingMode: '=?',\n            timeFramesNonWorkingMode: '=?',\n            timespans: '=?',\n            columnMagnet: '=?',\n            shiftColumnMagnet: '=?',\n            timeFramesMagnet: '=?',\n            data: '=?',\n            api: '=?',\n            options: '=?'\n        },\n        controller: [\"$scope\", \"$element\", function controller($scope, $element) {\n            'ngInject';\n\n            for (var option in $scope.options) {\n                $scope[option] = $scope.options[option];\n            }\n\n            ganttEnableNgAnimate($element, false);\n            $scope.gantt = new Gantt($scope, $element);\n            this.gantt = $scope.gantt;\n        }],\n        link: function link(scope, element) {\n            scope.gantt.api.directives.raise.new('gantt', scope, element);\n            scope.$on('$destroy', function () {\n                scope.gantt.api.directives.raise.destroy('gantt', scope, element);\n            });\n            $timeout(function () {\n                scope.gantt.initialized();\n            });\n        }\n    };\n}];\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttColumnBuilder = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttColumn\", function (GanttColumn) {\n    'ngInject';\n\n    GanttColumnBuilder.GanttColumn = GanttColumn;\n    return GanttColumnBuilder;\n}];\n\nvar _column = __webpack_require__(36);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttColumnBuilder = exports.GanttColumnBuilder = function () {\n    function GanttColumnBuilder(columnsManager) {\n        (0, _classCallCheck3.default)(this, GanttColumnBuilder);\n\n        this.columnsManager = columnsManager;\n    }\n\n    (0, _createClass3.default)(GanttColumnBuilder, [{\n        key: 'newColumn',\n        value: function newColumn(date, endDate, left, width) {\n            var calendar = this.columnsManager.gantt.calendar;\n            var timeFramesWorkingMode = this.columnsManager.gantt.options.value('timeFramesWorkingMode');\n            var timeFramesNonWorkingMode = this.columnsManager.gantt.options.value('timeFramesNonWorkingMode');\n            return new _column.GanttColumn(date, endDate, left, width, calendar, timeFramesWorkingMode, timeFramesNonWorkingMode);\n        }\n    }]);\n    return GanttColumnBuilder;\n}();\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttColumnGenerator = function () {\n    function GanttColumnGenerator() {\n        (0, _classCallCheck3.default)(this, GanttColumnGenerator);\n    }\n\n    (0, _createClass3.default)(GanttColumnGenerator, [{\n        key: 'isToDateToExclude',\n        value: function isToDateToExclude(to, value, unit) {\n            return (0, _moment2.default)(to).add(value, unit).startOf(unit) === to;\n        }\n    }, {\n        key: 'getFirstValue',\n        value: function getFirstValue(unit) {\n            if (['hour', 'minute', 'second', 'millisecond'].indexOf(unit) >= 0) {\n                return 0;\n            }\n        }\n    }, {\n        key: 'ensureNoUnitOverflow',\n        value: function ensureNoUnitOverflow(unit, startDate, endDate) {\n            var v1 = startDate.get(unit);\n            var v2 = endDate.get(unit);\n            var firstValue = this.getFirstValue(unit);\n            if (firstValue !== undefined && v2 !== firstValue && v2 < v1) {\n                endDate.set(unit, firstValue);\n            }\n        }\n    }, {\n        key: 'generate',\n        value: function generate(builder, from, to, viewScale, columnWidth, maximumWidth, leftOffset, reverse) {\n            if (!to && !maximumWidth) {\n                throw new Error('to or maximumWidth must be defined');\n            }\n            viewScale = viewScale.trim();\n            if (viewScale.charAt(viewScale.length - 1) === 's') {\n                viewScale = viewScale.substring(0, viewScale.length - 1);\n            }\n            var viewScaleValue = void 0;\n            var viewScaleUnit = void 0;\n            var splittedViewScale = void 0;\n            if (viewScale) {\n                splittedViewScale = viewScale.split(' ');\n            }\n            if (splittedViewScale && splittedViewScale.length > 1) {\n                viewScaleValue = parseFloat(splittedViewScale[0]);\n                viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n            } else {\n                viewScaleValue = 1;\n                viewScaleUnit = viewScale;\n            }\n            var excludeTo = false;\n            from = (0, _moment2.default)(from).startOf(viewScaleUnit);\n            if (to) {\n                excludeTo = this.isToDateToExclude(to, viewScaleValue, viewScaleUnit);\n                to = (0, _moment2.default)(to).startOf(viewScaleUnit);\n            }\n            var left = 0;\n            var date = (0, _moment2.default)(from).startOf(viewScaleUnit);\n            if (reverse) {\n                date.subtract(viewScaleValue, viewScaleUnit);\n                left -= columnWidth;\n            }\n            var generatedCols = [];\n            while (true) {\n                if (maximumWidth && Math.abs(left) > maximumWidth + columnWidth) {\n                    break;\n                }\n                var startDate = (0, _moment2.default)(date);\n                var endDate = (0, _moment2.default)(startDate).add(viewScaleValue, viewScaleUnit);\n                this.ensureNoUnitOverflow(viewScaleUnit, startDate, endDate);\n                var column = builder.newColumn(startDate, endDate, leftOffset ? left + leftOffset : left, columnWidth);\n                if (!column.cropped) {\n                    generatedCols.push(column);\n                    if (reverse) {\n                        left -= columnWidth;\n                    } else {\n                        left += columnWidth;\n                    }\n                }\n                if (to) {\n                    if (reverse) {\n                        if (excludeTo && date < to || !excludeTo && date <= to) {\n                            break;\n                        }\n                    } else {\n                        if (excludeTo && date > to || !excludeTo && date >= to) {\n                            break;\n                        }\n                    }\n                }\n                if (reverse) {\n                    date.subtract(viewScaleValue, viewScaleUnit);\n                    this.ensureNoUnitOverflow(viewScaleUnit, date, startDate);\n                } else {\n                    date.add(viewScaleValue, viewScaleUnit);\n                    this.ensureNoUnitOverflow(viewScaleUnit, startDate, date);\n                }\n            }\n            if (reverse) {\n                if (this.isToDateToExclude(from, viewScaleValue, viewScaleUnit)) {\n                    generatedCols.shift();\n                }\n                generatedCols.reverse();\n            }\n            return generatedCols;\n        }\n    }]);\n    return GanttColumnGenerator;\n}();\n\nexports.default = GanttColumnGenerator;\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _columnHeader = __webpack_require__(170);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttHeadersGenerator = function () {\n    function GanttHeadersGenerator() {\n        (0, _classCallCheck3.default)(this, GanttHeadersGenerator);\n    }\n\n    (0, _createClass3.default)(GanttHeadersGenerator, [{\n        key: 'generateHeaders',\n        value: function generateHeaders(columnsManager, headerName) {\n            var generatedHeaders = [];\n            var header = void 0;\n            var viewScale = headerName;\n            var viewScaleValue = void 0;\n            var viewScaleUnit = void 0;\n            var splittedViewScale = void 0;\n            if (viewScale) {\n                splittedViewScale = viewScale.split(' ');\n            }\n            if (splittedViewScale && splittedViewScale.length > 1) {\n                viewScaleValue = parseFloat(splittedViewScale[0]);\n                viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n            } else {\n                viewScaleValue = 1;\n                viewScaleUnit = viewScale;\n            }\n            if (columnsManager.columns.length > 0) {\n                var currentColumn = columnsManager.columns[0];\n                var currentDate = (0, _moment2.default)(currentColumn.date).startOf(viewScaleUnit);\n                var maximumDate = (0, _moment2.default)(columnsManager.columns[columnsManager.columns.length - 1].endDate);\n                while (true) {\n                    var currentPosition = currentColumn.getPositionByDate(currentDate);\n                    var endDate = _moment2.default.min((0, _moment2.default)(currentDate).add(viewScaleValue, viewScaleUnit), maximumDate);\n                    var column = columnsManager.getColumnByDate(endDate);\n                    var left = column.getPositionByDate(endDate);\n                    var width = left - currentPosition;\n                    if (width > 0) {\n                        var labelFormat = this.labelFormat;\n                        header = new _columnHeader.GanttColumnHeader(currentDate, endDate, viewScaleUnit, currentPosition, width, labelFormat, headerName);\n                        generatedHeaders.push(header);\n                    }\n                    if (endDate.isSame(maximumDate) || endDate.isAfter(maximumDate)) {\n                        break;\n                    }\n                    currentColumn = column;\n                    currentDate = endDate;\n                }\n            }\n            return generatedHeaders;\n        }\n    }, {\n        key: 'labelFormat',\n        value: function labelFormat(columnHeader) {\n            var label = columnHeader.date.format('M-D');\n            var week = columnHeader.date.format('d');\n            switch (week) {\n                case '1':\n                    label += '()';\n                    break;\n                case '2':\n                    label += '()';\n                    break;\n                case '3':\n                    label += '()';\n                    break;\n                case '4':\n                    label += '()';\n                    break;\n                case '5':\n                    label += '()';\n                    break;\n                case '6':\n                    label += '()*';\n                    break;\n                case '0':\n                    label += '()*';\n                    break;\n                default:\n                    label += '()';\n                    break;\n            }\n            var splittedViewScale = void 0;\n            var viewScaleValue = void 0;\n            if (columnHeader.name) {\n                splittedViewScale = columnHeader.name.split(' ');\n            }\n            if (splittedViewScale && splittedViewScale.length > 1) {\n                viewScaleValue = splittedViewScale[0];\n            } else {\n                viewScaleValue = 1;\n            }\n            if (columnHeader.unit === 'hour') {\n                label += columnHeader.date.format('HH:mm:ss') + '~' + columnHeader.date.add(viewScaleValue, 'h').format('HH:mm:ss');\n            }\n            return label;\n        }\n    }, {\n        key: 'generate',\n        value: function generate(columnsManager) {\n            var headerNames = [];\n            if (columnsManager.gantt.options.value('headers') === undefined) {\n                var viewScale = columnsManager.gantt.options.value('viewScale');\n                viewScale = viewScale.trim();\n                if (viewScale.charAt(viewScale.length - 1) === 's') {\n                    viewScale = viewScale.substring(0, viewScale.length - 1);\n                }\n                var viewScaleUnit = void 0;\n                var splittedViewScale = void 0;\n                if (viewScale) {\n                    splittedViewScale = viewScale.split(' ');\n                }\n                if (splittedViewScale && splittedViewScale.length > 1) {\n                    viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n                } else {\n                    viewScaleUnit = viewScale;\n                }\n\n                headerNames.push(viewScale);\n            } else {\n                headerNames = columnsManager.gantt.options.value('headers');\n            }\n            var headers = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(headerNames), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var headerName = _step.value;\n\n                    headers.push(this.generateHeaders(columnsManager, headerName));\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return headers;\n        }\n    }]);\n    return GanttHeadersGenerator;\n}();\n\nexports.default = GanttHeadersGenerator;\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Gantt = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"GanttApi\", \"GanttOptions\", \"GanttCalendar\", \"GanttScroll\", \"GanttBody\", \"GanttHeader\", \"GanttSide\", \"GanttObjectModel\", \"GanttRowsManager\", \"GanttColumnsManager\", \"GanttTimespansManager\", \"GanttCurrentDateManager\", \"ganttArrays\", \"$document\", \"$timeout\", function (GanttApi, GanttOptions, GanttCalendar, GanttScroll, GanttBody, GanttHeader, GanttSide, GanttObjectModel, GanttRowsManager, GanttColumnsManager, GanttTimespansManager, GanttCurrentDateManager, ganttArrays, $document, $timeout) {\n    'ngInject';\n\n    Gantt.ganttArrays = ganttArrays;\n    Gantt.$document = $document;\n    Gantt.$timeout = $timeout;\n    return Gantt;\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _api = __webpack_require__(166);\n\nvar _options = __webpack_require__(167);\n\nvar _calendar = __webpack_require__(168);\n\nvar _currentDateManager = __webpack_require__(169);\n\nvar _objectModel = __webpack_require__(172);\n\nvar _rowsManager = __webpack_require__(173);\n\nvar _columnsManager = __webpack_require__(171);\n\nvar _timespansManager = __webpack_require__(178);\n\nvar _scroll = __webpack_require__(176);\n\nvar _body = __webpack_require__(174);\n\nvar _header = __webpack_require__(175);\n\nvar _side = __webpack_require__(177);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Gantt = exports.Gantt = function () {\n    function Gantt($scope, $element) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, Gantt);\n\n        this.rendered = false;\n        this.isRefreshingColumns = false;\n        this.$scope = $scope;\n        this.$element = $element;\n        this.options = new _options.GanttOptions($scope, {\n            'api': function api() {},\n            'data': [],\n            'timespans': [],\n            'viewScale': 'day',\n            'columnMagnet': '15 minutes',\n            'timeFramesMagnet': true,\n            'showSide': true,\n            'allowSideResizing': true,\n            'currentDate': 'line',\n            'currentDateValue': _moment2.default,\n            'autoExpand': 'none',\n            'taskOutOfRange': 'truncate',\n            'taskContent': '{{task.model.name}}',\n            'rowContent': '{{row.model.name}}',\n            'maxHeight': 0,\n            'timeFrames': [],\n            'dateFrames': [],\n            'timeFramesWorkingMode': 'hidden',\n            'timeFramesNonWorkingMode': 'visible',\n            'taskLimitThreshold': null,\n            'columnLimitThreshold': null\n        });\n        this.api = new _api.GanttApi(this);\n        this.api.registerEvent('core', 'ready');\n        this.api.registerEvent('core', 'rendered');\n        this.api.registerEvent('directives', 'controller');\n        this.api.registerEvent('directives', 'preLink');\n        this.api.registerEvent('directives', 'postLink');\n        this.api.registerEvent('directives', 'new');\n        this.api.registerEvent('directives', 'destroy');\n        this.api.registerEvent('data', 'change');\n        this.api.registerEvent('data', 'load');\n        this.api.registerEvent('data', 'remove');\n        this.api.registerEvent('data', 'clear');\n        this.api.registerMethod('core', 'getDateByPosition', this.getDateByPosition, this);\n        this.api.registerMethod('core', 'getPositionByDate', this.getPositionByDate, this);\n        this.api.registerMethod('data', 'load', this.loadData, this);\n        this.api.registerMethod('data', 'remove', this.removeData, this);\n        this.api.registerMethod('data', 'clear', this.clearData, this);\n        this.api.registerMethod('data', 'get', this.getData, this);\n        this.calendar = new _calendar.GanttCalendar();\n        this.calendar.registerTimeFrames(this.options.value('timeFrames'));\n        this.calendar.registerDateFrames(this.options.value('dateFrames'));\n        this.api.registerMethod('timeframes', 'registerTimeFrames', this.calendar.registerTimeFrames, this.calendar);\n        this.api.registerMethod('timeframes', 'clearTimeframes', this.calendar.clearTimeFrames, this.calendar);\n        this.api.registerMethod('timeframes', 'registerDateFrames', this.calendar.registerDateFrames, this.calendar);\n        this.api.registerMethod('timeframes', 'clearDateFrames', this.calendar.clearDateFrames, this.calendar);\n        this.api.registerMethod('timeframes', 'registerTimeFrameMappings', this.calendar.registerTimeFrameMappings, this.calendar);\n        this.api.registerMethod('timeframes', 'clearTimeFrameMappings', this.calendar.clearTimeFrameMappings, this.calendar);\n        $scope.$watchGroup(['timeFrames', 'dateFrames'], function (newValues, oldValues) {\n            if (newValues !== oldValues) {\n                var timeFrames = newValues[0];\n                var dateFrames = newValues[1];\n                var oldTimeFrames = oldValues[0];\n                var oldDateFrames = oldValues[1];\n                var framesChanged = false;\n                if (!_angular2.default.equals(timeFrames, oldTimeFrames)) {\n                    _this.calendar.clearTimeFrames();\n                    _this.calendar.registerTimeFrames(timeFrames);\n                    framesChanged = true;\n                }\n                if (!_angular2.default.equals(dateFrames, oldDateFrames)) {\n                    _this.calendar.clearDateFrames();\n                    _this.calendar.registerDateFrames(dateFrames);\n                    framesChanged = true;\n                }\n                if (framesChanged) {\n                    _this.columnsManager.generateColumns();\n                }\n            }\n        });\n        $scope.$watch('columnMagnet', function () {\n            var splittedColumnMagnet = void 0;\n            var columnMagnet = _this.options.value('columnMagnet');\n            if (columnMagnet) {\n                splittedColumnMagnet = columnMagnet.trim().split(' ');\n            }\n            if (splittedColumnMagnet && splittedColumnMagnet.length > 1) {\n                _this.columnMagnetValue = parseFloat(splittedColumnMagnet[0]);\n                _this.columnMagnetUnit = _moment2.default.normalizeUnits(splittedColumnMagnet[splittedColumnMagnet.length - 1]);\n            } else {\n                _this.columnMagnetValue = 1;\n                _this.columnMagnetUnit = _moment2.default.normalizeUnits(columnMagnet);\n            }\n        });\n        $scope.$watchGroup(['shiftColumnMagnet', 'viewScale'], function () {\n            var splittedColumnMagnet = void 0;\n            var shiftColumnMagnet = _this.options.value('shiftColumnMagnet');\n            if (shiftColumnMagnet) {\n                splittedColumnMagnet = shiftColumnMagnet.trim().split(' ');\n            }\n            if (splittedColumnMagnet !== undefined && splittedColumnMagnet.length > 1) {\n                _this.shiftColumnMagnetValue = parseFloat(splittedColumnMagnet[0]);\n                _this.shiftColumnMagnetUnit = _moment2.default.normalizeUnits(splittedColumnMagnet[splittedColumnMagnet.length - 1]);\n            } else {\n                _this.shiftColumnMagnetValue = 1;\n                _this.shiftColumnMagnetUnit = _moment2.default.normalizeUnits(shiftColumnMagnet);\n            }\n        });\n        Gantt.$document.on('keyup keydown', this.keyHandler);\n        $scope.$on('$destroy', function () {\n            Gantt.$document.off('keyup keydown', _this.keyHandler);\n        });\n        this.scroll = new _scroll.GanttScroll(this);\n        this.body = new _body.GanttBody(this);\n        this.header = new _header.GanttHeader(this);\n        this.side = new _side.GanttSide(this);\n        this.objectModel = new _objectModel.GanttObjectModel(this.api);\n        this.rowsManager = new _rowsManager.GanttRowsManager(this);\n        this.columnsManager = new _columnsManager.GanttColumnsManager(this);\n        this.timespansManager = new _timespansManager.GanttTimespansManager(this);\n        this.currentDateManager = new _currentDateManager.GanttCurrentDateManager(this);\n        this.originalWidth = 0;\n        this.width = 0;\n        if (typeof this.$scope.api === 'function') {\n            this.$scope.api(this.api);\n        }\n        var hasRowModelOrderChanged = function hasRowModelOrderChanged(data1, data2) {\n            if (data2 === undefined || data1.length !== data2.length) {\n                return true;\n            }\n\n            for (var i = 0, l = data1.length; i < l; i++) {\n                if (data1[i].id !== data2[i].id) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        $scope.$watchCollection('data', function (newData, oldData) {\n            if (oldData !== undefined) {\n                var toRemoveIds = Gantt.ganttArrays.getRemovedIds(newData, oldData);\n                if (toRemoveIds.length === oldData.length) {\n                    _this.rowsManager.removeAll();\n\n                    _this.api.data.raise.clear();\n                } else {\n                    for (var i = 0, l = toRemoveIds.length; i < l; i++) {\n                        var toRemoveId = toRemoveIds[i];\n                        _this.rowsManager.removeRow(toRemoveId);\n                    }\n\n                    var removedRows = [];\n                    for (var _i = 0, _l = oldData.length; _i < _l; _i++) {\n                        if (toRemoveIds.indexOf(oldData[_i].id) > -1) {\n                            removedRows.push(oldData[_i]);\n                        }\n                    }\n                    _this.api.data.raise.remove(removedRows);\n                }\n            }\n            if (newData !== undefined) {\n                var modelOrderChanged = hasRowModelOrderChanged(newData, oldData);\n                if (modelOrderChanged) {\n                    _this.rowsManager.resetNonModelLists();\n                }\n                for (var j = 0, k = newData.length; j < k; j++) {\n                    var rowData = newData[j];\n                    _this.rowsManager.addRow(rowData, modelOrderChanged);\n                }\n                _this.api.data.raise.change(newData, oldData);\n\n                _this.api.data.raise.load(newData);\n            }\n        });\n    }\n\n    (0, _createClass3.default)(Gantt, [{\n        key: 'keyHandler',\n        value: function keyHandler(e) {\n            this.shiftKey = e.shiftKey;\n            return true;\n        }\n    }, {\n        key: 'getMagnetValueAndUnit',\n        value: function getMagnetValueAndUnit() {\n            if (this.shiftKey) {\n                if (this.shiftColumnMagnetValue !== undefined && this.shiftColumnMagnetUnit !== undefined) {\n                    return [this.shiftColumnMagnetValue, this.shiftColumnMagnetUnit];\n                } else {\n                    var viewScale = this.options.value('viewScale');\n                    viewScale = viewScale.trim();\n                    var viewScaleValue = void 0;\n                    var viewScaleUnit = void 0;\n                    var splittedViewScale = void 0;\n                    if (viewScale) {\n                        splittedViewScale = viewScale.split(' ');\n                    }\n                    if (splittedViewScale && splittedViewScale.length > 1) {\n                        viewScaleValue = parseFloat(splittedViewScale[0]);\n                        viewScaleUnit = _moment2.default.normalizeUnits(splittedViewScale[splittedViewScale.length - 1]);\n                    } else {\n                        viewScaleValue = 1;\n                        viewScaleUnit = _moment2.default.normalizeUnits(viewScale);\n                    }\n                    return [viewScaleValue * 0.25, viewScaleUnit];\n                }\n            } else {\n                return [this.columnMagnetValue, this.columnMagnetUnit];\n            }\n        }\n    }, {\n        key: 'getMagnetDate',\n        value: function getMagnetDate(date, disableExpand) {\n            if (date === undefined) {\n                return undefined;\n            }\n            if (!_moment2.default.isMoment(_moment2.default)) {\n                date = (0, _moment2.default)(date);\n            }\n            var column = this.columnsManager.getColumnByDate(date, disableExpand);\n            var magnetValueAndUnit = this.getMagnetValueAndUnit();\n            var magnetValue = magnetValueAndUnit[0];\n            var magnetUnit = magnetValueAndUnit[1];\n            return column.getMagnetDate(date, magnetValue, magnetUnit, this.options.value('timeFramesMagnet'));\n        }\n    }, {\n        key: 'getDateByPosition',\n        value: function getDateByPosition(x, magnet, disableExpand) {\n            var column = this.columnsManager.getColumnByPosition(x, disableExpand);\n            if (column !== undefined) {\n                var magnetValue = void 0;\n                var magnetUnit = void 0;\n                if (magnet) {\n                    var magnetValueAndUnit = this.getMagnetValueAndUnit();\n                    magnetValue = magnetValueAndUnit[0];\n                    magnetUnit = magnetValueAndUnit[1];\n                }\n                return column.getDateByPosition(x - column.left, magnetValue, magnetUnit, this.options.value('timeFramesMagnet'));\n            } else {\n                return undefined;\n            }\n        }\n    }, {\n        key: 'getBodyAvailableWidth',\n        value: function getBodyAvailableWidth() {\n            var scrollWidth = this.getWidth() - this.side.getWidth();\n            var borderWidth = this.scroll.getBordersWidth();\n            var availableWidth = scrollWidth - (borderWidth !== undefined ? this.scroll.getBordersWidth() : 0);\n\n            availableWidth = availableWidth - 1;\n            return availableWidth;\n        }\n    }, {\n        key: 'getPositionByDate',\n        value: function getPositionByDate(date, disableExpand) {\n            if (date === undefined) {\n                return undefined;\n            }\n            if (!_moment2.default.isMoment(_moment2.default)) {\n                date = (0, _moment2.default)(date);\n            }\n            var column = this.columnsManager.getColumnByDate(date, disableExpand);\n            if (column !== undefined) {\n                return column.getPositionByDate(date);\n            } else {\n                return undefined;\n            }\n        }\n    }, {\n        key: 'loadData',\n        value: function loadData(data) {\n            if (!Array.isArray(data)) {\n                data = data !== undefined ? [data] : [];\n            }\n            if (this.$scope.data === undefined) {\n                this.$scope.data = data;\n            } else {\n                for (var i = 0, l = data.length; i < l; i++) {\n                    var row = data[i];\n                    var j = Gantt.ganttArrays.indexOfId(this.$scope.data, row.id);\n                    if (j > -1) {\n                        this.$scope.data[j] = row;\n                    } else {\n                        this.$scope.data.push(row);\n                    }\n                }\n            }\n            var w = this.side.getWidth();\n            if (w > 0) {\n                this.options.set('sideWidth', w);\n            }\n        }\n    }, {\n        key: 'getData',\n        value: function getData() {\n            return this.$scope.data;\n        }\n    }, {\n        key: 'removeData',\n        value: function removeData(data) {\n            if (!Array.isArray(data)) {\n                data = data !== undefined ? [data] : [];\n            }\n            if (this.$scope.data !== undefined) {\n                for (var i = 0, l = data.length; i < l; i++) {\n                    var rowToRemove = data[i];\n                    var j = Gantt.ganttArrays.indexOfId(this.$scope.data, rowToRemove.id);\n                    if (j > -1) {\n                        if (rowToRemove.tasks === undefined || rowToRemove.tasks.length === 0) {\n                            this.$scope.data.splice(j, 1);\n                        } else {\n                            var row = this.$scope.data[j];\n                            for (var ti = 0, tl = rowToRemove.tasks.length; ti < tl; ti++) {\n                                var taskToRemove = rowToRemove.tasks[ti];\n                                var tj = Gantt.ganttArrays.indexOfId(row.tasks, taskToRemove.id);\n                                if (tj > -1) {\n                                    row.tasks.splice(tj, 1);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'clearData',\n        value: function clearData() {\n            this.$scope.data = undefined;\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this.$scope.ganttElementWidth;\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this.$scope.ganttElementHeight;\n        }\n    }, {\n        key: 'getContainerWidth',\n        value: function getContainerWidth() {\n            return this.$scope.ganttContainerWidth;\n        }\n    }, {\n        key: 'getContainerHeight',\n        value: function getContainerHeight() {\n            return this.$scope.ganttContainerHeight;\n        }\n    }, {\n        key: 'initialized',\n        value: function initialized() {\n            var _this2 = this;\n\n            this.api.core.raise.ready(this.api);\n            this.rendered = true;\n            this.columnsManager.generateColumns();\n            Gantt.$timeout(function () {\n                var w = _this2.side.getWidth();\n                if (w > 0) {\n                    _this2.options.set('sideWidth', w);\n                }\n                _this2.api.core.raise.rendered(_this2.api);\n            });\n        }\n    }]);\n    return Gantt;\n}();\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttRow = exports.GanttRowModel = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = [\"GanttTask\", \"$filter\", function (GanttTask, $filter) {\n    'ngInject';\n\n    GanttRow.GanttTask = GanttTask;\n    GanttRow.$filter = $filter;\n    return GanttRow;\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _angular = __webpack_require__(1);\n\nvar angular = _interopRequireWildcard(_angular);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttRowModel = exports.GanttRowModel = function GanttRowModel() {\n    (0, _classCallCheck3.default)(this, GanttRowModel);\n};\n\nvar GanttRow = exports.GanttRow = function () {\n    function GanttRow(rowsManager, model) {\n        (0, _classCallCheck3.default)(this, GanttRow);\n\n        this.rowsManager = rowsManager;\n        this.model = model;\n        this.from = undefined;\n        this.to = undefined;\n        this.tasksMap = {};\n        this.tasks = [];\n        this.filteredTasks = [];\n        this.visibleTasks = [];\n    }\n\n    (0, _createClass3.default)(GanttRow, [{\n        key: 'addTaskImpl',\n        value: function addTaskImpl(task) {\n            var viewOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            this.tasksMap[task.model.id] = task;\n            this.tasks.push(task);\n            if (!viewOnly) {\n                if (this.model.tasks === undefined) {\n                    this.model.tasks = [];\n                }\n                if (this.model.tasks.indexOf(task.model) === -1) {\n                    this.model.tasks.push(task.model);\n                }\n            }\n        }\n    }, {\n        key: 'addTask',\n        value: function addTask(taskModel) {\n            var viewOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            var task = void 0;\n            var isUpdate = false;\n            this.rowsManager.gantt.objectModel.cleanTask(taskModel);\n            if (taskModel.id in this.tasksMap) {\n                task = this.tasksMap[taskModel.id];\n                if (task.model === taskModel) {\n                    return task;\n                }\n                task.model = taskModel;\n                isUpdate = true;\n            } else {\n                task = new GanttRow.GanttTask(this, taskModel);\n                this.addTaskImpl(task, viewOnly);\n            }\n            this.sortTasks();\n            this.setFromToByTask(task);\n            if (!viewOnly) {\n                if (isUpdate) {\n                    this.rowsManager.gantt.api.tasks.raise.change(task);\n                } else {\n                    this.rowsManager.gantt.api.tasks.raise.add(task);\n                }\n            }\n            return task;\n        }\n    }, {\n        key: 'moveTaskToRow',\n        value: function moveTaskToRow(task) {\n            var viewOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            this.rowsManager.gantt.api.tasks.raise.beforeViewRowChange(task, this);\n            if (!viewOnly) {\n                this.rowsManager.gantt.api.tasks.raise.beforeRowChange(task, this);\n            }\n            var oldRow = task.row;\n            oldRow.removeTask(task.model.id, viewOnly, true);\n            task.row = this;\n            this.addTaskImpl(task, viewOnly);\n            this.sortTasks();\n            this.setFromToByTask(task);\n            task.updatePosAndSize();\n            this.updateVisibleTasks();\n            oldRow.$scope.$digest();\n            task.row.$scope.$digest();\n            this.rowsManager.gantt.api.tasks.raise.viewRowChange(task, oldRow);\n            if (!viewOnly) {\n                this.rowsManager.gantt.api.tasks.raise.rowChange(task, oldRow);\n            }\n        }\n    }, {\n        key: 'updateVisibleTasks',\n        value: function updateVisibleTasks() {\n            var filterTask = this.rowsManager.gantt.options.value('filterTask');\n            if (filterTask) {\n                if ((typeof filterTask === 'undefined' ? 'undefined' : (0, _typeof3.default)(filterTask)) === 'object') {\n                    filterTask = { model: filterTask };\n                }\n                var _filterTaskComparator = this.rowsManager.gantt.options.value('filterTaskComparator');\n                if (typeof _filterTaskComparator === 'function') {\n                    _filterTaskComparator = function filterTaskComparator(actual, expected) {\n                        return _filterTaskComparator(actual.model, expected.model);\n                    };\n                }\n                this.filteredTasks = GanttRow.$filter('filter')(this.tasks, filterTask, _filterTaskComparator);\n            } else {\n                this.filteredTasks = this.tasks.slice(0);\n            }\n            var limitThreshold = this.rowsManager.gantt.options.value('taskLimitThreshold');\n            if (limitThreshold === undefined || limitThreshold > 0 && this.filteredTasks.length >= limitThreshold) {\n                this.visibleTasks = GanttRow.$filter('ganttTaskLimit')(this.filteredTasks, this.rowsManager.gantt);\n            } else {\n                this.visibleTasks = this.filteredTasks;\n            }\n        }\n    }, {\n        key: 'updateTasksPosAndSize',\n        value: function updateTasksPosAndSize() {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(this.tasks), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var task = _step.value;\n\n                    task.updatePosAndSize();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'removeTask',\n        value: function removeTask(taskId, viewOnly, silent) {\n            if (taskId in this.tasksMap) {\n                var removedTask = this.tasksMap[taskId];\n                var task = void 0;\n                var i = void 0;\n                for (i = this.tasks.length - 1; i >= 0; i--) {\n                    task = this.tasks[i];\n                    if (task.model.id === taskId) {\n                        this.tasks.splice(i, 1);\n                        if (this.from && this.from.isSame((0, _moment2.default)(task.model.from)) || this.to && this.to.isSame((0, _moment2.default)(task.model.to))) {\n                            this.setFromTo();\n                        }\n                        break;\n                    }\n                }\n                for (i = this.filteredTasks.length - 1; i >= 0; i--) {\n                    task = this.filteredTasks[i];\n                    if (task.model.id === taskId) {\n                        this.filteredTasks.splice(i, 1);\n                        break;\n                    }\n                }\n                for (i = this.visibleTasks.length - 1; i >= 0; i--) {\n                    task = this.visibleTasks[i];\n                    if (task.model.id === taskId) {\n                        this.visibleTasks.splice(i, 1);\n                        break;\n                    }\n                }\n                if (!viewOnly) {\n                    delete this.tasksMap[taskId];\n                    if (this.model.tasks !== undefined) {\n                        var taskIndex = this.model.tasks.indexOf(removedTask.model);\n                        if (taskIndex > -1) {\n                            this.model.tasks.splice(taskIndex, 1);\n                        }\n                    }\n                    if (!silent) {\n                        this.rowsManager.gantt.api.tasks.raise.remove(removedTask);\n                    }\n                }\n                return removedTask;\n            }\n        }\n    }, {\n        key: 'removeAllTasks',\n        value: function removeAllTasks() {\n            this.from = undefined;\n            this.to = undefined;\n            this.tasksMap = {};\n            this.tasks = [];\n            this.filteredTasks = [];\n            this.visibleTasks = [];\n        }\n    }, {\n        key: 'setFromTo',\n        value: function setFromTo() {\n            this.from = undefined;\n            this.to = undefined;\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = (0, _getIterator3.default)(this.tasks), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var task = _step2.value;\n\n                    this.setFromToByTask(task);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'setFromToByTask',\n        value: function setFromToByTask(task) {\n            this.setFromToByValues(task.model.from, task.model.to);\n        }\n    }, {\n        key: 'setFromToByValues',\n        value: function setFromToByValues(from, to) {\n            if (from !== undefined) {\n                if (this.from === undefined) {\n                    this.from = (0, _moment2.default)(from);\n                } else if (from < this.from) {\n                    this.from = (0, _moment2.default)(from);\n                }\n            }\n            if (to !== undefined) {\n                if (this.to === undefined) {\n                    this.to = (0, _moment2.default)(to);\n                } else if (to > this.to) {\n                    this.to = (0, _moment2.default)(to);\n                }\n            }\n        }\n    }, {\n        key: 'sortTasks',\n        value: function sortTasks() {\n            this.tasks.sort(function (t1, t2) {\n                return t1.left - t2.left;\n            });\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            var clone = new GanttRow(this.rowsManager, angular.copy(this.model));\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = (0, _getIterator3.default)(this.tasks), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var task = _step3.value;\n\n                    clone.addTask(task.model);\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return clone;\n        }\n    }]);\n    return GanttRow;\n}();\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttTask = exports.GanttTaskModel = undefined;\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttTask;\n};\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttTaskModel = exports.GanttTaskModel = function GanttTaskModel() {\n    (0, _classCallCheck3.default)(this, GanttTaskModel);\n};\n\nvar GanttTask = exports.GanttTask = function () {\n    function GanttTask(row, model) {\n        (0, _classCallCheck3.default)(this, GanttTask);\n\n        this.rowsManager = row.rowsManager;\n        this.row = row;\n        this.model = model;\n        this.truncatedLeft = false;\n        this.truncatedRight = false;\n    }\n\n    (0, _createClass3.default)(GanttTask, [{\n        key: 'isMilestone',\n        value: function isMilestone() {\n            return !this.model.to || this.model.to.isSame(this.model.from);\n        }\n    }, {\n        key: 'isOutOfRange',\n        value: function isOutOfRange() {\n            var firstColumn = this.rowsManager.gantt.columnsManager.getFirstColumn();\n            var lastColumn = this.rowsManager.gantt.columnsManager.getLastColumn();\n            return firstColumn === undefined || this.model.to < firstColumn.date || lastColumn === undefined || this.model.from > lastColumn.endDate;\n        }\n    }, {\n        key: 'updatePosAndSize',\n        value: function updatePosAndSize() {\n            var oldViewLeft = this.left;\n            var oldViewWidth = this.width;\n            var oldTruncatedRight = this.truncatedRight;\n            var oldTruncatedLeft = this.truncatedLeft;\n            if (!this.isMoving && this.isOutOfRange()) {\n                this.modelLeft = undefined;\n                this.modelWidth = undefined;\n            } else {\n                this.modelLeft = this.rowsManager.gantt.getPositionByDate(this.model.from);\n                this.modelWidth = this.rowsManager.gantt.getPositionByDate(this.model.to) - this.modelLeft;\n            }\n            var lastColumn = this.rowsManager.gantt.columnsManager.getLastColumn();\n            var maxModelLeft = lastColumn ? lastColumn.left + lastColumn.width : 0;\n            var modelLeft = this.modelLeft;\n            var modelWidth = this.modelWidth;\n            if (this.rowsManager.gantt.options.value('daily')) {\n                modelLeft = this.rowsManager.gantt.getPositionByDate((0, _moment2.default)(this.model.from).startOf('day'));\n                modelWidth = this.rowsManager.gantt.getPositionByDate((0, _moment2.default)(this.model.to).endOf('day')) - modelLeft;\n            }\n            var minModelLeft = -modelWidth;\n            if (modelLeft < minModelLeft) {\n                modelLeft = minModelLeft;\n            }\n            if (modelLeft > maxModelLeft) {\n                modelLeft = maxModelLeft;\n            }\n            if (modelLeft === undefined || modelWidth === undefined) {\n                this.left = undefined;\n                this.width = undefined;\n            } else {\n                this.left = modelLeft;\n                this.width = modelWidth;\n                if (modelLeft < 0) {\n                    this.truncatedLeft = true;\n                    this.truncatedLeftOffset = -modelLeft;\n                    this.truncatedRight = false;\n                    this.truncatedRightOffset = undefined;\n                } else if (modelWidth + modelLeft > this.rowsManager.gantt.width) {\n                    this.truncatedRight = true;\n                    this.truncatedRightOffset = modelWidth + modelLeft - this.rowsManager.gantt.width;\n                    this.truncatedLeft = false;\n                    this.truncatedLeftOffset = undefined;\n                } else {\n                    this.truncatedLeft = false;\n                    this.truncatedLeftOffset = undefined;\n                    this.truncatedRight = false;\n                    this.truncatedRightOffset = modelWidth + modelLeft - this.rowsManager.gantt.width;\n                }\n                if (this.width < 0) {\n                    this.left = this.left + this.width;\n                    this.width = -this.width;\n                }\n            }\n            this.updateView();\n            if (!this.rowsManager.gantt.isRefreshingColumns && (oldViewLeft !== this.left || oldViewWidth !== this.width || oldTruncatedRight !== this.truncatedRight || oldTruncatedLeft !== this.truncatedLeft)) {\n                this.rowsManager.gantt.api.tasks.raise.viewChange(this);\n            }\n        }\n    }, {\n        key: 'updateView',\n        value: function updateView() {\n            if (this.$element) {\n                if (this.left === undefined || this.width === undefined) {\n                    this.$element.css('display', 'none');\n                } else {\n                    this.$element.css({ 'left': this.left + 'px', 'width': this.width + 'px', 'display': '' });\n                    if (this.model.priority > 0) {\n                        var priority = this.model.priority;\n                        var children = this.$element.children();\n                        this.$element.css('z-index', priority);\n\n                        for (var i = 0; i < children.length; i++) {\n                            _angular2.default.element(children[i]).css('z-index', priority);\n                        }\n                    }\n                    this.$element.toggleClass('gantt-task-milestone', this.isMilestone());\n                }\n            }\n        }\n    }, {\n        key: 'getBackgroundElement',\n        value: function getBackgroundElement() {\n            if (this.$element !== undefined) {\n                var backgroundElement = this.$element[0].querySelector('.gantt-task-background');\n                if (backgroundElement !== undefined) {\n                    return _angular2.default.element(backgroundElement);\n                }\n                return undefined;\n            }\n        }\n    }, {\n        key: 'getContentElement',\n        value: function getContentElement() {\n            if (this.$element !== undefined) {\n                var contentElement = this.$element[0].querySelector('.gantt-task-content');\n                if (contentElement !== undefined) {\n                    return _angular2.default.element(contentElement);\n                }\n                return undefined;\n            }\n        }\n    }, {\n        key: 'getForegroundElement',\n        value: function getForegroundElement() {\n            if (this.$element !== undefined) {\n                var foregroundElement = this.$element[0].querySelector('.gantt-task-foreground');\n                if (foregroundElement !== undefined) {\n                    return _angular2.default.element(foregroundElement);\n                }\n                return foregroundElement;\n            }\n        }\n    }, {\n        key: 'setFrom',\n        value: function setFrom(x, magnetEnabled) {\n            this.model.from = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled);\n            this.row.setFromTo();\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'setTo',\n        value: function setTo(x, magnetEnabled) {\n            this.model.to = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled);\n            this.row.setFromTo();\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'moveTo',\n        value: function moveTo(x, magnetEnabled) {\n            var newTaskRight = void 0;\n            var newTaskLeft = void 0;\n            if (x > this.modelLeft) {\n                this.model.to = this.rowsManager.gantt.getDateByPosition(x + this.modelWidth, magnetEnabled);\n                newTaskRight = this.rowsManager.gantt.getPositionByDate(this.model.to);\n                newTaskLeft = newTaskRight - this.modelWidth;\n                this.model.from = this.rowsManager.gantt.getDateByPosition(newTaskLeft, false);\n            } else {\n                this.model.from = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled);\n                newTaskLeft = this.rowsManager.gantt.getPositionByDate(this.model.from);\n                newTaskRight = newTaskLeft + this.modelWidth;\n                this.model.to = this.rowsManager.gantt.getDateByPosition(newTaskRight, false);\n            }\n            this.row.setFromTo();\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new GanttTask(this.row, _angular2.default.copy(this.model));\n        }\n    }]);\n    return GanttTask;\n}();\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttBodyBackground = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttBodyBackground;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBodyBackground = exports.GanttBodyBackground = function GanttBodyBackground(body) {\n    (0, _classCallCheck3.default)(this, GanttBodyBackground);\n\n    this.body = body;\n};\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttBodyColumns = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttBodyColumns;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBodyColumns = exports.GanttBodyColumns = function GanttBodyColumns(body) {\n    (0, _classCallCheck3.default)(this, GanttBodyColumns);\n\n    this.body = body;\n};\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttBodyForeground = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttBodyForeground;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBodyForeground = exports.GanttBodyForeground = function GanttBodyForeground(body) {\n    (0, _classCallCheck3.default)(this, GanttBodyForeground);\n\n    this.body = body;\n};\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttBodyRows = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttBodyRows;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBodyRows = exports.GanttBodyRows = function GanttBodyRows(body) {\n    (0, _classCallCheck3.default)(this, GanttBodyRows);\n\n    this.body = body;\n};\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttHeaderColumns = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttHeaderColumns;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttHeaderColumns = exports.GanttHeaderColumns = function GanttHeaderColumns($element) {\n    (0, _classCallCheck3.default)(this, GanttHeaderColumns);\n\n    this.$element = $element;\n};\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Timespan = exports.TimespanModel = undefined;\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nexports.default = function () {\n    'ngInject';\n\n    return Timespan;\n};\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TimespanModel = exports.TimespanModel = function TimespanModel() {\n    (0, _classCallCheck3.default)(this, TimespanModel);\n};\n\nvar Timespan = exports.Timespan = function () {\n    function Timespan(gantt, model) {\n        (0, _classCallCheck3.default)(this, Timespan);\n\n        this.gantt = gantt;\n        this.model = model;\n    }\n\n    (0, _createClass3.default)(Timespan, [{\n        key: 'updatePosAndSize',\n        value: function updatePosAndSize() {\n            this.modelLeft = this.gantt.getPositionByDate(this.model.from);\n            this.modelWidth = this.gantt.getPositionByDate(this.model.to) - this.modelLeft;\n            var lastColumn = this.gantt.columnsManager.getLastColumn();\n            var maxModelLeft = lastColumn ? lastColumn.left + lastColumn.width : 0;\n            var modelLeft = this.modelLeft;\n            var modelWidth = this.modelWidth;\n            var minModelLeft = -modelWidth;\n            if (modelLeft < minModelLeft) {\n                modelLeft = minModelLeft;\n            }\n            if (modelLeft > maxModelLeft) {\n                modelLeft = maxModelLeft;\n            }\n            if (modelLeft === undefined || modelWidth === undefined) {\n                this.left = undefined;\n                this.width = undefined;\n            } else {\n                this.left = modelLeft;\n                this.width = modelWidth;\n                if (modelLeft < 0) {\n                    this.truncatedLeft = true;\n                    this.truncatedLeftOffset = -modelLeft;\n                    this.truncatedRight = false;\n                    this.truncatedRightOffset = undefined;\n                } else if (modelWidth + modelLeft > this.gantt.width) {\n                    this.truncatedRight = true;\n                    this.truncatedRightOffset = modelWidth + modelLeft - this.gantt.width;\n                    this.truncatedLeft = false;\n                    this.truncatedLeftOffset = undefined;\n                } else {\n                    this.truncatedLeft = false;\n                    this.truncatedLeftOffset = undefined;\n                    this.truncatedRight = false;\n                    this.truncatedRightOffset = modelWidth + modelLeft - this.gantt.width;\n                }\n                if (this.width < 0) {\n                    this.left = this.left + this.width;\n                    this.width = -this.width;\n                }\n            }\n            this.updateView();\n        }\n    }, {\n        key: 'updateView',\n        value: function updateView() {\n            if (this.$element) {\n                if (this.left === undefined || this.width === undefined) {\n                    this.$element.css('display', 'none');\n                } else {\n                    this.$element.css('display', '');\n                    this.$element.css('left', this.left + 'px');\n                    this.$element.css('width', this.width + 'px');\n                }\n            }\n        }\n    }, {\n        key: 'setFrom',\n        value: function setFrom(x) {\n            this.from = this.gantt.getDateByPosition(x);\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'setTo',\n        value: function setTo(x) {\n            this.to = this.gantt.getDateByPosition(x);\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'moveTo',\n        value: function moveTo(x) {\n            this.from = this.gantt.getDateByPosition(x);\n            this.to = this.gantt.getDateByPosition(x + this.width);\n            this.updatePosAndSize();\n        }\n    }, {\n        key: 'clone',\n        value: function clone() {\n            return new Timespan(this.gantt, _angular2.default.copy(this.model));\n        }\n    }]);\n    return Timespan;\n}();\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttArrays = function () {\n    function GanttArrays() {\n        (0, _classCallCheck3.default)(this, GanttArrays);\n    }\n\n    (0, _createClass3.default)(GanttArrays, [{\n        key: 'moveToIndex',\n        value: function moveToIndex(array, oldIndex, newIndex) {\n            if (newIndex >= array.length) {\n                var k = newIndex - array.length;\n                while (k-- + 1) {\n                    array.push(undefined);\n                }\n            }\n            array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n            return array;\n        }\n    }, {\n        key: 'getRemovedIds',\n        value: function getRemovedIds(newArray, oldArray) {\n            var idProperty = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'id';\n\n            var i = void 0;\n            var l = void 0;\n            var removedIds = [];\n            if (oldArray !== undefined) {\n                for (i = 0, l = oldArray.length; i < l; i++) {\n                    removedIds.push(oldArray[i][idProperty]);\n                }\n            }\n            if (newArray !== undefined) {\n                for (i = 0, l = newArray.length; i < l; i++) {\n                    var newObject = newArray[i];\n                    if (newObject[idProperty] !== undefined) {\n                        var newObjectIndex = removedIds.indexOf(newObject[idProperty]);\n                        if (newObjectIndex > -1) {\n                            removedIds.splice(newObjectIndex, 1);\n                        }\n                    }\n                }\n            }\n            return removedIds;\n        }\n    }, {\n        key: 'indexOfId',\n        value: function indexOfId(array, value) {\n            var idProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'id';\n\n            var i = void 0;\n            if (idProperties instanceof Array) {\n                for (i = array.length - 1; i >= 0; i--) {\n                    var arrayValue = array[i];\n\n                    for (var k = 0, l = idProperties.length; k < l; k++) {\n                        arrayValue = arrayValue[idProperties[k]];\n                    }\n                    if (arrayValue === value) {\n                        return i;\n                    }\n                }\n                return -1;\n            }\n            for (i = array.length - 1; i >= 0; i--) {\n                if (array[i][idProperties] === value) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, {\n        key: 'removeId',\n        value: function removeId(array, value, idProperties) {\n            var indexOf = this.indexOfId(array, value, idProperties);\n            if (indexOf > -1) {\n                return array.splice(indexOf, 1)[0];\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(array, value) {\n            var index = array.indexOf(value);\n            if (index > -1) {\n                array.splice(index, 1);\n                return true;\n            }\n            return false;\n        }\n    }]);\n    return GanttArrays;\n}();\n\nexports.default = GanttArrays;\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttBinarySearch = function () {\n    function GanttBinarySearch() {\n        (0, _classCallCheck3.default)(this, GanttBinarySearch);\n    }\n\n    (0, _createClass3.default)(GanttBinarySearch, [{\n        key: \"getIndicesOnly\",\n        value: function getIndicesOnly(input, value, comparer, strict) {\n            var lo = -1;\n            var hi = input.length;\n            while (hi - lo > 1) {\n                var mid = Math.floor((lo + hi) / 2);\n                if (strict ? comparer(input[mid]) < value : comparer(input[mid]) <= value) {\n                    lo = mid;\n                } else {\n                    hi = mid;\n                }\n            }\n            if (!strict && input[lo] !== undefined && comparer(input[lo]) === value) {\n                hi = lo;\n            }\n            return [lo, hi];\n        }\n    }, {\n        key: \"get\",\n        value: function get(input, value, comparer, strict) {\n            var res = this.getIndicesOnly(input, value, comparer, strict);\n            return [input[res[0]], input[res[1]]];\n        }\n    }]);\n    return GanttBinarySearch;\n}();\n\nexports.default = GanttBinarySearch;\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttHierarchy = undefined;\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = GanttHierarchyFactory;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttHierarchy = exports.GanttHierarchy = function () {\n    function GanttHierarchy() {\n        (0, _classCallCheck3.default)(this, GanttHierarchy);\n\n        this.nameToRow = {};\n        this.idToRow = {};\n        this.nameToChildren = {};\n        this.idToChildren = {};\n        this.nameToParent = {};\n        this.idToParent = {};\n    }\n\n    (0, _createClass3.default)(GanttHierarchy, [{\n        key: 'registerChildRow',\n        value: function registerChildRow(row, childRow) {\n            if (childRow !== undefined) {\n                var nameChildren = this.nameToChildren[row.model.name];\n                if (nameChildren === undefined) {\n                    nameChildren = [];\n                    this.nameToChildren[row.model.name] = nameChildren;\n                }\n                nameChildren.push(childRow);\n                var idChildren = this.idToChildren[row.model.id];\n                if (idChildren === undefined) {\n                    idChildren = [];\n                    this.idToChildren[row.model.id] = idChildren;\n                }\n                idChildren.push(childRow);\n                this.nameToParent[childRow.model.name] = row;\n                this.idToParent[childRow.model.id] = row;\n            }\n        }\n    }, {\n        key: 'refresh',\n        value: function refresh(rows) {\n            this.nameToRow = {};\n            this.idToRow = {};\n            this.nameToChildren = {};\n            this.idToChildren = {};\n            this.nameToParent = {};\n            this.idToParent = {};\n            var row = void 0;\n            for (var i = 0; i < rows.length; i++) {\n                row = rows[i];\n                this.nameToRow[row.model.name] = row;\n                this.idToRow[row.model.id] = row;\n            }\n            for (var _i = 0; _i < rows.length; _i++) {\n                row = rows[_i];\n                if (row.model.parent !== undefined) {\n                    var parentRow = this.nameToRow[row.model.parent];\n                    if (parentRow === undefined) {\n                        parentRow = this.idToRow[row.model.parent];\n                    }\n                    if (parentRow !== undefined) {\n                        this.registerChildRow(parentRow, row);\n                    }\n                }\n                if (row.model.children !== undefined) {\n                    var children = row.model.children;\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = (0, _getIterator3.default)(children), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var childRowNameOrId = _step.value;\n\n                            var childRow = this.nameToRow[childRowNameOrId];\n                            if (childRow === undefined) {\n                                childRow = this.idToRow[childRowNameOrId];\n                            }\n                            if (childRow !== undefined) {\n                                this.registerChildRow(row, childRow);\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n                }\n            }\n            var rootRows = [];\n            for (var _i2 = 0; _i2 < rows.length; _i2++) {\n                row = rows[_i2];\n                if (this.parent(row) === undefined) {\n                    rootRows.push(row);\n                }\n            }\n            return rootRows;\n        }\n    }, {\n        key: 'children',\n        value: function children(row) {\n            var children = this.idToChildren[row.model.id];\n            return children;\n        }\n    }, {\n        key: 'descendants',\n        value: function descendants(row) {\n            var descendants = [];\n            var children = this.children(row);\n            descendants.push.apply(descendants, children);\n            if (children !== undefined) {\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = (0, _getIterator3.default)(children), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var child = _step2.value;\n\n                        var childDescendants = this.descendants(child);\n                        descendants.push.apply(descendants, childDescendants);\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n            }\n            return descendants;\n        }\n    }, {\n        key: 'parent',\n        value: function parent(row) {\n            var parent = this.idToParent[row.model.id];\n            return parent;\n        }\n    }, {\n        key: 'ancestors',\n        value: function ancestors(row) {\n            var ancestors = [];\n            var parent = this.parent(row);\n            while (parent !== undefined) {\n                ancestors.push(parent);\n                parent = this.parent(parent);\n            }\n            return ancestors;\n        }\n    }]);\n    return GanttHierarchy;\n}();\n\nfunction GanttHierarchyFactory() {\n    'ngInject';\n\n    return GanttHierarchy;\n}\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttUtils = function () {\n    function GanttUtils() {\n        (0, _classCallCheck3.default)(this, GanttUtils);\n\n        this.seedId = new Date().getTime();\n    }\n\n    (0, _createClass3.default)(GanttUtils, [{\n        key: 'createBoundedWrapper',\n        value: function createBoundedWrapper(object, method) {\n            return function () {\n                return method.apply(object, arguments);\n            };\n        }\n    }, {\n        key: 'firstProperty',\n        value: function firstProperty(objects, propertyName, defaultValue) {\n            for (var i = 0, l = objects.length; i < l; i++) {\n                var object = objects[i];\n                if (object !== undefined && propertyName in object) {\n                    if (object[propertyName] !== undefined) {\n                        return object[propertyName];\n                    }\n                }\n            }\n            return defaultValue;\n        }\n    }, {\n        key: 'angularIndexOf',\n        value: function angularIndexOf(arr, obj) {\n            for (var i = 0; i < arr.length; i++) {\n                if (_angular2.default.equals(arr[i], obj)) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, {\n        key: 'random4',\n        value: function random4() {\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n    }, {\n        key: 'randomUuid',\n        value: function randomUuid() {\n            return this.random4() + this.random4() + '-' + this.random4() + '-' + this.random4() + '-' + this.random4() + '-' + this.random4() + this.random4() + this.random4();\n        }\n    }, {\n        key: 'newId',\n        value: function newId() {\n            return this.seedId += 1;\n        }\n    }]);\n    return GanttUtils;\n}();\n\nexports.default = GanttUtils;\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"ganttBinarySearch\", function (ganttBinarySearch) {\n    'ngInject';\n\n    var leftComparator = function leftComparator(c) {\n        return c.left;\n    };\n    return function (input, gantt) {\n        var scrollLeft = gantt.scroll.getScrollLeft();\n        var scrollContainerWidth = gantt.getWidth() - gantt.side.getWidth();\n        if (scrollContainerWidth > 0) {\n            var start = ganttBinarySearch.getIndicesOnly(input, scrollLeft, leftComparator)[0];\n            var end = ganttBinarySearch.getIndicesOnly(input, scrollLeft + scrollContainerWidth, leftComparator)[1];\n            return input.slice(start, end);\n        } else {\n            return input.slice();\n        }\n    };\n}];\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return function (input, gantt) {\n        var firstColumn = gantt.columnsManager.getFirstColumn();\n        var lastColumn = gantt.columnsManager.getLastColumn();\n        if (firstColumn !== undefined && lastColumn !== undefined) {\n            var fromDate = firstColumn.date;\n            var toDate = lastColumn.endDate;\n            var res = [];\n            var scrollLeft = gantt.scroll.getScrollLeft();\n            var scrollContainerWidth = gantt.getWidth() - gantt.side.getWidth();\n\n            for (var i = 0, l = input.length; i < l; i++) {\n                var task = input[i];\n                if (task.active) {\n                    res.push(task);\n                } else {\n                    if (task.model.to >= fromDate && task.model.from <= toDate) {\n                        if (task.left === undefined) {\n                            task.updatePosAndSize();\n                        }\n\n                        if (!scrollContainerWidth || task.left >= scrollLeft && task.left <= scrollLeft + scrollContainerWidth || task.left + task.width >= scrollLeft && task.left + task.width <= scrollLeft + scrollContainerWidth || task.left < scrollLeft && task.left + task.width > scrollLeft + scrollContainerWidth) {\n                            res.push(task);\n                        }\n                    }\n                }\n            }\n            return res;\n        } else {\n            return input.splice(0);\n        }\n    };\n};\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$document\", \"$parse\", \"$timeout\", \"ganttMouseOffset\", function ($document, $parse, $timeout, ganttMouseOffset) {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        require: '^gantt',\n        scope: {\n            targetElement: '=ganttResizer',\n            enabled: '@?ganttResizerEnabled'\n        },\n        link: function link($scope, $element, $attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n            var eventTopic = $attrs.ganttResizerEventTopic;\n            if ($scope.enabled === undefined) {\n                $scope.enabled = true;\n            }\n            function getWidth() {\n                return ganttCtrl.gantt.options.value($attrs.resizerWidth);\n            }\n            function setWidth(width) {\n                if (width !== getWidth()) {\n                    ganttCtrl.gantt.options.set($attrs.resizerWidth, width);\n                    if (eventTopic !== undefined) {\n                        api[eventTopic].raise.resize(width);\n                    }\n                    $timeout(function () {\n                        ganttCtrl.gantt.columnsManager.updateColumnsMeta();\n                    });\n                }\n            }\n            function dblclick(event) {\n                event.preventDefault();\n                setWidth(undefined);\n            }\n            function mousemove(event) {\n                $scope.$evalAsync(function () {\n                    var offset = ganttMouseOffset.getOffsetForElement($scope.targetElement[0], event);\n                    var maxWidth = ganttCtrl.gantt.getWidth() - ganttCtrl.gantt.scroll.getBordersWidth();\n                    var width = Math.min(Math.max(offset.x, 0), maxWidth);\n                    setWidth(width);\n                });\n            }\n            function mouseup() {\n                if (eventTopic !== undefined) {\n                    api[eventTopic].raise.resizeEnd(getWidth());\n                }\n                $document.unbind('mousemove', mousemove);\n                $document.unbind('mouseup', mouseup);\n            }\n            function mousedown(event) {\n                event.preventDefault();\n                if (eventTopic !== undefined) {\n                    api[eventTopic].raise.resizeBegin(getWidth());\n                }\n                $document.on('mousemove', mousemove);\n                $document.on('mouseup', mouseup);\n            }\n            $attrs.$observe('ganttResizerEnabled', function (value) {\n                $scope.enabled = $parse(value)();\n            });\n            $scope.$watch('enabled', function (value) {\n                if (value === undefined) {\n                    value = true;\n                }\n                $element.toggleClass('gantt-resizer-enabled', value);\n                if (value) {\n                    $element.on('dblclick', dblclick);\n                    $element.on('mousedown', mousedown);\n                } else {\n                    $element.off('dblclick', dblclick);\n                    $element.off('mousedown', mousedown);\n                }\n            });\n            $scope.$watch(function () {\n                return getWidth();\n            }, function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    $scope.targetElement.css('width', newValue + 'px');\n\n                    if ($scope.targetElement[0].offsetWidth > 0) {\n                        setWidth($scope.targetElement[0].offsetWidth);\n                    }\n                }\n            });\n            if (eventTopic) {\n                api.registerEvent(eventTopic, 'resize');\n                api.registerEvent(eventTopic, 'resizeBegin');\n                api.registerEvent(eventTopic, 'resizeEnd');\n                api.registerMethod(eventTopic, 'setWidth', setWidth, this);\n                api.registerMethod(eventTopic, 'getWidth', getWidth, this);\n            }\n        }\n    };\n}];\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        require: '^ganttScrollManager',\n        link: function link(scope, element, attrs, ganttScrollManagerCtrl) {\n            ganttScrollManagerCtrl.registerHorizontalReceiver(element);\n        }\n    };\n};\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        scope: {},\n        controller: [\"$scope\", function controller($scope) {\n            'ngInject';\n\n            $scope.horizontal = [];\n            $scope.vertical = [];\n            this.registerVerticalReceiver = function (element) {\n                element.css('position', 'relative');\n                $scope.vertical.push(element[0]);\n            };\n            this.registerHorizontalReceiver = function (element) {\n                element.css('position', 'relative');\n                $scope.horizontal.push(element[0]);\n            };\n            this.getHorizontalRecievers = function () {\n                return $scope.horizontal;\n            };\n            this.getVerticalRecievers = function () {\n                return $scope.vertical;\n            };\n        }]\n    };\n};\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        require: ['^gantt', '^ganttScrollManager'],\n        link: function link(scope, element, attrs, controllers) {\n            var el = element[0];\n            var updateListeners = function updateListeners() {\n                var i = void 0;\n                var l = void 0;\n                var vertical = controllers[1].getVerticalRecievers();\n                for (i = 0, l = vertical.length; i < l; i++) {\n                    var vElement = vertical[i];\n                    if (vElement.parentNode.scrollTop !== el.scrollTop) {\n                        vElement.parentNode.scrollTop = el.scrollTop;\n                    }\n                }\n                var horizontal = controllers[1].getHorizontalRecievers();\n                for (i = 0, l = horizontal.length; i < l; i++) {\n                    var hElement = horizontal[i];\n                    if (hElement.parentNode.scrollLeft !== el.scrollLeft) {\n                        hElement.parentNode.scrollLeft = el.scrollLeft;\n                    }\n                }\n            };\n            element.bind('scroll', updateListeners);\n            scope.$watch(function () {\n                return controllers[0].gantt.width;\n            }, function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    var horizontal = controllers[1].getHorizontalRecievers();\n\n                    for (var i = 0, l = horizontal.length; i < l; i++) {\n                        var hElement = horizontal[i];\n                        hElement.style.width = newValue + 'px';\n                    }\n                }\n            });\n        }\n    };\n};\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"$timeout\", \"ganttDebounce\", function (GanttDirectiveBuilder, $timeout, ganttDebounce) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttScrollable');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.scroll.$element = $element;\n        var lastScrollLeft = void 0;\n        var autoExpandTimer = void 0;\n        var autoExpandColumns = function autoExpandColumns(el, date, direction) {\n            var autoExpand = $scope.gantt.options.value('autoExpand');\n            if (autoExpand !== 'both' && autoExpand !== true && autoExpand !== direction) {\n                return;\n            }\n            var from = void 0;\n            var to = void 0;\n            var viewScale = $scope.gantt.options.value('viewScale');\n            viewScale = viewScale.trim();\n            if (viewScale.charAt(viewScale.length - 1) === 's') {\n                viewScale = viewScale.substring(0, viewScale.length - 1);\n            }\n            var viewScaleValue = void 0;\n            var viewScaleUnit = void 0;\n            var splittedViewScale = void 0;\n            if (viewScale) {\n                splittedViewScale = viewScale.split(' ');\n            }\n            if (splittedViewScale && splittedViewScale.length > 1) {\n                viewScaleValue = parseFloat(splittedViewScale[0]);\n                viewScaleUnit = splittedViewScale[splittedViewScale.length - 1];\n            } else {\n                viewScaleValue = 1;\n                viewScaleUnit = viewScale;\n            }\n            if (direction === 'left') {\n                from = (0, _moment2.default)(date).add(-5 * viewScaleValue, viewScaleUnit);\n                $scope.fromDate = from;\n            } else {\n                to = (0, _moment2.default)(date).add(5 * viewScaleValue, viewScaleUnit);\n                $scope.toDate = to;\n            }\n            $scope.gantt.api.scroll.raise.scroll(el.scrollLeft, date, direction);\n        };\n        $element.bind('scroll', ganttDebounce(function () {\n            var el = $element[0];\n            var currentScrollLeft = el.scrollLeft;\n            var direction = void 0;\n            var date = void 0;\n            $scope.gantt.scroll.cachedScrollLeft = currentScrollLeft;\n\n            lastScrollLeft = currentScrollLeft;\n\n            var curScrollDate = $scope.gantt.getDateByPosition(currentScrollLeft);\n            $scope.gantt.api.scroll.raise.scroll(currentScrollLeft, curScrollDate);\n        }, 5));\n        $scope.getScrollableCss = function () {\n            var css = {};\n            var maxHeight = $scope.gantt.options.value('maxHeight');\n            if (!maxHeight) {\n                maxHeight = $scope.gantt.getContainerHeight();\n            }\n            if (maxHeight > 0) {\n                css['max-height'] = maxHeight - $scope.gantt.header.getHeight() + 'px';\n                css['overflow-y'] = 'auto';\n                if ($scope.gantt.scroll.isVScrollbarVisible()) {\n                    css['border-right'] = 'none';\n                }\n            }\n            var columnWidth = this.gantt.options.value('columnWidth');\n            var bodySmallerThanGantt = $scope.gantt.width === 0 ? false : $scope.gantt.width < $scope.gantt.getWidth() - $scope.gantt.side.getWidth();\n            if (columnWidth !== undefined && bodySmallerThanGantt) {\n                css['width'] = $scope.gantt.width + this.gantt.scroll.getBordersWidth() + 'px';\n            }\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        require: '^ganttScrollManager',\n        link: function link(scope, element, attrs, ganttScrollManagerCtrl) {\n            ganttScrollManagerCtrl.registerVerticalReceiver(element);\n        }\n    };\n};\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        controller: [\"$scope\", \"$element\", \"$attrs\", function controller($scope, $element, $attrs) {\n            'ngInject';\n\n            var scopeVariable = $attrs.ganttContainerHeightListener;\n            if (scopeVariable === '') {\n                scopeVariable = 'ganttContainerHeight';\n            }\n            var effectiveScope = $scope;\n            while (scopeVariable.indexOf('$parent.') === 0) {\n                scopeVariable = scopeVariable.substring('$parent.'.length);\n                effectiveScope = effectiveScope.$parent;\n            }\n            effectiveScope.$watch(function () {\n                var el = $element[0].parentElement ? $element[0].parentElement.parentElement : undefined;\n                if (el) {\n                    var height = el.offsetHeight;\n                    var style = getComputedStyle(el);\n                    height = height - parseInt(style.marginTop, 10) - parseInt(style.marginBottom, 10);\n                    return height;\n                }\n                return 0;\n            }, function (newValue) {\n                if (newValue > 0) {\n                    effectiveScope[scopeVariable] = newValue;\n                }\n            });\n        }]\n    };\n};\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        controller: [\"$scope\", \"$element\", \"$attrs\", function controller($scope, $element, $attrs) {\n            'ngInject';\n\n            var scopeVariable = $attrs.ganttContainerWidthListener;\n            if (scopeVariable === '') {\n                scopeVariable = 'ganttContainerWidth';\n            }\n            var effectiveScope = $scope;\n            while (scopeVariable.indexOf('$parent.') === 0) {\n                scopeVariable = scopeVariable.substring('$parent.'.length);\n                effectiveScope = effectiveScope.$parent;\n            }\n            effectiveScope.$watch(function () {\n                var el = $element[0].parentElement ? $element[0].parentElement.parentElement : undefined;\n                if (el) {\n                    var width = el.offsetWidth;\n                    var style = getComputedStyle(el);\n                    width = width - parseInt(style.marginLeft, 10) - parseInt(style.marginRight, 10);\n                    return width;\n                }\n                return 0;\n            }, function (newValue) {\n                if (newValue > 0) {\n                    effectiveScope[scopeVariable] = newValue;\n                }\n            });\n        }]\n    };\n};\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        controller: [\"$scope\", \"$element\", \"$attrs\", function controller($scope, $element, $attrs) {\n            'ngInject';\n\n            var scopeVariable = $attrs.ganttElementHeightListener;\n            if (scopeVariable === '') {\n                scopeVariable = 'ganttElementHeight';\n            }\n            var el = $element[0];\n            var effectiveScope = $scope;\n            while (scopeVariable.indexOf('$parent.') === 0) {\n                scopeVariable = scopeVariable.substring('$parent.'.length);\n                effectiveScope = effectiveScope.$parent;\n            }\n            effectiveScope.$watch(function () {\n                return el.clientHeight;\n            }, function (newValue) {\n                if (newValue > 0) {\n                    effectiveScope[scopeVariable] = newValue;\n                }\n            });\n        }]\n    };\n};\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        controller: [\"$scope\", \"$element\", \"$attrs\", function controller($scope, $element, $attrs) {\n            'ngInject';\n\n            var scopeVariable = $attrs.ganttElementWidthListener;\n            if (scopeVariable === '') {\n                scopeVariable = 'ganttElementWidth';\n            }\n            var el = $element[0];\n            var effectiveScope = $scope;\n            while (scopeVariable.indexOf('$parent.') === 0) {\n                scopeVariable = scopeVariable.substring('$parent.'.length);\n                effectiveScope = effectiveScope.$parent;\n            }\n            effectiveScope.$watch(function () {\n                return el.clientWidth;\n            }, function (newValue) {\n                if (newValue > 0) {\n                    effectiveScope[scopeVariable] = newValue;\n                }\n            });\n        }]\n    };\n};\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttBody');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.body.$element = $element;\n        $scope.gantt.body.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttBodyBackground');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.body.background.$element = $element;\n        $scope.gantt.body.background.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttBodyColumns');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.body.columns.$element = $element;\n        $scope.gantt.body.background.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttBodyForeground');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.body.foreground.$element = $element;\n        $scope.gantt.body.foreground.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttBodyRows');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.body.rows.$element = $element;\n        $scope.gantt.body.rows.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttColumn');\n    builder.controller = function ($scope, $element) {\n        $scope.column.$element = $element;\n        $scope.column.$scope = $scope;\n        $scope.column.updateView();\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttColumnHeader');\n    builder.controller = function ($scope, $element) {\n        $scope.column.$element = $element;\n        $scope.column.$scope = $scope;\n        $scope.column.updateView();\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttHeader');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.header.$element = $element;\n        $scope.gantt.header.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttHeaderColumns');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.header.columns.$element = $element;\n        $scope.gantt.header.columns.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttRow');\n    builder.controller = function ($scope, $element) {\n        $scope.row.$element = $element;\n        $scope.row.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttRowBackground');\n    return builder.build();\n}];\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttRowLabel');\n    builder.restrict = 'A';\n    builder.templateUrl = undefined;\n    return builder.build();\n}];\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"ganttLayout\", function (GanttDirectiveBuilder, ganttLayout) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttScrollableHeader');\n    builder.controller = function ($scope) {\n        var scrollBarWidth = ganttLayout.getScrollBarWidth();\n        $scope.getScrollableHeaderCss = function () {\n            var css = {};\n            var maxHeightActivated = $scope.gantt.scroll.isVScrollbarVisible();\n            var vScrollbarWidth = maxHeightActivated ? scrollBarWidth : 0;\n            var columnWidth = this.gantt.options.value('columnWidth');\n            var bodySmallerThanGantt = $scope.gantt.width === 0 ? false : $scope.gantt.width < $scope.gantt.getWidth() - $scope.gantt.side.getWidth();\n            if (columnWidth !== undefined && bodySmallerThanGantt) {\n                css['width'] = $scope.gantt.width - vScrollbarWidth + this.gantt.scroll.getBordersWidth() + 'px';\n            } else if (maxHeightActivated) {\n                css['width'] = $scope.gantt.getWidth() - $scope.gantt.side.getWidth() - vScrollbarWidth + 'px';\n            }\n\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSide');\n    builder.controller = function ($scope, $element) {\n        $scope.gantt.side.$element = $element;\n        $scope.gantt.side.$scope = $scope;\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"ganttLayout\", function (GanttDirectiveBuilder, ganttLayout) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSideBackground');\n    builder.controller = function ($scope) {\n        var hScrollBarHeight = ganttLayout.getScrollBarHeight();\n        $scope.getMaxHeightCss = function () {\n            var css = {};\n            var maxHeight = $scope.maxHeight;\n            if (!maxHeight) {\n                maxHeight = $scope.gantt.getContainerHeight();\n            }\n            var bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0;\n            css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px';\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSideContent');\n    return builder.build();\n}];\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTask');\n    builder.controller = function ($scope, $element) {\n        $scope.task.$element = $element;\n        $scope.task.$scope = $scope;\n        $scope.getTaskContent = function () {\n            if ($scope.task.model.content !== undefined) {\n                return $scope.task.model.content;\n            }\n            return $scope.task.rowsManager.gantt.options.value('taskContent');\n        };\n        $scope.simplifyMoment = function (d) {\n            return _moment2.default.isMoment(d) ? d.unix() : d;\n        };\n        $scope.$watchGroup(['simplifyMoment(task.model.from)', 'simplifyMoment(task.model.to)'], function () {\n            $scope.task.updatePosAndSize();\n        });\n    };\n    return builder.build();\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTaskBackground');\n    return builder.build();\n}];\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTaskContent');\n    return builder.build();\n}];\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTaskForeground');\n    return builder.build();\n}];\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTimeFrame');\n    builder.controller = function ($scope, $element) {\n        $scope.timeFrame.$element = $element;\n        $scope.timeFrame.$scope = $scope;\n        $scope.timeFrame.updateView();\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTimespan');\n    builder.controller = function ($scope, $element) {\n        $scope.timespan.$element = $element;\n        $scope.timespan.$scope = $scope;\n        $scope.timespan.updateView();\n    };\n    return builder.build();\n}];\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$timeout\", function ($timeout) {\n    'ngInject';\n\n    function debounce(fn, timeout) {\n        var invokeApply = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        var nthCall = 0;\n        return function () {\n            var self = this;\n            var argz = arguments;\n            nthCall++;\n            var later = function (version) {\n                return function () {\n                    if (version === nthCall) {\n                        return fn.apply(self, argz);\n                    }\n                };\n            }(nthCall);\n            return $timeout(later, timeout, invokeApply === undefined ? true : invokeApply);\n        };\n    }\n    return debounce;\n}];\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttDirectiveBuilder = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = [\"$templateCache\", function ($templateCache) {\n    'ngInject';\n\n    GanttDirectiveBuilder.$templateCache = $templateCache;\n    return GanttDirectiveBuilder;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttDirectiveBuilder = exports.GanttDirectiveBuilder = function () {\n    function GanttDirectiveBuilder(directiveName, templateUrl) {\n        var require = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '^gantt';\n\n        var restrict = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'E';\n        (0, _classCallCheck3.default)(this, GanttDirectiveBuilder);\n\n        this.directiveName = directiveName;\n        this.templateUrl = templateUrl === undefined ? 'template/' + directiveName + '.tmpl.html' : templateUrl;\n        this.require = require === undefined ? '^gantt' : require;\n        this.restrict = restrict === undefined ? 'E' : restrict;\n        this.scope = false;\n        this.transclude = true;\n        this.replace = true;\n    }\n\n    (0, _createClass3.default)(GanttDirectiveBuilder, [{\n        key: 'build',\n        value: function build() {\n            var directiveName = this.directiveName;\n            var _templateUrl = this.templateUrl;\n            var controllerFunction = this.controller;\n            var directive = {\n                restrict: this.restrict,\n                require: this.require,\n                transclude: this.transclude,\n                replace: this.replace,\n                scope: this.scope,\n                templateUrl: function templateUrl(tElement, tAttrs) {\n                    if (tAttrs.templateUrl !== undefined) {\n                        _templateUrl = tAttrs.templateUrl;\n                    }\n                    if (tAttrs.template !== undefined) {\n                        GanttDirectiveBuilder.$templateCache.put(_templateUrl, tAttrs.template);\n                    }\n                    return _templateUrl;\n                },\n                compile: function compile() {\n                    return {\n                        pre: function preLink(scope, iElement, iAttrs, controller) {\n                            scope.gantt.api.directives.raise.preLink(directiveName, scope, iElement, iAttrs, controller);\n                        },\n                        post: function postLink(scope, iElement, iAttrs, controller) {\n                            scope.gantt.api.directives.raise.postLink(directiveName, scope, iElement, iAttrs, controller);\n                        }\n                    };\n                },\n                controller: [\"$scope\", \"$element\", \"$attrs\", function controller($scope, $element, $attrs) {\n                    'ngInject';\n\n                    var controller = this;\n                    if (controllerFunction !== undefined) {\n                        controllerFunction($scope, $element, $attrs, controller);\n                    }\n                    $scope.gantt.api.directives.raise.controller(directiveName, $scope, $element, $attrs, controller);\n                    $scope.$on('$destroy', function () {\n                        $scope.gantt.api.directives.raise.destroy(directiveName, $scope, $element, $attrs, controller);\n                    });\n                    $scope.$applyAsync(function () {\n                        $scope.gantt.api.directives.raise.new(directiveName, $scope, $element, $attrs, controller);\n                    });\n                }]\n            };\n            if (!_templateUrl) {\n                delete directive.templateUrl;\n                delete directive.replace;\n                delete directive.transclude;\n            }\n            return directive;\n        }\n    }]);\n    return GanttDirectiveBuilder;\n}();\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttDom = function () {\n    GanttDom.$inject = [\"$document\"];\n    function GanttDom($document) {\n        'ngInject';\n\n        (0, _classCallCheck3.default)(this, GanttDom);\n        this.$document = $document;\n    }\n\n    (0, _createClass3.default)(GanttDom, [{\n        key: 'elementFromPoint',\n        value: function elementFromPoint(x, y) {\n            return this.$document[0].elementFromPoint(x, y);\n        }\n    }, {\n        key: 'elementsFromPoint',\n        value: function elementsFromPoint(x, y, depth) {\n            var elements = [];\n            var previousPointerEvents = [];\n            var cDepth = 0;\n            var current = void 0;\n            var i = void 0;\n            var l = void 0;\n            var d = void 0;\n\n            while ((current = this.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current !== null && (depth === undefined || cDepth < depth)) {\n                elements.push(current);\n                previousPointerEvents.push({\n                    value: current.style.getPropertyValue('visibility'),\n                    priority: current.style.getPropertyPriority('visibility')\n                });\n\n                current.style.setProperty('visibility', 'hidden', 'important');\n                cDepth++;\n            }\n\n            for (i = 0, l = previousPointerEvents.length; i < l; i++) {\n                d = previousPointerEvents[i];\n                elements[i].style.setProperty('visibility', d.value ? d.value : '', d.priority);\n            }\n            return elements;\n        }\n    }, {\n        key: 'findElementFromPoint',\n        value: function findElementFromPoint(x, y, checkFunction) {\n            var elements = [];\n            var previousPointerEvents = [];\n            var cDepth = 0;\n            var current = void 0;\n            var found = void 0;\n            var i = void 0;\n            var l = void 0;\n            var d = void 0;\n\n            while ((current = this.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current !== null) {\n                elements.push(current);\n                previousPointerEvents.push({\n                    value: current.style.getPropertyValue('visibility'),\n                    priority: current.style.getPropertyPriority('visibility')\n                });\n\n                current.style.setProperty('visibility', 'hidden', 'important');\n                cDepth++;\n                if (checkFunction(current)) {\n                    found = current;\n                    break;\n                }\n            }\n\n            for (i = 0, l = previousPointerEvents.length; i < l; i++) {\n                d = previousPointerEvents[i];\n                elements[i].style.setProperty('visibility', d.value ? d.value : '', d.priority);\n            }\n            return found;\n        }\n    }, {\n        key: 'isElementVisible',\n        value: function isElementVisible(element) {\n            return element.offsetParent !== undefined && element.offsetParent !== null;\n        }\n    }]);\n    return GanttDom;\n}();\n\nexports.default = GanttDom;\n\n/***/ }),\n/* 316 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$injector\", function ($injector) {\n    'ngInject';\n\n    var ngAnimate = void 0;\n    try {\n        ngAnimate = $injector.get('$animate');\n    } catch (e) {}\n    if (ngAnimate !== undefined) {\n        return function (element, enabled) {\n            if (_angular2.default.version.major >= 1 && _angular2.default.version.minor >= 4) {\n                ngAnimate.enabled(element, enabled);\n            } else {\n                ngAnimate.enabled(enabled, element);\n            }\n        };\n    } else {\n        return function () {};\n    }\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 317 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$compile\", function ($compile) {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        require: '^gantt',\n        link: function link(scope, element, attrs, ganttCtrl) {\n            scope.scope = ganttCtrl.gantt.$scope.$parent;\n            scope.$watch(function () {\n                return scope.$eval(attrs.ganttBindCompileHtml);\n            }, function (value) {\n                element.html(value);\n                $compile(element.contents())(scope);\n            });\n        }\n    };\n}];\n\n/***/ }),\n/* 318 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttLayout = function () {\n    GanttLayout.$inject = [\"$document\"];\n    function GanttLayout($document) {\n        'ngInject';\n\n        (0, _classCallCheck3.default)(this, GanttLayout);\n        this.$document = $document;\n    }\n\n    (0, _createClass3.default)(GanttLayout, [{\n        key: 'getScrollBarWidth',\n        value: function getScrollBarWidth() {\n            var inner = this.$document[0].createElement('p');\n            inner.style.width = '100%';\n            inner.style.height = '200px';\n            var outer = this.$document[0].createElement('div');\n            outer.style.position = 'absolute';\n            outer.style.top = '0px';\n            outer.style.left = '0px';\n            outer.style.visibility = 'hidden';\n            outer.style.width = '200px';\n            outer.style.height = '150px';\n            outer.style.overflow = 'hidden';\n            outer.appendChild(inner);\n            this.$document[0].body.appendChild(outer);\n            var w1 = inner.offsetWidth;\n            outer.style.overflow = 'scroll';\n            var w2 = inner.offsetWidth;\n            if (w1 === w2) {\n                w2 = outer.clientWidth;\n            }\n            this.$document[0].body.removeChild(outer);\n            return w1 - w2;\n        }\n    }, {\n        key: 'getScrollBarHeight',\n        value: function getScrollBarHeight() {\n            var inner = this.$document[0].createElement('p');\n            inner.style.width = '200px;';\n            inner.style.height = '100%';\n            var outer = this.$document[0].createElement('div');\n            outer.style.position = 'absolute';\n            outer.style.top = '0px';\n            outer.style.left = '0px';\n            outer.style.visibility = 'hidden';\n            outer.style.width = '150px';\n            outer.style.height = '200px';\n            outer.style.overflow = 'hidden';\n            outer.appendChild(inner);\n            this.$document[0].body.appendChild(outer);\n            var h1 = inner.offsetHeight;\n            outer.style.overflow = 'scroll';\n            var h2 = inner.offsetHeight;\n            if (h1 === h2) {\n                h2 = outer.clientHeight;\n            }\n            this.$document[0].body.removeChild(outer);\n            return h1 - h2;\n        }\n    }, {\n        key: 'setColumnsWidthFactor',\n        value: function setColumnsWidthFactor(columns, widthFactor) {\n            var originalLeftOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            if (!columns) {\n                return;\n            }\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(columns), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var column = _step.value;\n\n                    column.left = widthFactor * (column.originalSize.left + originalLeftOffset) - originalLeftOffset;\n                    column.width = widthFactor * column.originalSize.width;\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(column.timeFrames), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var timeFrame = _step2.value;\n\n                            timeFrame.left = widthFactor * timeFrame.originalSize.left;\n                            timeFrame.width = widthFactor * timeFrame.originalSize.width;\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }]);\n    return GanttLayout;\n}();\n\nexports.default = GanttLayout;\n\n/***/ }),\n/* 319 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttMouseButton = function () {\n    function GanttMouseButton() {\n        (0, _classCallCheck3.default)(this, GanttMouseButton);\n    }\n\n    (0, _createClass3.default)(GanttMouseButton, [{\n        key: \"getButton\",\n        value: function getButton(e) {\n            e = e || window.event;\n            if (!e.which) {\n                if (e.button === undefined) {\n                    return 1;\n                }\n                return e.button < 2 ? 1 : e.button === 4 ? 2 : 3;\n            } else {\n                return e.which;\n            }\n        }\n    }]);\n    return GanttMouseButton;\n}();\n\nexports.default = GanttMouseButton;\n\n/***/ }),\n/* 320 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttMouseOffset = function () {\n    function GanttMouseOffset() {\n        (0, _classCallCheck3.default)(this, GanttMouseOffset);\n    }\n\n    (0, _createClass3.default)(GanttMouseOffset, [{\n        key: \"getTouch\",\n        value: function getTouch(evt) {\n            if (evt.touches !== undefined) {\n                return evt.touches[0];\n            }\n            return evt;\n        }\n    }, {\n        key: \"getOffset\",\n        value: function getOffset(evt) {\n            if (evt.offsetX && evt.offsetY) {\n                return { x: evt.offsetX, y: evt.offsetY };\n            }\n            if (evt.layerX && evt.layerY) {\n                return { x: evt.layerX, y: evt.layerY };\n            }\n            return this.getOffsetForElement(evt.target, evt);\n        }\n    }, {\n        key: \"getOffsetForElement\",\n        value: function getOffsetForElement(el, evt) {\n            var bb = el.getBoundingClientRect();\n            return { x: evt.clientX - bb.left, y: evt.clientY - bb.top };\n        }\n    }]);\n    return GanttMouseOffset;\n}();\n\nexports.default = GanttMouseOffset;\n\n/***/ }),\n/* 321 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.GanttSmartEvent = undefined;\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(3);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.default = function () {\n    'ngInject';\n\n    return GanttSmartEvent;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GanttSmartEvent = exports.GanttSmartEvent = function () {\n    function GanttSmartEvent($scope, $element, event, fn) {\n        var _this = this;\n\n        (0, _classCallCheck3.default)(this, GanttSmartEvent);\n\n        this.$element = $element;\n        this.event = event;\n        this.fn = fn;\n        $scope.$on('$destroy', function () {\n            _this.$element.unbind(_this.event, _this.fn);\n        });\n    }\n\n    (0, _createClass3.default)(GanttSmartEvent, [{\n        key: 'bindOnce',\n        value: function bindOnce() {\n            this.$element.one(this.event, this.fn);\n        }\n    }, {\n        key: 'bind',\n        value: function bind() {\n            this.$element.bind(this.event, this.fn);\n        }\n    }, {\n        key: 'unbind',\n        value: function unbind() {\n            this.$element.unbind(this.event, this.fn);\n        }\n    }]);\n    return GanttSmartEvent;\n}();\n\n/***/ }),\n/* 322 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$compile\", \"$document\", function ($compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.bounds) === 'object') {\n                for (var option in scope.options.bounds) {\n                    scope[option] = scope.options.bounds[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\n                if (directiveName === 'ganttTask') {\n                    var boundsScope = taskScope.$new();\n                    boundsScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'task.model.est && task.model.lct && pluginScope.enabled');\n                    var boundsElement = $document[0].createElement('gantt-task-bounds');\n                    if (attrs.templateUrl !== undefined) {\n                        _angular2.default.element(boundsElement).attr('data-template-url', attrs.templateUrl);\n                    }\n                    if (attrs.template !== undefined) {\n                        _angular2.default.element(boundsElement).attr('data-template', attrs.template);\n                    }\n                    _angular2.default.element(ifElement).append(boundsElement);\n                    taskElement.append($compile(ifElement)(boundsScope));\n                }\n            });\n            api.tasks.on.clean(scope, function (model) {\n                if (model.est !== undefined && !_moment2.default.isMoment(model.est)) {\n                    model.est = (0, _moment2.default)(model.est);\n                }\n                if (model.lct !== undefined && !_moment2.default.isMoment(model.lct)) {\n                    model.lct = (0, _moment2.default)(model.lct);\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 323 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _bounds = __webpack_require__(322);\n\nvar _bounds2 = _interopRequireDefault(_bounds);\n\nvar _taskBounds = __webpack_require__(324);\n\nvar _taskBounds2 = _interopRequireDefault(_taskBounds);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.bounds';\n__webpack_require__(245);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttBounds', _bounds2.default).directive('ganttTaskBounds', _taskBounds2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 324 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$templateCache\", function ($templateCache) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'plugins/bounds/taskBounds.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        replace: true,\n        scope: true,\n        controller: [\"$scope\", \"$element\", function controller($scope, $element) {\n            'ngInject';\n\n            $element.toggleClass('ng-hide', true);\n            $scope.simplifyMoment = function (d) {\n                return _moment2.default.isMoment(d) ? d.unix() : d;\n            };\n            $scope.$watchGroup(['simplifyMoment(task.model.est)', 'simplifyMoment(task.model.lct)', 'task.left', 'task.width'], function () {\n                var left = $scope.task.rowsManager.gantt.getPositionByDate($scope.task.model.est);\n                var right = $scope.task.rowsManager.gantt.getPositionByDate($scope.task.model.lct);\n                $element.css('left', left - $scope.task.left + 'px');\n                $element.css('width', right - left + 'px');\n                $element.toggleClass('gantt-task-bounds-in', false);\n                $element.toggleClass('gantt-task-bounds-out', false);\n                if ($scope.task.model.est === undefined || $scope.task.model.lct === undefined) {\n                    $element.toggleClass('gantt-task-bounds-in', true);\n                } else if ($scope.task.model.est > $scope.task.model.from) {\n                    $element.toggleClass('gantt-task-bounds-out', true);\n                } else if ($scope.task.model.lct < $scope.task.model.to) {\n                    $element.toggleClass('gantt-task-bounds-out', true);\n                } else {\n                    $element.toggleClass('gantt-task-bounds-in', true);\n                }\n            });\n            $scope.task.$element.bind('mouseenter', function () {\n                $element.toggleClass('ng-hide', false);\n            });\n            $scope.task.$element.bind('mouseleave', function () {\n                $element.toggleClass('ng-hide', true);\n            });\n            $scope.task.rowsManager.gantt.api.directives.raise.new('ganttBounds', $scope, $element);\n            $scope.$on('$destroy', function () {\n                $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttBounds', $scope, $element);\n            });\n        }]\n    };\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(381);\n\n/***/ }),\n/* 325 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"$compile\", \"$document\", function (ganttUtils, $compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            headersLabels: '=?',\n            headersLabelsTemplates: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.corner) === 'object') {\n                for (var option in scope.options.corner) {\n                    scope[option] = scope.options.corner[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            api.directives.on.new(scope, function (directiveName, sideBackgroundScope, sideBackgroundElement) {\n                if (directiveName === 'ganttSideBackground') {\n                    var cornerScope = sideBackgroundScope.$new();\n                    cornerScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    _angular2.default.element(ifElement).addClass('gantt-corner-area');\n                    var topElement = $document[0].createElement('gantt-corner-area');\n                    _angular2.default.element(ifElement).append(topElement);\n                    sideBackgroundElement[0].parentNode.insertBefore($compile(ifElement)(cornerScope)[0], sideBackgroundElement[0].nextSibling);\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(382);\n\n/***/ }),\n/* 326 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttCornerArea', 'plugins/corner/corner.tmpl.html');\n    builder.controller = function ($scope) {\n        var headers = $scope.gantt.columnsManager.headers;\n        function updateModelWithHeaders(headers) {\n            var scopeHeaders = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(headers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var columns = _step.value;\n\n                    var name = columns[0].name;\n                    var unit = columns[0].unit;\n                    var scopeHeader = { columns: columns, unit: unit, name: name };\n                    scopeHeaders.push(scopeHeader);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            $scope.headers = scopeHeaders;\n        }\n        updateModelWithHeaders(headers);\n        $scope.getLabel = function (header) {\n            var label = header.name;\n            if ($scope.pluginScope.headersLabels && header.name in $scope.pluginScope.headersLabels) {\n                label = $scope.pluginScope.headersLabels[header.name];\n                if (typeof label === 'function') {\n                    label = label(header.name, header.unit, header.columns);\n                }\n            } else if (typeof $scope.pluginScope.headersLabels === 'function') {\n                label = $scope.pluginScope.headersLabels(header.name, header.unit, header.columns);\n            }\n            return label;\n        };\n        $scope.getLabelContent = function (header) {\n            var content = void 0;\n            if (content === undefined && $scope.pluginScope.headersLabelsTemplates !== undefined) {\n                content = $scope.pluginScope.headersLabelsTemplates;\n                if (content !== null && (typeof content === 'undefined' ? 'undefined' : (0, _typeof3.default)(content)) === 'object' && header.name in content) {\n                    content = content[header.name];\n                }\n                if (typeof content === 'function') {\n                    content = content(header.name, header.unit, header.columns);\n                }\n            }\n            if (content === undefined) {\n                return '{{getLabel(header)}}';\n            }\n            return content;\n        };\n        $scope.gantt.api.columns.on.generate($scope, function (columns, headers) {\n            updateModelWithHeaders(headers);\n        });\n    };\n    return builder.build();\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _corner = __webpack_require__(325);\n\nvar _corner2 = _interopRequireDefault(_corner);\n\nvar _cornerArea = __webpack_require__(326);\n\nvar _cornerArea2 = _interopRequireDefault(_cornerArea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.corner';\n__webpack_require__(246);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttCorner', _corner2.default).directive('ganttCornerArea', _cornerArea2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$timeout\", \"$document\", \"ganttDebounce\", \"GanttDependenciesManager\", \"GanttDependenciesChecker\", function ($timeout, $document, ganttDebounce, GanttDependenciesManager, GanttDependenciesChecker) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            readOnly: '=?',\n            jsPlumbDefaults: '=?',\n            endpoints: '=?',\n            fallbackEndpoints: '=?',\n            conflictChecker: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.dependencies) === 'object') {\n                for (var option in scope.options.dependencies) {\n                    scope[option] = scope.options.dependencies[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.readOnly === undefined) {\n                scope.readOnly = false;\n            }\n            if (scope.jsPlumbDefaults === undefined) {\n                scope.jsPlumbDefaults = {\n                    Endpoint: ['Dot', { radius: 4 }],\n                    EndpointStyle: { fillStyle: '#456', strokeStyle: '#456', lineWidth: 1 },\n                    PaintStyle: {\n                        strokeWidth: 2,\n                        stroke: 'rgb(68, 85, 102)'\n                    },\n                    Connector: 'Flowchart',\n                    ConnectionOverlays: [['Arrow', { location: 1, length: 8, width: 8 }]]\n                };\n            }\n            function createLeftOverlay() {\n                return _angular2.default.element('<span><span class=\"gantt-endpoint-overlay start-endpoint arrow-right\"></span></span>');\n            }\n            function createRightOverlay() {\n                return _angular2.default.element('<span><span class=\"gantt-endpoint-overlay end-endpoint arrow-right\"></span></span>');\n            }\n            function createLeftFallbackOverlay() {\n                return _angular2.default.element('<span><span class=\"gantt-endpoint-overlay start-endpoint fallback-endpoint\"></span></span>');\n            }\n            function createRightFallbackOverlay() {\n                return _angular2.default.element('<span><span class=\"gantt-endpoint-overlay end-endpoint fallback-endpoint\"></span></span>');\n            }\n            if (scope.endpoints === undefined) {\n                scope.endpoints = [{\n                    anchor: 'Left',\n                    isSource: false,\n                    isTarget: true,\n                    maxConnections: -1,\n                    cssClass: 'gantt-endpoint start-endpoint target-endpoint',\n                    overlays: [['Custom', { create: createLeftOverlay }]]\n                }, {\n                    anchor: 'Right',\n                    isSource: true,\n                    isTarget: false,\n                    maxConnections: -1,\n                    cssClass: 'gantt-endpoint end-endpoint source-endpoint',\n                    overlays: [['Custom', { create: createRightOverlay }]]\n                }];\n            }\n            if (scope.fallbackEndpoints === undefined) {\n                scope.fallbackEndpoints = [{\n                    endpoint: 'Blank',\n                    anchor: 'Left',\n                    isSource: false,\n                    isTarget: true,\n                    maxConnections: 0,\n                    cssClass: 'gantt-endpoint start-endpoint fallback-endpoint',\n                    overlays: [['Custom', { create: createLeftFallbackOverlay }]]\n                }, {\n                    endpoint: 'Blank',\n                    anchor: 'Right',\n                    isSource: true,\n                    isTarget: false,\n                    maxConnections: 0,\n                    cssClass: 'gantt-endpoint end-endpoint fallback-endpoint',\n                    overlays: [['Custom', { create: createRightFallbackOverlay }]]\n                }];\n            }\n            if (scope.conflictChecker === undefined) {\n                scope.conflictChecker = false;\n            }\n            var manager = new GanttDependenciesManager(ganttCtrl.gantt, scope, api);\n            var checker = new GanttDependenciesChecker(manager, scope, api);\n            scope.$watchGroup(['conflictChecker', 'enabled'], function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    var rows = ganttCtrl.gantt.rowsManager.rows;\n                    var allTasks = [];\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = (0, _getIterator3.default)(rows), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var row = _step.value;\n\n                            allTasks.push.apply(allTasks, row.tasks);\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    if (scope.conflictChecker && scope.enabled) {\n                        checker.refresh(allTasks);\n                    } else {\n                        checker.clear(allTasks);\n                    }\n                }\n            });\n            api.directives.on.new(scope, function (directiveName, directiveScope, directiveElement) {\n                if (directiveName === 'ganttBody') {\n                    manager.plumb.setContainer(directiveElement);\n                }\n            });\n            api.tasks.on.add(scope, function (task) {\n                manager.addDependenciesFromTask(task, true);\n            });\n            api.tasks.on.remove(scope, function (task) {\n                manager.removeDependenciesFromTask(task);\n            });\n            api.tasks.on.displayed(scope, ganttDebounce(function (tasks) {\n                manager.setTasks(tasks);\n                manager.refresh();\n                if (scope.conflictChecker && scope.enabled) {\n                    checker.refresh(tasks);\n                }\n            }));\n            api.rows.on.displayed(scope, function () {\n                manager.refresh();\n            });\n            api.tasks.on.viewChange(scope, function (task) {\n                if (task.$element) {\n                    manager.plumb.revalidate(task.$element[0]);\n                }\n                if (scope.conflictChecker && scope.enabled) {\n                    checker.refresh([task]);\n                }\n            });\n            api.tasks.on.viewRowChange(scope, function (task) {\n                manager.setTask(task);\n                if (scope.conflictChecker && scope.enabled) {\n                    checker.refresh([task]);\n                }\n            });\n            api.dependencies.on.add(scope, function (dependency) {\n                if (scope.conflictChecker && scope.enabled) {\n                    checker.refresh([dependency.getFromTask(), dependency.getToTask()]);\n                }\n            });\n            api.dependencies.on.change(scope, function (dependency) {\n                if (scope.conflictChecker && scope.enabled) {\n                    checker.refresh([dependency.getFromTask(), dependency.getToTask()]);\n                }\n            });\n            api.dependencies.on.remove(scope, function (dependency) {\n                if (scope.conflictChecker && scope.enabled) {\n                    var fromTask = dependency.getFromTask();\n                    var toTask = dependency.getToTask();\n                    if (fromTask && toTask) {\n                        checker.refresh([fromTask, toTask]);\n                    } else {\n                        if (fromTask) {\n                            checker.removeConflictClass(fromTask);\n                        } else {\n                            checker.removeConflictClass(toTask);\n                        }\n                    }\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = function () {\n    'ngInject';\n\n    var GanttDependenciesChecker = function GanttDependenciesChecker(manager) {\n        function handleTaskConflict(conflictsList, task) {\n            if (!(task.model.id in conflictsList) && task.$element) {\n                task.$element.addClass('gantt-task-conflict');\n                conflictsList[task.model.id] = task;\n            }\n        }\n        function handleTaskNonConflict(conflictsList, allTasks) {\n            for (var i = 0, l = allTasks.length; i < l; i++) {\n                var task = allTasks[i];\n                if (!(task.model.id in conflictsList) && task.$element) {\n                    task.$element.removeClass('gantt-task-conflict');\n                }\n            }\n        }\n\n        this.refresh = function (tasks) {\n            var allTasks = tasks.slice(0);\n            var conflictsList = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(tasks), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var task = _step.value;\n\n                    var taskDependencies = manager.getTaskDependencies(task);\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(taskDependencies), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var dependency = _step2.value;\n\n                            var fromTask = dependency.getFromTask();\n                            var toTask = dependency.getToTask();\n                            if (!(fromTask in allTasks)) {\n                                allTasks.push(fromTask);\n                            }\n                            if (!(toTask in allTasks)) {\n                                allTasks.push(toTask);\n                            }\n                            if (fromTask.model.to > toTask.model.from) {\n                                handleTaskConflict(conflictsList, fromTask);\n                                handleTaskConflict(conflictsList, toTask);\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            handleTaskNonConflict(conflictsList, allTasks);\n        };\n        this.removeConflictClass = function (task) {\n            task.$element.removeClass('gantt-task-conflict');\n        };\n\n        this.clear = function (tasks) {\n            var allTasks = tasks.slice(0);\n            handleTaskNonConflict([], allTasks);\n        };\n    };\n    return GanttDependenciesChecker;\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    var DependenciesEvents = function DependenciesEvents(manager) {\n        var self = this;\n        this.manager = manager;\n\n        var denyDragWhenReadOnly = function denyDragWhenReadOnly() {\n            return !self.manager.pluginScope.readOnly;\n        };\n        this.manager.plumb.bind('beforeDrag', denyDragWhenReadOnly);\n        this.manager.plumb.bind('beforeStartDetach', denyDragWhenReadOnly);\n\n        var denyDropOnSameTask = function denyDropOnSameTask(params) {\n            return params.sourceId !== params.targetId;\n        };\n        this.manager.plumb.bind('beforeDrop', denyDropOnSameTask);\n\n        this.manager.plumb.bind('connectionDrag', function (connection) {\n            self.manager.setDraggingConnection(connection);\n        });\n        this.manager.plumb.bind('connectionDragStop', function () {\n            self.manager.setDraggingConnection(undefined);\n        });\n        this.manager.plumb.bind('beforeDrop', function () {\n            self.manager.setDraggingConnection(undefined);\n            return true;\n        });\n        var createConnection = function createConnection(info, mouseEvent) {\n            if (mouseEvent) {\n                var oldDependency = void 0;\n                if (info.connection.$dependency) {\n                    oldDependency = info.connection.$dependency;\n                }\n                var sourceEndpoint = info.sourceEndpoint;\n                var targetEndpoint = info.targetEndpoint;\n                var sourceModel = sourceEndpoint.$task.model;\n                var dependenciesModel = sourceModel.dependencies;\n                if (dependenciesModel === undefined) {\n                    dependenciesModel = [];\n                    sourceModel.dependencies = dependenciesModel;\n                }\n                var connectionModel = { to: targetEndpoint.$task.model.id };\n                dependenciesModel.push(connectionModel);\n                if (oldDependency) {\n                    oldDependency.removeFromTaskModel();\n                    self.manager.removeDependency(oldDependency, true);\n                }\n                var dependency = self.manager.addDependency(sourceEndpoint.$task, connectionModel);\n                info.connection.$dependency = dependency;\n                dependency.connection = info.connection;\n                dependency.connection.setParameter('from', sourceEndpoint.$task);\n                dependency.connection.setParameter('to', targetEndpoint.$task);\n                dependency.connection.canvas.setAttribute('data-fromId', sourceEndpoint.$task.model.id);\n                dependency.connection.canvas.setAttribute('data-toId', targetEndpoint.$task.model.id);\n                self.manager.api.dependencies.raise.add(dependency);\n            }\n        };\n        var updateConnection = function updateConnection(info, mouseEvent) {\n            if (mouseEvent) {\n                var oldDependency = void 0;\n                if (info.connection.$dependency) {\n                    oldDependency = info.connection.$dependency;\n                }\n                var sourceEndpoint = info.newSourceEndpoint;\n                var targetEndpoint = info.newTargetEndpoint;\n                var sourceModel = sourceEndpoint.$task.model;\n                var dependenciesModel = sourceModel.dependencies;\n                if (dependenciesModel === undefined) {\n                    dependenciesModel = [];\n                    sourceModel.dependencies = dependenciesModel;\n                }\n                var connectionModel = { to: targetEndpoint.$task.model.id };\n                dependenciesModel.push(connectionModel);\n                if (oldDependency) {\n                    oldDependency.removeFromTaskModel();\n                    self.manager.removeDependency(oldDependency, true);\n                }\n                var dependency = self.manager.addDependency(sourceEndpoint.$task, connectionModel);\n                info.connection.$dependency = dependency;\n                dependency.connection = info.connection;\n                dependency.connection.setParameter('from', sourceEndpoint.$task);\n                dependency.connection.setParameter('to', targetEndpoint.$task);\n                dependency.connection.canvas.setAttribute('data-fromId', sourceEndpoint.$task.model.id);\n                dependency.connection.canvas.setAttribute('data-toId', targetEndpoint.$task.model.id);\n                self.manager.api.dependencies.raise.change(dependency, oldDependency);\n            }\n        };\n        var deleteConnection = function deleteConnection(info, mouseEvent) {\n            if (mouseEvent) {\n                var dependency = info.connection.$dependency;\n                dependency.removeFromTaskModel();\n                self.manager.removeDependency(dependency, true);\n                self.manager.api.dependencies.raise.remove(dependency);\n            }\n        };\n        this.manager.plumb.bind('connectionMoved', updateConnection);\n        this.manager.plumb.bind('connection', createConnection);\n        this.manager.plumb.bind('connectionDetached', deleteConnection);\n    };\n    return DependenciesEvents;\n};\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"GanttDependency\", \"GanttDependenciesEvents\", \"GanttDependencyTaskMouseHandler\", function (GanttDependency, GanttDependenciesEvents, GanttDependencyTaskMouseHandler) {\n    'ngInject';\n\n    var DependenciesManager = function DependenciesManager(gantt, pluginScope, api) {\n        var self = this;\n        this.gantt = gantt;\n        this.pluginScope = pluginScope;\n        this.api = api;\n        this.api.registerEvent('dependencies', 'add');\n        this.api.registerEvent('dependencies', 'change');\n        this.api.registerEvent('dependencies', 'remove');\n        this.plumb = _jsplumb2.default.jsPlumb ? _jsplumb2.default.jsPlumb.getInstance() : _jsplumb2.default.getInstance();\n        this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults);\n        this.dependenciesFrom = {};\n        this.dependenciesTo = {};\n        this.tasksList = [];\n        this.tasks = {};\n        this.events = new GanttDependenciesEvents(this);\n        this.pluginScope.$watch('enabled', function (newValue, oldValue) {\n            if (newValue !== oldValue) {\n                self.refresh();\n            }\n        });\n        this.pluginScope.$watch('readOnly', function (newValue, oldValue) {\n            if (newValue !== oldValue) {\n                self.setTasks(self.tasksList);\n                self.refresh();\n            }\n        });\n        this.pluginScope.$watch('jsPlumbDefaults', function (newValue, oldValue) {\n            if (newValue !== oldValue) {\n                self.plumb.importDefaults(newValue);\n                self.refresh();\n            }\n        }, true);\n\n        this.addDependenciesFromTask = function (task, allowPartial) {\n            if (this.pluginScope.enabled) {\n                var taskDependencies = task.model.dependencies;\n                if (taskDependencies !== undefined && taskDependencies) {\n                    if (!Array.isArray(taskDependencies)) {\n                        taskDependencies = [taskDependencies];\n                        task.model.dependencies = taskDependencies;\n                    }\n\n                    for (var i = 0, l = taskDependencies.length; i < l; i++) {\n                        var dependency = self.addDependency(task, taskDependencies[i], allowPartial);\n                        if (dependency) {\n                            dependency.connect();\n                        }\n                    }\n                }\n            }\n        };\n\n        this.removeDependenciesFromTask = function (task, keepConnection) {\n            var dependencies = this.getTaskDependencies(task);\n            if (dependencies) {\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(dependencies), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var dependency = _step.value;\n\n                        if (!keepConnection) {\n                            dependency.disconnect();\n                        }\n                        self.removeDependency(dependency);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n            }\n        };\n\n        this.addDependency = function (task, model, allowPartial) {\n            var dependency = new GanttDependency(this, task, model);\n            var fromTaskId = dependency.getFromTaskId();\n            var fromTask = dependency.getFromTask();\n            var toTaskId = dependency.getToTaskId();\n            var toTask = dependency.getToTask();\n            var manager = dependency.manager;\n            if (!(fromTaskId in this.dependenciesFrom)) {\n                this.dependenciesFrom[fromTaskId] = [];\n            }\n            if (!(toTaskId in this.dependenciesTo)) {\n                this.dependenciesTo[toTaskId] = [];\n            }\n            if (!allowPartial && (!toTask || !fromTask)) {\n                this.removeDependency(dependency, true);\n                manager.api.dependencies.raise.remove(dependency);\n                return null;\n            } else {\n                if (fromTaskId) {\n                    this.dependenciesFrom[fromTaskId].push(dependency);\n                }\n                if (toTaskId) {\n                    this.dependenciesTo[toTaskId].push(dependency);\n                }\n            }\n            return dependency;\n        };\n\n        this.removeDependency = function (dependency, keepConnection) {\n            var fromDependencies = this.dependenciesFrom[dependency.getFromTaskId()];\n            var fromRemove = [];\n            var i = void 0;\n            if (fromDependencies) {\n                for (i = 0; i < fromDependencies.length; i++) {\n                    if (dependency === fromDependencies[i]) {\n                        fromRemove.push(dependency);\n                    }\n                }\n            }\n            var toDependencies = this.dependenciesTo[dependency.getToTaskId()];\n            var toRemove = [];\n            if (toDependencies) {\n                for (i = 0; i < toDependencies.length; i++) {\n                    if (dependency === toDependencies[i]) {\n                        toRemove.push(dependency);\n                    }\n                }\n            }\n            for (i = 0; i < fromRemove.length; i++) {\n                if (!keepConnection) {\n                    fromRemove[i].disconnect();\n                }\n                fromDependencies.splice(fromDependencies.indexOf(dependency), 1);\n            }\n            for (i = 0; i < toRemove.length; i++) {\n                if (!keepConnection) {\n                    toRemove[i].disconnect();\n                }\n                toDependencies.splice(toDependencies.indexOf(dependency), 1);\n            }\n            if (this.dependenciesFrom[dependency.getFromTaskId()] && this.dependenciesFrom[dependency.getFromTaskId()].length === 0) {\n                delete this.dependenciesFrom[dependency.getFromTaskId()];\n            }\n            if (this.dependenciesTo[dependency.getToTaskId()] && this.dependenciesTo[dependency.getToTaskId()].length === 0) {\n                delete this.dependenciesTo[dependency.getToTaskId()];\n            }\n        };\n        this.getTaskDependencies = function (task) {\n            var dependencies = [];\n            var fromDependencies = self.dependenciesFrom[task.model.id];\n            if (fromDependencies) {\n                dependencies = dependencies.concat(fromDependencies);\n            }\n            var toDependencies = self.dependenciesTo[task.model.id];\n            if (toDependencies) {\n                dependencies = dependencies.concat(toDependencies);\n            }\n            return dependencies;\n        };\n        this.setDraggingConnection = function (connection) {\n            if (connection) {\n                self.draggingConnection = connection;\n                for (var taskId in self.tasks) {\n                    var task = self.tasks[taskId];\n                    task.dependencies.mouseHandler.release();\n                }\n            } else {\n                self.draggingConnection = undefined;\n                for (var _taskId in self.tasks) {\n                    var _task = self.tasks[_taskId];\n                    _task.dependencies.mouseHandler.install();\n                }\n            }\n        };\n        var isTaskEnabled = function isTaskEnabled(task) {\n            var rowDependencies = task.row.model.dependencies;\n            if (rowDependencies !== undefined) {\n                return rowDependencies !== false;\n            }\n            var taskDependencies = task.model.dependencies;\n            if (taskDependencies !== undefined) {\n                return taskDependencies !== false;\n            }\n            return true;\n        };\n        var addTaskEndpoints = function addTaskEndpoints(task) {\n            if (!task.dependencies) {\n                task.dependencies = {};\n            }\n            task.dependencies.endpoints = [];\n            if (self.pluginScope.endpoints && task.$element) {\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = (0, _getIterator3.default)(self.pluginScope.endpoints), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var endpoint = _step2.value;\n\n                        var endpointObject = self.plumb.addEndpoint(task.$element, endpoint);\n                        endpointObject.setVisible(false, true, true);\n                        endpointObject.$task = task;\n                        task.dependencies.endpoints.push(endpointObject);\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n            }\n        };\n        var removeTaskEndpoint = function removeTaskEndpoint(task) {\n            if (task.dependencies.endpoints) {\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = (0, _getIterator3.default)(task.dependencies.endpoints), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var endpointObject = _step3.value;\n\n                        self.plumb.deleteEndpoint(endpointObject);\n                        endpointObject.$task = undefined;\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n\n                task.dependencies.endpoints = undefined;\n            }\n        };\n        var addTaskMouseHandler = function addTaskMouseHandler(task) {\n            if (!task.dependencies) {\n                task.dependencies = {};\n            }\n            if (!self.pluginScope.readOnly) {\n                task.dependencies.mouseHandler = new GanttDependencyTaskMouseHandler(self, task);\n                task.dependencies.mouseHandler.install();\n            }\n        };\n        var removeTaskMouseHandler = function removeTaskMouseHandler(task) {\n            if (task.dependencies.mouseHandler) {\n                task.dependencies.mouseHandler.release();\n                task.dependencies.mouseHandler = undefined;\n            }\n        };\n\n        this.setTasks = function (tasks) {\n            for (var taskId in self.tasks) {\n                var task = self.tasks[taskId];\n                removeTaskMouseHandler(task);\n                removeTaskEndpoint(task);\n            }\n            var newTasks = {};\n            var tasksList = [];\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(tasks), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var _task2 = _step4.value;\n\n                    if (isTaskEnabled(_task2)) {\n                        newTasks[_task2.model.id] = _task2;\n                        tasksList.push(_task2);\n                        addTaskEndpoints(_task2);\n                        addTaskMouseHandler(_task2);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            self.tasks = newTasks;\n            self.tasksList = tasks;\n        };\n        var disconnectTaskDependencies = function disconnectTaskDependencies(task) {\n            var dependencies = self.getTaskDependencies(task);\n            if (dependencies) {\n                var _iteratorNormalCompletion5 = true;\n                var _didIteratorError5 = false;\n                var _iteratorError5 = undefined;\n\n                try {\n                    for (var _iterator5 = (0, _getIterator3.default)(dependencies), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                        var dependency = _step5.value;\n\n                        dependency.disconnect();\n                    }\n                } catch (err) {\n                    _didIteratorError5 = true;\n                    _iteratorError5 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                            _iterator5.return();\n                        }\n                    } finally {\n                        if (_didIteratorError5) {\n                            throw _iteratorError5;\n                        }\n                    }\n                }\n            }\n            return dependencies;\n        };\n        var connectTaskDependencies = function connectTaskDependencies(task) {\n            var dependencies = self.getTaskDependencies(task);\n            if (dependencies) {\n                var _iteratorNormalCompletion6 = true;\n                var _didIteratorError6 = false;\n                var _iteratorError6 = undefined;\n\n                try {\n                    for (var _iterator6 = (0, _getIterator3.default)(dependencies), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                        var dependency = _step6.value;\n\n                        dependency.connect();\n                    }\n                } catch (err) {\n                    _didIteratorError6 = true;\n                    _iteratorError6 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                            _iterator6.return();\n                        }\n                    } finally {\n                        if (_didIteratorError6) {\n                            throw _iteratorError6;\n                        }\n                    }\n                }\n            }\n            return dependencies;\n        };\n\n        this.setTask = function (task) {\n            self.plumb.setSuspendDrawing(true);\n            try {\n                var oldTask = self.tasks[task.model.id];\n                if (oldTask !== undefined) {\n                    disconnectTaskDependencies(oldTask);\n                    removeTaskMouseHandler(oldTask);\n                    removeTaskEndpoint(oldTask);\n                }\n                if (isTaskEnabled(task)) {\n                    self.tasks[task.model.id] = task;\n                    addTaskEndpoints(task);\n                    addTaskMouseHandler(task);\n                    connectTaskDependencies(task);\n                }\n            } finally {\n                self.plumb.setSuspendDrawing(false, true);\n            }\n        };\n\n        this.getTask = function (taskId) {\n            return self.tasks[taskId];\n        };\n        var getSourceEndpoints = function getSourceEndpoints(task) {\n            return task.dependencies.endpoints.filter(function (endpoint) {\n                return endpoint.isSource;\n            });\n        };\n        var getTargetEndpoints = function getTargetEndpoints(task) {\n            return task.dependencies.endpoints.filter(function (endpoint) {\n                return endpoint.isTarget;\n            });\n        };\n\n        this.connect = function (fromTask, toTask, model) {\n            var sourceEndpoints = getSourceEndpoints(fromTask);\n            var targetEndpoints = getTargetEndpoints(toTask);\n            if (sourceEndpoints && targetEndpoints) {\n                var sourceEndpoint = void 0;\n                var targetEndpoint = void 0;\n                if (model.connectParameters && model.connectParameters.sourceEndpointIndex) {\n                    sourceEndpoint = sourceEndpoints[model.connectParameters.sourceEndpointIndex];\n                } else {\n                    sourceEndpoint = sourceEndpoints[0];\n                }\n                if (model.connectParameters && model.connectParameters.targetEndpointIndex) {\n                    targetEndpoint = targetEndpoints[model.connectParameters.targetEndpointIndex];\n                } else {\n                    targetEndpoint = targetEndpoints[0];\n                }\n                var connection = self.plumb.connect({\n                    source: sourceEndpoint,\n                    target: targetEndpoint,\n                    parameters: {\n                        from: fromTask,\n                        to: toTask\n                    }\n                }, model.connectParameters);\n                connection.canvas.setAttribute('data-fromId', fromTask.model.id);\n                connection.canvas.setAttribute('data-toId', toTask.model.id);\n                return connection;\n            }\n        };\n\n        this.getDependencies = function () {\n            var allDependencies = [];\n            for (var fromId in this.dependenciesFrom) {\n                var dependencies = this.dependenciesFrom[fromId];\n                var _iteratorNormalCompletion7 = true;\n                var _didIteratorError7 = false;\n                var _iteratorError7 = undefined;\n\n                try {\n                    for (var _iterator7 = (0, _getIterator3.default)(dependencies), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                        var dependency = _step7.value;\n\n                        if (!(dependency in allDependencies)) {\n                            allDependencies.push(dependency);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError7 = true;\n                    _iteratorError7 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                            _iterator7.return();\n                        }\n                    } finally {\n                        if (_didIteratorError7) {\n                            throw _iteratorError7;\n                        }\n                    }\n                }\n            }\n            return allDependencies;\n        };\n\n        this.refresh = function (tasks) {\n            self.plumb.setSuspendDrawing(true);\n            try {\n                var tasksDependencies = void 0;\n                var i = void 0;\n                if (tasks && !Array.isArray(tasks)) {\n                    tasks = [tasks];\n                }\n                if (tasks === undefined) {\n                    tasks = this.tasks;\n                    tasksDependencies = this.getDependencies();\n                } else {\n                    tasksDependencies = [];\n                    var _iteratorNormalCompletion8 = true;\n                    var _didIteratorError8 = false;\n                    var _iteratorError8 = undefined;\n\n                    try {\n                        for (var _iterator8 = (0, _getIterator3.default)(tasks), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                            var task = _step8.value;\n\n                            var taskDependencies = self.getTaskDependencies(task);\n                            var _iteratorNormalCompletion9 = true;\n                            var _didIteratorError9 = false;\n                            var _iteratorError9 = undefined;\n\n                            try {\n                                for (var _iterator9 = (0, _getIterator3.default)(taskDependencies), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                                    var taskDependency = _step9.value;\n\n                                    if (!(taskDependency in tasksDependencies)) {\n                                        tasksDependencies.push(taskDependency);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError9 = true;\n                                _iteratorError9 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion9 && _iterator9.return) {\n                                        _iterator9.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError9) {\n                                        throw _iteratorError9;\n                                    }\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError8 = true;\n                        _iteratorError8 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion8 && _iterator8.return) {\n                                _iterator8.return();\n                            }\n                        } finally {\n                            if (_didIteratorError8) {\n                                throw _iteratorError8;\n                            }\n                        }\n                    }\n                }\n                for (i = 0; i < tasksDependencies.length; i++) {\n                    self.removeDependency(tasksDependencies[i]);\n                }\n                for (var taskId in tasks) {\n                    var _task3 = tasks[taskId];\n                    self.addDependenciesFromTask(_task3);\n                }\n            } finally {\n                self.plumb.setSuspendDrawing(false, true);\n            }\n        };\n        this.api.registerMethod('dependencies', 'refresh', this.refresh, this);\n    };\n    return DependenciesManager;\n}];\n\nvar _jsplumb = __webpack_require__(258);\n\nvar _jsplumb2 = _interopRequireDefault(_jsplumb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"ganttUtils\", \"ganttDom\", function (ganttUtils, ganttDom) {\n    'ngInject';\n\n    var Dependency = function Dependency(manager, task, model) {\n        var self = this;\n        this.manager = manager;\n        this.task = task;\n        this.model = model;\n        this.connection = undefined;\n        this.fallbackEndpoints = [];\n\n        this.isConnected = function () {\n            if (this.connection) {\n                return true;\n            }\n            return false;\n        };\n\n        this.disconnect = function () {\n            if (this.connection) {\n                if (this.connection.endpoints) {\n                    if (this.manager.plumb.detach) {\n                        this.manager.plumb.detach(this.connection);\n                    } else {\n                        this.manager.plumb.deleteConnection(this.connection);\n                    }\n                }\n                this.connection.$dependency = undefined;\n                this.connection = undefined;\n            }\n            this.deleteFallbackEndpoints();\n        };\n        this.deleteFallbackEndpoints = function () {\n            if (this.fallbackEndpoints) {\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(this.fallbackEndpoints), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var fallbackEndpoints = _step.value;\n\n                        self.manager.plumb.deleteEndpoint(fallbackEndpoints);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                this.fallbackEndpoints = [];\n            }\n        };\n        this.getFromTaskId = function () {\n            if (this.model.from !== undefined) {\n                return this.model.from;\n            }\n            return this.task.model.id;\n        };\n        this.getToTaskId = function () {\n            if (this.model.to !== undefined) {\n                return this.model.to;\n            }\n            return this.task.model.id;\n        };\n        this.getFromTask = function () {\n            if (this.model.from !== undefined) {\n                return this.manager.getTask(this.model.from);\n            }\n            return this.task;\n        };\n        this.getToTask = function () {\n            if (this.model.to !== undefined) {\n                return this.manager.getTask(this.model.to);\n            }\n            return this.task;\n        };\n        this.removeFromTaskModel = function () {\n            var modelIndex = ganttUtils.angularIndexOf(this.task.model.dependencies, this.model);\n            if (modelIndex >= 0) {\n                this.task.model.dependencies.splice(modelIndex, 1);\n            }\n            return modelIndex;\n        };\n        var isTaskVisible = function isTaskVisible(task) {\n            if (task === undefined || task.$element === undefined) {\n                return false;\n            }\n            var element = task.$element[0];\n            return ganttDom.isElementVisible(element);\n        };\n\n        this.connect = function () {\n            var fromTask = this.getFromTask();\n            var toTask = this.getToTask();\n            if (!isTaskVisible(fromTask)) {\n                fromTask = undefined;\n            }\n            if (!isTaskVisible(toTask)) {\n                toTask = undefined;\n            }\n            if (fromTask && toTask) {\n                var connection = this.manager.connect(fromTask, toTask, this.model);\n                if (connection) {\n                    connection.$dependency = this;\n                    this.connection = connection;\n                    return true;\n                }\n            }\n            this.deleteFallbackEndpoints();\n            if (fromTask !== undefined) {\n                var toFallbackEndpoint = this.manager.pluginScope.fallbackEndpoints[1];\n                this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(fromTask.$element, toFallbackEndpoint));\n            }\n            if (toTask !== undefined) {\n                var fromFallbackEndpoint = this.manager.pluginScope.fallbackEndpoints[0];\n                this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(toTask.$element, fromFallbackEndpoint));\n            }\n            return false;\n        };\n    };\n    return Dependency;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _dependencies = __webpack_require__(328);\n\nvar _dependencies2 = _interopRequireDefault(_dependencies);\n\nvar _dependenciesEvents = __webpack_require__(330);\n\nvar _dependenciesEvents2 = _interopRequireDefault(_dependenciesEvents);\n\nvar _dependenciesManager = __webpack_require__(331);\n\nvar _dependenciesManager2 = _interopRequireDefault(_dependenciesManager);\n\nvar _taskMouseHandler = __webpack_require__(334);\n\nvar _taskMouseHandler2 = _interopRequireDefault(_taskMouseHandler);\n\nvar _dependenciesChecker = __webpack_require__(329);\n\nvar _dependenciesChecker2 = _interopRequireDefault(_dependenciesChecker);\n\nvar _dependency = __webpack_require__(332);\n\nvar _dependency2 = _interopRequireDefault(_dependency);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.dependencies';\n__webpack_require__(247);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttDependencies', _dependencies2.default).factory('GanttDependenciesEvents', _dependenciesEvents2.default).factory('GanttDependencyTaskMouseHandler', _taskMouseHandler2.default).factory('GanttDependenciesManager', _dependenciesManager2.default).factory('GanttDependenciesChecker', _dependenciesChecker2.default).factory('GanttDependency', _dependency2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"$timeout\", function ($timeout) {\n    'ngInject';\n\n    var TaskMouseHandler = function TaskMouseHandler(manager, task) {\n        var self = this;\n        this.manager = manager;\n        this.task = task;\n        this.installed = false;\n        this.elementHandlers = [];\n        this.display = true;\n        this.hideEndpointsPromise = undefined;\n\n        var ElementHandler = function ElementHandler(element) {\n            this.element = element;\n            this.mouseExitHandler = function () {\n                $timeout.cancel(self.hideEndpointsPromise);\n                self.hideEndpointsPromise = $timeout(self.hideEndpoints, 1000, false);\n            };\n            this.mouseEnterHandler = function () {\n                $timeout.cancel(self.hideEndpointsPromise);\n                self.displayEndpoints();\n            };\n            this.install = function () {\n                this.element.bind('mouseenter', this.mouseEnterHandler);\n                this.element.bind('mouseleave', this.mouseExitHandler);\n            };\n            this.release = function () {\n                this.element.unbind('mouseenter', this.mouseEnterHandler);\n                this.element.unbind('mouseleave', this.mouseExitHandler);\n                $timeout.cancel(self.hideEndpointsPromise);\n            };\n        };\n\n        this.install = function () {\n            if (!self.installed) {\n                self.hideEndpoints();\n                if (self.task.getContentElement()) {\n                    self.elementHandlers.push(new ElementHandler(self.task.getContentElement()));\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = (0, _getIterator3.default)(self.task.dependencies.endpoints), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var endpoint = _step.value;\n\n                            self.elementHandlers.push(new ElementHandler(_angular2.default.element(endpoint.canvas)));\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(self.elementHandlers), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var elementHandler = _step2.value;\n\n                            elementHandler.install();\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    self.installed = true;\n                }\n            }\n        };\n\n        this.release = function () {\n            if (self.installed) {\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = (0, _getIterator3.default)(self.elementHandlers), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var elementHandler = _step3.value;\n\n                        elementHandler.release();\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n\n                self.elementHandlers = [];\n                self.displayEndpoints();\n                self.installed = false;\n            }\n        };\n\n        this.displayEndpoints = function () {\n            self.display = true;\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = (0, _getIterator3.default)(self.task.dependencies.endpoints), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var endpoint = _step4.value;\n\n                    endpoint.setVisible(true, true, true);\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n        };\n\n        this.hideEndpoints = function () {\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = (0, _getIterator3.default)(self.task.dependencies.endpoints), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var endpoint = _step5.value;\n\n                    endpoint.setVisible(false, true, true);\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            self.display = false;\n        };\n    };\n    return TaskMouseHandler;\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$document\", \"ganttMouseOffset\", \"ganttUtils\", function ($document, ganttMouseOffset, ganttUtils) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            moveThreshold: '=?',\n            taskFactory: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.drawtask) === 'object') {\n                for (var option in scope.options.drawtask) {\n                    scope[option] = scope.options.drawtask[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.moveThreshold === undefined) {\n                scope.moveThreshold = 0;\n            }\n            if (scope.taskFactory === undefined) {\n                scope.taskFactory = function () {\n                    return {};\n                };\n            }\n            api.registerEvent('tasks', 'draw');\n            api.registerEvent('tasks', 'drawBegin');\n            api.registerEvent('tasks', 'drawEnd');\n            var newTaskModel = function newTaskModel(row) {\n                if (row.model.drawTask && typeof row.model.drawTask.taskFactory === 'function') {\n                    return row.model.drawTask.taskFactory();\n                } else {\n                    return scope.taskFactory();\n                }\n            };\n            api.directives.on.new(scope, function (directiveName, directiveScope, element) {\n                if (directiveName === 'ganttRow') {\n                    var addNewTask = function addNewTask(x) {\n                        var startDate = api.core.getDateByPosition(x, true);\n                        var endDate = (0, _moment2.default)(startDate);\n                        var taskModel = newTaskModel(directiveScope.row);\n                        taskModel.from = startDate;\n                        taskModel.to = endDate;\n                        var task = directiveScope.row.addTask(taskModel);\n                        task.isResizing = true;\n                        task.updatePosAndSize();\n                        directiveScope.row.updateVisibleTasks();\n                        directiveScope.row.$scope.$digest();\n                        return task;\n                    };\n                    var addEventListeners = function addEventListeners(task) {\n                        var raiseDrawEvent = function raiseDrawEvent() {\n                            directiveScope.row.rowsManager.gantt.api.tasks.raise.draw(task);\n                        };\n                        directiveScope.row.rowsManager.gantt.api.tasks.raise.drawBegin(task);\n                        $document.on('mousemove', raiseDrawEvent);\n                        $document.one('mouseup', function () {\n                            directiveScope.row.rowsManager.gantt.api.tasks.raise.drawEnd(task);\n                            $document.off('mousemove', raiseDrawEvent);\n                        });\n                    };\n                    var deferDrawing = function deferDrawing(startX) {\n                        var moveTrigger = function moveTrigger(evt) {\n                            var currentX = ganttMouseOffset.getOffset(evt).x;\n                            if (Math.abs(startX - currentX) >= scope.moveThreshold) {\n                                element.off('mousemove', moveTrigger);\n                                var task = addNewTask(startX);\n                                addEventListeners(task);\n                            }\n                        };\n                        element.on('mousemove', moveTrigger);\n                        $document.one('mouseup', function () {\n                            element.off('mousemove', moveTrigger);\n                        });\n                    };\n                    var drawHandler = function drawHandler(evt) {\n                        var evtTarget = evt.target ? evt.target : evt.srcElement;\n                        var rowDrawTask = directiveScope.row.model.drawTask;\n                        if (typeof rowDrawTask === 'boolean' || typeof rowDrawTask === 'function') {\n                            rowDrawTask = { enabled: rowDrawTask };\n                        }\n                        var enabledValue = ganttUtils.firstProperty([rowDrawTask], 'enabled', scope.enabled);\n                        var enabled = typeof enabledValue === 'function' ? enabledValue(evt, directiveScope.row) : enabledValue;\n                        if (enabled && evtTarget.className.indexOf('gantt-row') > -1) {\n                            var x = ganttMouseOffset.getOffset(evt).x;\n                            if (scope.moveThreshold === 0) {\n                                var task = addNewTask(x);\n                                addEventListeners(task);\n                            } else {\n                                deferDrawing(x);\n                            }\n                        }\n                    };\n                    element.on('mousedown', drawHandler);\n                    directiveScope.drawTaskHandler = drawHandler;\n                }\n            });\n            api.directives.on.destroy(scope, function (directiveName, directiveScope, element) {\n                if (directiveName === 'ganttRow') {\n                    element.off('mousedown', directiveScope.drawTaskHandler);\n                    delete directiveScope.drawTaskHandler;\n                }\n            });\n        }\n    };\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 336 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _drawTask = __webpack_require__(335);\n\nvar _drawTask2 = _interopRequireDefault(_drawTask);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.drawtask';\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttDrawTask', _drawTask2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 337 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$scope\", \"GanttTaskGroup\", \"ganttUtils\", function ($scope, GanttTaskGroup, ganttUtils) {\n    'ngInject';\n\n    var updateTaskGroup = function updateTaskGroup() {\n        var rowGroups = $scope.row.model.groups;\n        if (typeof rowGroups === 'boolean') {\n            rowGroups = { enabled: rowGroups };\n        }\n        var enabledValue = ganttUtils.firstProperty([rowGroups], 'enabled', $scope.pluginScope.enabled);\n        if (enabledValue) {\n            $scope.display = ganttUtils.firstProperty([rowGroups], 'display', $scope.pluginScope.display);\n            $scope.taskGroup = new GanttTaskGroup($scope.row, $scope.pluginScope);\n            $scope.row.setFromTo();\n            $scope.row.setFromToByValues($scope.taskGroup.from, $scope.taskGroup.to);\n        } else {\n            $scope.taskGroup = undefined;\n            $scope.display = undefined;\n        }\n    };\n    $scope.gantt.api.tasks.on.viewChange($scope, function (task) {\n        if ($scope.taskGroup !== undefined) {\n            if ($scope.taskGroup.tasks.indexOf(task) > -1) {\n                updateTaskGroup();\n                if (!$scope.$$phase && !$scope.$root.$$phase) {\n                    $scope.$digest();\n                }\n            } else {\n                var descendants = $scope.pluginScope.hierarchy.descendants($scope.row);\n                if (descendants.indexOf(task.row) > -1) {\n                    updateTaskGroup();\n                    if (!$scope.$$phase && !$scope.$root.$$phase) {\n                        $scope.$digest();\n                    }\n                }\n            }\n        }\n    });\n    var removeWatch = $scope.pluginScope.$watch('display', updateTaskGroup);\n    $scope.$watchCollection('gantt.rowsManager.filteredRows', updateTaskGroup);\n    $scope.gantt.api.columns.on.refresh($scope, updateTaskGroup);\n    $scope.$on('$destroy', removeWatch);\n}];\n\n/***/ }),\n/* 338 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"GanttHierarchy\", \"$compile\", \"$document\", function (ganttUtils, GanttHierarchy, $compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            display: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.groups) === 'object') {\n                for (var option in scope.options.groups) {\n                    scope[option] = scope.options.groups[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.display === undefined) {\n                scope.display = 'group';\n            }\n            scope.hierarchy = new GanttHierarchy();\n            function refresh() {\n                scope.hierarchy.refresh(ganttCtrl.gantt.rowsManager.filteredRows);\n            }\n            ganttCtrl.gantt.api.registerMethod('groups', 'refresh', refresh, this);\n            ganttCtrl.gantt.$scope.$watchCollection('gantt.rowsManager.filteredRows', function () {\n                refresh();\n            });\n            api.directives.on.new(scope, function (directiveName, rowScope, rowElement) {\n                if (directiveName === 'ganttRow') {\n                    var taskGroupScope = rowScope.$new();\n                    taskGroupScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    var taskGroupElement = $document[0].createElement('gantt-task-group');\n                    if (attrs.templateUrl !== undefined) {\n                        _angular2.default.element(taskGroupElement).attr('data-template-url', attrs.templateUrl);\n                    }\n                    if (attrs.template !== undefined) {\n                        _angular2.default.element(taskGroupElement).attr('data-template', attrs.template);\n                    }\n                    _angular2.default.element(ifElement).append(taskGroupElement);\n                    rowElement.append($compile(ifElement)(taskGroupScope));\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 339 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _groups = __webpack_require__(338);\n\nvar _groups2 = _interopRequireDefault(_groups);\n\nvar _taskGroup = __webpack_require__(340);\n\nvar _taskGroup2 = _interopRequireDefault(_taskGroup);\n\nvar _taskGroup3 = __webpack_require__(341);\n\nvar _taskGroup4 = _interopRequireDefault(_taskGroup3);\n\nvar _taskOverview = __webpack_require__(342);\n\nvar _taskOverview2 = _interopRequireDefault(_taskOverview);\n\nvar _group = __webpack_require__(337);\n\nvar _group2 = _interopRequireDefault(_group);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.groups';\n__webpack_require__(248);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttGroups', _groups2.default).directive('ganttTaskGroup', _taskGroup2.default).directive('ganttTaskOverview', _taskOverview2.default).factory('GanttTaskGroup', _taskGroup4.default).controller('GanttGroupController', _group2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 340 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTaskGroup', 'plugins/groups/taskGroup.tmpl.html');\n    return builder.build();\n}];\n\n__webpack_require__(383);\n\n/***/ }),\n/* 341 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"ganttUtils\", \"GanttTask\", function (ganttUtils, GanttTask) {\n    'ngInject';\n\n    var TaskGroup = function TaskGroup(row, pluginScope) {\n        var self = this;\n        self.row = row;\n        self.pluginScope = pluginScope;\n        self.descendants = self.pluginScope.hierarchy.descendants(self.row);\n        self.tasks = [];\n        self.overviewTasks = [];\n        self.promotedTasks = [];\n        self.showGrouping = false;\n        var groupRowGroups = self.row.model.groups;\n        if (typeof groupRowGroups === 'boolean') {\n            groupRowGroups = { enabled: groupRowGroups };\n        }\n        var getTaskDisplay = function getTaskDisplay(task) {\n            var taskGroups = task.model.groups;\n            if (typeof taskGroups === 'boolean') {\n                taskGroups = { enabled: taskGroups };\n            }\n            var rowGroups = task.row.model.groups;\n            if (typeof rowGroups === 'boolean') {\n                rowGroups = { enabled: rowGroups };\n            }\n            var enabledValue = ganttUtils.firstProperty([taskGroups, rowGroups, groupRowGroups], 'enabled', self.pluginScope.enabled);\n            if (enabledValue) {\n                var display = ganttUtils.firstProperty([taskGroups, rowGroups, groupRowGroups], 'display', self.pluginScope.display);\n                return display;\n            }\n        };\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = (0, _getIterator3.default)(self.descendants), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var descendant = _step.value;\n\n                var tasks = descendant.tasks;\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = (0, _getIterator3.default)(tasks), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var _task2 = _step4.value;\n\n                        var taskDisplay = getTaskDisplay(_task2);\n                        if (taskDisplay !== undefined) {\n                            self.tasks.push(_task2);\n                            var clone = new GanttTask(self.row, _task2.model);\n                            if (taskDisplay === 'overview') {\n                                self.overviewTasks.push(clone);\n                            } else if (taskDisplay === 'promote') {\n                                self.promotedTasks.push(clone);\n                            } else {\n                                self.showGrouping = true;\n                            }\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        self.from = undefined;\n        if (groupRowGroups) {\n            self.from = groupRowGroups.from;\n        }\n        if (self.from === undefined) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = (0, _getIterator3.default)(self.tasks), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var task = _step2.value;\n\n                    if (self.from === undefined || task.model.from < self.from) {\n                        self.from = task.model.from;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n        self.to = undefined;\n        if (groupRowGroups) {\n            self.to = groupRowGroups.to;\n        }\n        if (self.to === undefined) {\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = (0, _getIterator3.default)(self.tasks), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var _task = _step3.value;\n\n                    if (self.to === undefined || _task.model.to > self.to) {\n                        self.to = _task.model.to;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n        }\n        if (self.showGrouping) {\n            self.left = row.rowsManager.gantt.getPositionByDate(self.from);\n            self.width = row.rowsManager.gantt.getPositionByDate(self.to) - self.left;\n        }\n    };\n    return TaskGroup;\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 342 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTaskOverview', 'plugins/groups/taskOverview.tmpl.html');\n    builder.controller = function ($scope, $element) {\n        $scope.task.$element = $element;\n        $scope.task.$scope = $scope;\n        $scope.task.updatePosAndSize();\n    };\n    return builder.build();\n}];\n\n__webpack_require__(384);\n\n/***/ }),\n/* 343 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _labels = __webpack_require__(344);\n\nvar _labels2 = _interopRequireDefault(_labels);\n\nvar _sideContentLabels = __webpack_require__(347);\n\nvar _sideContentLabels2 = _interopRequireDefault(_sideContentLabels);\n\nvar _labelsHeader = __webpack_require__(346);\n\nvar _labelsHeader2 = _interopRequireDefault(_labelsHeader);\n\nvar _labelsBody = __webpack_require__(345);\n\nvar _labelsBody2 = _interopRequireDefault(_labelsBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.labels';\n__webpack_require__(249);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttLabels', _labels2.default).directive('ganttSideContentLabels', _sideContentLabels2.default).directive('ganttLabelsHeader', _labelsHeader2.default).directive('ganttLabelsBody', _labelsBody2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 344 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"$compile\", \"$document\", \"$log\", function (ganttUtils, $compile, $document, $log) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            header: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n            $log.warn('Angular Gantt Labels plugin is deprecated. Please use Table plugin instead.');\n\n            if (scope.options && (0, _typeof3.default)(scope.options.labels) === 'object') {\n                for (var option in scope.options.labels) {\n                    scope[option] = scope.options.labels[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.header === undefined) {\n                scope.header = 'Name';\n            }\n            api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\n                if (directiveName === 'ganttSideContent') {\n                    var labelsScope = sideContentScope.$new();\n                    labelsScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    _angular2.default.element(ifElement).addClass('side-element');\n                    var labelsElement = $document[0].createElement('gantt-side-content-labels');\n                    _angular2.default.element(ifElement).append(labelsElement);\n                    sideContentElement.append($compile(ifElement)(labelsScope));\n                }\n            });\n            function fitSideWidthToLabels() {\n                var labels = ganttCtrl.gantt.side.$element[0].getElementsByClassName('gantt-row-label');\n                var newSideWidth = 0;\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(labels), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var label = _step.value;\n\n                        var width = label.children[0].offsetWidth;\n                        newSideWidth = Math.max(newSideWidth, width);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (newSideWidth >= 0) {\n                    api.side.setWidth(newSideWidth);\n                }\n            }\n            api.registerMethod('labels', 'fitSideWidth', fitSideWidthToLabels, this);\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 345 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"ganttLayout\", function (GanttDirectiveBuilder, ganttLayout) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttLabelsBody', 'plugins/labels/labelsBody.tmpl.html');\n    builder.controller = function ($scope) {\n        var hScrollBarHeight = ganttLayout.getScrollBarHeight();\n        $scope.getLabelsCss = function () {\n            var css = {};\n            var maxHeight = $scope.maxHeight;\n            if (!maxHeight) {\n                maxHeight = $scope.gantt.getContainerHeight();\n            }\n            var bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0;\n            css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px';\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\n__webpack_require__(385);\n\n/***/ }),\n/* 346 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttLabelsHeader', 'plugins/labels/labelsHeader.tmpl.html');\n    return builder.build();\n}];\n\n__webpack_require__(386);\n\n/***/ }),\n/* 347 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSideContentLabels', 'plugins/labels/sideContentLabels.tmpl.html');\n    return builder.build();\n}];\n\n__webpack_require__(387);\n\n/***/ }),\n/* 348 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _movable = __webpack_require__(349);\n\nvar _movable2 = _interopRequireDefault(_movable);\n\nvar _movableOptions = __webpack_require__(350);\n\nvar _movableOptions2 = _interopRequireDefault(_movableOptions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.movable';\n__webpack_require__(250);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttMovable', _movable2.default).factory('ganttMovableOptions', _movableOptions2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 349 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttMouseButton\", \"ganttMouseOffset\", \"GanttSmartEvent\", \"ganttMovableOptions\", \"ganttUtils\", \"ganttDom\", \"$window\", \"$document\", \"$timeout\", function (ganttMouseButton, ganttMouseOffset, GanttSmartEvent, ganttMovableOptions, ganttUtils, ganttDom, $window, $document, $timeout) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            allowMoving: '=?',\n            allowResizing: '=?',\n            allowRowSwitching: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.movable) === 'object') {\n                for (var option in scope.options.movable) {\n                    scope[option] = scope.options.movable[option];\n                }\n            }\n            ganttMovableOptions.initialize(scope);\n            api.registerEvent('tasks', 'move');\n            api.registerEvent('tasks', 'moveBegin');\n            api.registerEvent('tasks', 'moveEnd');\n            api.registerEvent('tasks', 'resize');\n            api.registerEvent('tasks', 'resizeBegin');\n            api.registerEvent('tasks', 'resizeEnd');\n            api.registerEvent('tasks', 'change');\n            var _hasTouch = 'ontouchstart' in $window || $window.DocumentTouch && $document[0] instanceof $window.DocumentTouch;\n            var _pressEvents = 'touchstart mousedown';\n            var _moveEvents = 'touchmove mousemove';\n            var _releaseEvents = 'touchend mouseup';\n            var taskWithSmallWidth = 15;\n            var resizeAreaWidthBig = 5;\n            var resizeAreaWidthSmall = 3;\n            var scrollSpeed = 15;\n            var scrollTriggerDistance = 5;\n            var mouseStartOffsetX = void 0;\n            var moveStartX = void 0;\n\n            api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\n                if (directiveName === 'ganttTask') {\n                    var windowElement = _angular2.default.element($window);\n                    var ganttBodyElement = taskScope.row.rowsManager.gantt.body.$element;\n                    var ganttScrollElement = taskScope.row.rowsManager.gantt.scroll.$element;\n                    var taskHasBeenChanged = false;\n                    var taskHasBeenMovedFromAnotherRow = false;\n                    var scrollInterval = void 0;\n                    var foregroundElement = taskScope.task.getForegroundElement();\n\n                    var contentElement = taskScope.task.getContentElement();\n                    var onPressEvents = function onPressEvents(evt) {\n                        evt.preventDefault();\n                        if (_hasTouch) {\n                            evt = ganttMouseOffset.getTouch(evt);\n                        }\n                        var taskMovable = taskScope.task.model.movable;\n                        var rowMovable = taskScope.task.row.model.movable;\n                        if (typeof taskMovable === 'boolean' || typeof taskMovable === 'function') {\n                            taskMovable = { enabled: taskMovable };\n                        }\n                        if (typeof rowMovable === 'boolean' || typeof rowMovable === 'function') {\n                            rowMovable = { enabled: rowMovable };\n                        }\n                        var enabledValue = ganttUtils.firstProperty([taskMovable, rowMovable], 'enabled', scope.enabled);\n                        var enabled = typeof enabledValue === 'function' ? enabledValue(evt, taskScope.task) : enabledValue;\n                        if (enabled) {\n                            var taskOffsetX = ganttMouseOffset.getOffsetForElement(foregroundElement[0], evt).x;\n                            var mode = getMoveMode(taskOffsetX);\n                            if (mode !== '' && ganttMouseButton.getButton(evt) === 1) {\n                                var bodyOffsetX = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt).x;\n                                enableMoveMode(mode, bodyOffsetX);\n                            }\n                            taskScope.$digest();\n                        }\n                    };\n                    foregroundElement.on(_pressEvents, onPressEvents);\n                    contentElement.on(_pressEvents, onPressEvents);\n                    var onMousemove = function onMousemove(evt) {\n                        var taskMovable = taskScope.task.model.movable;\n                        var rowMovable = taskScope.task.row.model.movable;\n                        if (typeof taskMovable === 'boolean' || typeof taskMovable === 'function') {\n                            taskMovable = { enabled: taskMovable };\n                        }\n                        if (typeof rowMovable === 'boolean' || typeof rowMovable === 'function') {\n                            rowMovable = { enabled: rowMovable };\n                        }\n                        var enabledValue = ganttUtils.firstProperty([taskMovable, rowMovable], 'enabled', scope.enabled);\n                        var enabled = typeof enabledValue === 'function' ? enabledValue(evt, taskScope.task) : enabledValue;\n                        if (enabled && !taskScope.task.isMoving) {\n                            var taskOffsetX = ganttMouseOffset.getOffsetForElement(foregroundElement[0], evt).x;\n                            var mode = getMoveMode(taskOffsetX);\n                            if (mode !== '' && mode !== 'M') {\n                                foregroundElement.css('cursor', getCursor(mode));\n                                contentElement.css('cursor', getCursor(mode));\n                            } else {\n                                foregroundElement.css('cursor', '');\n                                contentElement.css('cursor', '');\n                            }\n                        }\n                    };\n                    foregroundElement.on('mousemove', onMousemove);\n                    contentElement.on('mousemove', onMousemove);\n                    var handleMove = function handleMove(evt) {\n                        if (taskScope.task.isMoving && !taskScope.destroyed) {\n                            clearScrollInterval();\n                            moveTask(evt);\n                            scrollScreen(evt);\n                        }\n                    };\n                    var moveTask = function moveTask(evt) {\n                        var oldTaskHasBeenChanged = taskHasBeenChanged;\n                        var mousePos = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt);\n                        var x = mousePos.x;\n                        taskScope.task.mouseOffsetX = x;\n                        var taskOutOfRange = taskScope.task.row.rowsManager.gantt.options.value('taskOutOfRange');\n                        var taskMovable = taskScope.task.model.movable;\n                        var rowMovable = taskScope.task.row.model.movable;\n                        if (typeof taskMovable === 'boolean' || typeof taskMovable === 'function') {\n                            taskMovable = { enabled: taskMovable };\n                        }\n                        if (typeof rowMovable === 'boolean' || typeof rowMovable === 'function') {\n                            rowMovable = { enabled: rowMovable };\n                        }\n                        if (taskScope.task.moveMode === 'M') {\n                            var allowRowSwitching = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowRowSwitching', scope.allowRowSwitching);\n                            if (allowRowSwitching) {\n                                var scrollRect = ganttScrollElement[0].getBoundingClientRect();\n                                var rowCenterLeft = scrollRect.left + scrollRect.width / 2;\n                                var ganttBody = _angular2.default.element($document[0].querySelectorAll('.gantt-body'));\n                                ganttBody.css('pointer-events', 'auto');\n                                var targetRowElement = ganttDom.findElementFromPoint(rowCenterLeft, evt.clientY, function (element) {\n                                    return _angular2.default.element(element).hasClass('gantt-row');\n                                });\n                                ganttBody.css('pointer-events', '');\n                                var rows = ganttCtrl.gantt.rowsManager.rows;\n                                var targetRow = void 0;\n\n                                for (var i = 0, l = rows.length; i < l; i++) {\n                                    if (targetRowElement === rows[i].$element[0]) {\n                                        targetRow = rows[i];\n                                        break;\n                                    }\n                                }\n                                var sourceRow = taskScope.task.row;\n                                if (targetRow !== undefined && sourceRow !== targetRow) {\n                                    if (typeof allowRowSwitching !== 'function' || allowRowSwitching(taskScope.task, targetRow)) {\n                                        targetRow.moveTaskToRow(taskScope.task, true);\n                                        taskHasBeenChanged = true;\n                                    }\n                                }\n                            }\n                            var allowMoving = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowMoving', scope.allowMoving);\n                            if (allowMoving) {\n                                x = x - mouseStartOffsetX;\n                                if (taskOutOfRange !== 'truncate') {\n                                    if (x < 0) {\n                                        x = 0;\n                                    } else if (x + taskScope.task.width >= taskScope.gantt.width) {\n                                        x = taskScope.gantt.width - taskScope.task.width;\n                                    }\n                                }\n                                taskScope.task.moveTo(x, true);\n                                taskScope.$digest();\n                                if (taskHasBeenChanged) {\n                                    taskScope.row.rowsManager.gantt.api.tasks.raise.move(taskScope.task);\n                                }\n                                taskHasBeenChanged = true;\n                            }\n                        } else if (taskScope.task.moveMode === 'E') {\n                            if (x <= taskScope.task.left) {\n                                x = taskScope.task.left;\n                                taskScope.task.moveMode = 'W';\n                                setGlobalCursor(getCursor(taskScope.task.moveMode));\n                            }\n                            if (taskOutOfRange !== 'truncate' && x >= taskScope.gantt.width) {\n                                x = taskScope.gantt.width;\n                            }\n                            taskScope.task.setTo(x, true);\n                            taskScope.$digest();\n                            if (taskHasBeenChanged) {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.resize(taskScope.task);\n                            }\n                            taskHasBeenChanged = true;\n                        } else {\n                            if (x > taskScope.task.left + taskScope.task.width) {\n                                x = taskScope.task.left + taskScope.task.width;\n                                taskScope.task.moveMode = 'E';\n                                setGlobalCursor(getCursor(taskScope.task.moveMode));\n                            }\n                            if (taskOutOfRange !== 'truncate' && x < 0) {\n                                x = 0;\n                            }\n                            taskScope.task.setFrom(x, true);\n                            taskScope.$digest();\n                            if (taskHasBeenChanged) {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.resize(taskScope.task);\n                            }\n                            taskHasBeenChanged = true;\n                        }\n                        if (!oldTaskHasBeenChanged && taskHasBeenChanged && !taskHasBeenMovedFromAnotherRow) {\n                            if (taskScope.task.moveMode === 'M') {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.moveBegin(taskScope.task);\n                            } else {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.resizeBegin(taskScope.task);\n                            }\n                        }\n                    };\n                    var scrollScreen = function scrollScreen(evt) {\n                        var mousePos = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt);\n                        var leftScreenBorder = ganttScrollElement[0].scrollLeft;\n                        var screenWidth = ganttScrollElement[0].offsetWidth;\n                        var scrollWidth = ganttScrollElement[0].scrollWidth;\n                        var rightScreenBorder = leftScreenBorder + screenWidth;\n                        var keepOnScrolling = false;\n                        if (mousePos.x < moveStartX) {\n                            if (leftScreenBorder > 0 && mousePos.x <= leftScreenBorder + scrollTriggerDistance) {\n                                mousePos.x -= scrollSpeed;\n                                keepOnScrolling = true;\n                                taskScope.row.rowsManager.gantt.api.scroll.left(scrollSpeed);\n                            }\n                        } else {\n                            if (rightScreenBorder < scrollWidth && mousePos.x >= rightScreenBorder - scrollTriggerDistance) {\n                                mousePos.x += scrollSpeed;\n                                keepOnScrolling = true;\n                                taskScope.row.rowsManager.gantt.api.scroll.right(scrollSpeed);\n                            }\n                        }\n                        if (keepOnScrolling) {\n                            scrollInterval = $timeout(function () {\n                                handleMove(evt);\n                            }, 100, true);\n                        }\n                    };\n                    var clearScrollInterval = function clearScrollInterval() {\n                        if (scrollInterval !== undefined) {\n                            $timeout.cancel(scrollInterval);\n                            scrollInterval = undefined;\n                        }\n                    };\n                    var getMoveMode = function getMoveMode(x) {\n                        var distance = 0;\n                        var taskMovable = taskScope.task.model.movable;\n                        var rowMovable = taskScope.task.row.model.movable;\n                        if (typeof taskMovable === 'boolean') {\n                            taskMovable = { enabled: taskMovable };\n                        }\n                        if (typeof rowMovable === 'boolean') {\n                            rowMovable = { enabled: rowMovable };\n                        }\n                        var allowResizing = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowResizing', scope.allowResizing);\n                        var allowRowSwitching = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowRowSwitching', scope.allowRowSwitching);\n                        var allowMoving = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowMoving', scope.allowMoving);\n\n                        if (allowResizing) {\n                            distance = foregroundElement[0].offsetWidth < taskWithSmallWidth ? resizeAreaWidthSmall : resizeAreaWidthBig;\n                        }\n                        if (allowResizing && x > foregroundElement[0].offsetWidth - distance) {\n                            return 'E';\n                        } else if (allowResizing && x < distance) {\n                            return 'W';\n                        } else if ((allowMoving || allowRowSwitching) && x >= distance && x <= foregroundElement[0].offsetWidth - distance) {\n                            return 'M';\n                        } else {\n                            return '';\n                        }\n                    };\n                    var getCursor = function getCursor(mode) {\n                        switch (mode) {\n                            case 'E':\n                                return 'e-resize';\n                            case 'W':\n                                return 'w-resize';\n                            case 'M':\n                                return 'move';\n                        }\n                    };\n                    var setGlobalCursor = function setGlobalCursor(cursor) {\n                        taskElement.css('cursor', cursor);\n                        _angular2.default.element($document[0].body).css({\n                            '-moz-user-select': cursor === '' ? '' : '-moz-none',\n                            '-webkit-user-select': cursor === '' ? '' : 'none',\n                            '-ms-user-select': cursor === '' ? '' : 'none',\n                            'user-select': cursor === '' ? '' : 'none',\n                            'cursor': cursor\n                        });\n                    };\n                    var enableMoveMode = function enableMoveMode(mode, x) {\n                        if (taskScope.task.originalModel === undefined) {\n                            taskScope.task.originalRow = taskScope.task.row;\n                            taskScope.task.originalModel = taskScope.task.model;\n                            taskScope.task.model = _angular2.default.copy(taskScope.task.originalModel);\n                        }\n\n                        if (!taskHasBeenMovedFromAnotherRow) {\n                            moveStartX = x;\n                            mouseStartOffsetX = x - taskScope.task.modelLeft;\n                        }\n\n                        taskHasBeenChanged = false;\n                        taskScope.task.moveMode = mode;\n                        taskScope.task.isMoving = true;\n                        taskScope.task.active = true;\n\n                        var taskElement = taskScope.task.$element;\n                        if (taskScope.task.moveMode === 'M') {\n                            taskElement.addClass('gantt-task-resizing');\n                        } else {\n                            taskElement.addClass('gantt-task-moving');\n                        }\n\n                        var taskMoveHandler = function taskMoveHandler(evt) {\n                            evt.stopImmediatePropagation();\n                            if (_hasTouch) {\n                                evt = ganttMouseOffset.getTouch(evt);\n                            }\n                            handleMove(evt);\n                        };\n                        var moveSmartEvent = new GanttSmartEvent(taskScope, windowElement, _moveEvents, taskMoveHandler);\n                        moveSmartEvent.bind();\n\n                        new GanttSmartEvent(taskScope, windowElement, _releaseEvents, function (evt) {\n                            if (_hasTouch) {\n                                evt = ganttMouseOffset.getTouch(evt);\n                            }\n                            moveSmartEvent.unbind();\n                            disableMoveMode();\n                            taskScope.$digest();\n                        }).bindOnce();\n                        setGlobalCursor(getCursor(mode));\n                    };\n                    var disableMoveMode = function disableMoveMode() {\n                        if (taskScope.task.originalModel !== undefined) {\n                            taskScope.task.originalModel.from = taskScope.task.model.from;\n                            taskScope.task.originalModel.to = taskScope.task.model.to;\n                            taskScope.task.originalModel.lct = taskScope.task.model.lct;\n                            taskScope.task.originalModel.est = taskScope.task.model.est;\n                            taskScope.task.model = taskScope.task.originalModel;\n                            if (taskScope.task.row.model.id !== taskScope.task.originalRow.model.id) {\n                                var targetRow = taskScope.task.row;\n                                targetRow.removeTask(taskScope.task.model.id, false, true);\n                                taskScope.task.row = taskScope.task.originalRow;\n                                targetRow.moveTaskToRow(taskScope.task, false);\n                            }\n                            delete taskScope.task.originalModel;\n                            delete taskScope.task.originalRow;\n                            taskScope.$apply();\n                        }\n                        taskHasBeenMovedFromAnotherRow = false;\n                        taskScope.task.isMoving = false;\n                        taskScope.task.active = false;\n\n                        var taskElement = taskScope.task.$element;\n                        taskElement.removeClass('gantt-task-moving');\n                        taskElement.removeClass('gantt-task-resizing');\n\n                        clearScrollInterval();\n\n                        setGlobalCursor('');\n\n                        if (taskHasBeenChanged === true) {\n                            if (taskScope.task.moveMode === 'M') {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.moveEnd(taskScope.task);\n                            } else {\n                                taskScope.row.rowsManager.gantt.api.tasks.raise.resizeEnd(taskScope.task);\n                            }\n                            taskHasBeenChanged = false;\n                            taskScope.task.row.sortTasks();\n                            taskScope.row.rowsManager.gantt.api.tasks.raise.change(taskScope.task);\n                        }\n                        taskScope.task.moveMode = undefined;\n                    };\n\n                    taskScope.$on('$destroy', function () {\n                        taskScope.destroyed = true;\n                        clearScrollInterval();\n                    });\n                    if (taskScope.task.isResizing) {\n                        taskHasBeenMovedFromAnotherRow = true;\n                        enableMoveMode('E', taskScope.task.mouseOffsetX);\n                        delete taskScope.task.isResizing;\n                    } else if (taskScope.task.isMoving) {\n                        taskHasBeenMovedFromAnotherRow = true;\n                        enableMoveMode('M', taskScope.task.mouseOffsetX);\n                    }\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 350 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        initialize: function initialize(options) {\n            options.enabled = options.enabled !== undefined ? options.enabled : true;\n            options.allowMoving = options.allowMoving !== undefined ? !!options.allowMoving : true;\n            options.allowResizing = options.allowResizing !== undefined ? !!options.allowResizing : true;\n            if (typeof options.allowRowSwitching !== 'function') {\n                options.allowRowSwitching = options.allowRowSwitching !== undefined ? !!options.allowRowSwitching : true;\n            }\n            return options;\n        }\n    };\n};\n\n/***/ }),\n/* 351 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _overlap = __webpack_require__(352);\n\nvar _overlap2 = _interopRequireDefault(_overlap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.overlap';\n__webpack_require__(251);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttOverlap', _overlap2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 352 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$timeout\", function ($timeout) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            global: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.overlap) === 'object') {\n                for (var option in scope.options.overlap) {\n                    scope[option] = scope.options.overlap[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.global === undefined) {\n                scope.global = false;\n            }\n            function getStartEnd(task) {\n                var start = void 0;\n                var end = void 0;\n                if (task.model.from.isBefore(task.model.to)) {\n                    start = task.model.from;\n                    end = task.model.to;\n                } else {\n                    start = task.model.to;\n                    end = task.model.from;\n                }\n                return [start, end];\n            }\n            function getRange(task) {\n                var startEnd = getStartEnd(task);\n                return moment().range(startEnd[0], startEnd[1]);\n            }\n            function handleTaskOverlap(overlapsList, task) {\n                if (!(task.model.id in overlapsList) && task.$element) {\n                    task.$element.addClass('gantt-task-overlaps');\n                    overlapsList[task.model.id] = task;\n                }\n            }\n            function handleTaskNonOverlaps(overlapsList, allTasks) {\n                for (var i = 0, l = allTasks.length; i < l; i++) {\n                    var task = allTasks[i];\n                    if (!(task.model.id in overlapsList) && task.$element) {\n                        task.$element.removeClass('gantt-task-overlaps');\n                    }\n                }\n            }\n            function handleOverlaps(tasks) {\n                var newOverlapsTasks = {};\n                if (tasks.length > 1) {\n                    var previousTask = tasks[0];\n                    var previousRange = getRange(previousTask);\n                    for (var i = 1, l = tasks.length; i < l; i++) {\n                        var task = tasks[i];\n                        var range = getRange(task);\n                        if (range.overlaps(previousRange)) {\n                            handleTaskOverlap(newOverlapsTasks, task);\n                            handleTaskOverlap(newOverlapsTasks, previousTask);\n                        }\n                        if (previousTask.left + previousTask.width < task.left + task.width) {\n                            previousTask = task;\n                            previousRange = range;\n                        }\n                    }\n                }\n                handleTaskNonOverlaps(newOverlapsTasks, tasks);\n            }\n            function sortOn(array, supplier) {\n                return array.sort(function (a, b) {\n                    if (supplier(a) < supplier(b)) {\n                        return -1;\n                    } else if (supplier(a) > supplier(b)) {\n                        return 1;\n                    }\n                    return 0;\n                });\n            }\n            function handleGlobalOverlaps(rows) {\n                var globalTasks = [];\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(rows), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var row = _step.value;\n\n                        globalTasks.push.apply(globalTasks, row.tasks);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                globalTasks = sortOn(globalTasks, function (task) {\n                    return task.model.from;\n                });\n                handleOverlaps(globalTasks);\n            }\n            if (scope.enabled) {\n                api.data.on.change(scope, function () {\n                    $timeout(function () {\n                        var rows = api.gantt.rowsManager.rows;\n                        if (scope.global) {\n                            handleGlobalOverlaps(rows);\n                        } else {\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                                for (var _iterator2 = (0, _getIterator3.default)(rows), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                    var row = _step2.value;\n\n                                    handleOverlaps(row.tasks);\n                                }\n                            } catch (err) {\n                                _didIteratorError2 = true;\n                                _iteratorError2 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                        _iterator2.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError2) {\n                                        throw _iteratorError2;\n                                    }\n                                }\n                            }\n                        }\n                    });\n                });\n                api.tasks.on.change(scope, function (task) {\n                    if (scope.global) {\n                        var rows = task.row.rowsManager.rows;\n                        handleGlobalOverlaps(rows);\n                    } else {\n                        handleOverlaps(task.row.tasks);\n                    }\n                });\n                api.tasks.on.rowChange(scope, function (task, oldRow) {\n                    if (scope.global) {\n                        var rows = task.row.rowsManager.rows;\n                        handleGlobalOverlaps(rows);\n                    } else {\n                        handleOverlaps(oldRow.tasks);\n                        handleOverlaps(task.row.tasks);\n                    }\n                });\n                api.tasks.on.add(scope, function (task) {\n                    $timeout(function () {\n                        if (scope.global) {\n                            var rows = task.row.rowsManager.rows;\n                            handleGlobalOverlaps(rows);\n                        } else {\n                            handleOverlaps(task.row.tasks);\n                        }\n                    });\n                });\n            }\n        }\n    };\n}];\n\nvar _momentRange = __webpack_require__(259);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar moment = (0, _momentRange.extendMoment)(__webpack_require__(0));\n\n/***/ }),\n/* 353 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _progress = __webpack_require__(354);\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _taskProgress = __webpack_require__(355);\n\nvar _taskProgress2 = _interopRequireDefault(_taskProgress);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.progress';\n__webpack_require__(252);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttProgress', _progress2.default).directive('ganttTaskProgress', _taskProgress2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 354 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$compile\", \"$document\", function ($compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.progress) === 'object') {\n                for (var option in scope.options.progress) {\n                    scope[option] = scope.options.progress[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\n                if (directiveName === 'ganttTaskBackground') {\n                    var progressScope = taskScope.$new();\n                    progressScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'task.model.progress !== undefined && pluginScope.enabled');\n                    var progressElement = $document[0].createElement('gantt-task-progress');\n                    if (attrs.templateUrl !== undefined) {\n                        _angular2.default.element(progressElement).attr('data-template-url', attrs.templateUrl);\n                    }\n                    if (attrs.template !== undefined) {\n                        _angular2.default.element(progressElement).attr('data-template', attrs.template);\n                    }\n                    _angular2.default.element(ifElement).append(progressElement);\n                    taskElement.append($compile(ifElement)(progressScope));\n                }\n            });\n            api.tasks.on.clean(scope, function (model) {\n                if (model.est !== undefined && !_moment2.default.isMoment(model.est)) {\n                    model.est = (0, _moment2.default)(model.est);\n                }\n                if (model.lct !== undefined && !_moment2.default.isMoment(model.lct)) {\n                    model.lct = (0, _moment2.default)(model.lct);\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 355 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$templateCache\", function ($templateCache) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        requires: '^ganttTask',\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'plugins/progress/taskProgress.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template !== undefined) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        replace: true,\n        scope: true,\n        controller: [\"$scope\", \"$element\", function controller($scope, $element) {\n            'ngInject';\n\n            $scope.getClasses = function () {\n                var classes = [];\n                if ((0, _typeof3.default)($scope.task.model.progress) === 'object') {\n                    classes = $scope.task.model.progress.classes;\n                }\n                return classes;\n            };\n            $scope.getCss = function () {\n                var css = {};\n                var progress = void 0;\n                if ($scope.task.model.progress !== undefined) {\n                    if ((0, _typeof3.default)($scope.task.model.progress) === 'object') {\n                        progress = $scope.task.model.progress;\n                    } else {\n                        progress = { percent: $scope.task.model.progress };\n                    }\n                }\n                if (progress) {\n                    if (progress.color) {\n                        css['background-color'] = progress.color;\n                    } else {\n                        css['background-color'] = '#6BC443';\n                    }\n                    css['width'] = progress.percent + '%';\n                }\n                return css;\n            };\n            $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskProgress', $scope, $element);\n            $scope.$on('$destroy', function () {\n                $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskProgress', $scope, $element);\n            });\n        }]\n    };\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(388);\n\n/***/ }),\n/* 356 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _resizeSensor = __webpack_require__(357);\n\nvar _resizeSensor2 = _interopRequireDefault(_resizeSensor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.resizeSensor';\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttResizeSensor', _resizeSensor2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 357 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = function () {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.resizeSensor) === 'object') {\n                for (var option in scope.options.resizeSensor) {\n                    scope[option] = scope.options.resizeSensor[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            function buildSensors() {\n                var ganttElement = ganttCtrl.gantt.$element[0];\n                var ganttSensor = new _ResizeSensor2.default(ganttElement, function () {\n                    var changed = false;\n                    if (Math.abs(ganttElement.clientWidth - ganttCtrl.gantt.$scope.ganttElementWidth) > 1) {\n                        ganttCtrl.gantt.$scope.ganttElementWidth = ganttElement.clientWidth;\n                        changed = true;\n                    }\n                    if (Math.abs(ganttElement.clientHeight - ganttCtrl.gantt.$scope.ganttElementHeight) > 1) {\n                        ganttCtrl.gantt.$scope.ganttElementHeight = ganttElement.clientHeight;\n                        changed = true;\n                    }\n                    if (changed) {\n                        ganttCtrl.gantt.$scope.$apply();\n                    }\n                });\n                var containerSensor = new _ResizeSensor2.default(ganttElement.parentElement, function () {\n                    var el = ganttElement.parentElement;\n                    var height = el.offsetHeight;\n                    var style = getComputedStyle(el);\n                    height = height - parseInt(style.marginTop, 10) - parseInt(style.marginBottom, 10);\n                    ganttCtrl.gantt.$scope.ganttContainerHeight = height;\n                    var width = el.offsetWidth;\n                    style = getComputedStyle(el);\n                    width = width - parseInt(style.marginLeft, 10) - parseInt(style.marginRight, 10);\n                    ganttCtrl.gantt.$scope.ganttContainerWidth = width;\n                    ganttCtrl.gantt.$scope.$apply();\n                });\n                return [ganttSensor, containerSensor];\n            }\n            var rendered = false;\n            var sensors = [];\n            function detach(sensors) {\n                for (var i = 0; i < sensors; i++) {\n                    sensors[i].detach();\n                }\n            }\n            api.core.on.rendered(scope, function () {\n                rendered = true;\n                detach(sensors);\n                if (scope.enabled) {\n                    _ElementQueries2.default.update();\n                    sensors = buildSensors();\n                }\n            });\n            scope.$watch('enabled', function (newValue) {\n                if (rendered) {\n                    if (newValue) {\n                        _ElementQueries2.default.update();\n                        sensors = buildSensors();\n                    } else if (!newValue) {\n                        detach(sensors);\n                        sensors = [];\n                    }\n                }\n            });\n        }\n    };\n};\n\nvar _ElementQueries = __webpack_require__(242);\n\nvar _ElementQueries2 = _interopRequireDefault(_ElementQueries);\n\nvar _ResizeSensor = __webpack_require__(50);\n\nvar _ResizeSensor2 = _interopRequireDefault(_ResizeSensor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_ElementQueries2.default.listen();\n\n/***/ }),\n/* 358 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _sections = __webpack_require__(359);\n\nvar _sections2 = _interopRequireDefault(_sections);\n\nvar _taskSection = __webpack_require__(360);\n\nvar _taskSection2 = _interopRequireDefault(_taskSection);\n\nvar _taskSections = __webpack_require__(361);\n\nvar _taskSections2 = _interopRequireDefault(_taskSections);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.sections';\n__webpack_require__(253);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttSections', _sections2.default).directive('ganttTaskSection', _taskSection2.default).directive('ganttTaskSections', _taskSections2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 359 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$compile\", \"$document\", function ($compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            keepProportions: '=?',\n            disableMagnet: '=?',\n            disableDaily: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.sections) === 'object') {\n                for (var option in scope.options.sections) {\n                    scope[option] = scope.options.sections[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.keepProportions === undefined) {\n                scope.keepProportions = true;\n            }\n            api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\n                if (directiveName === 'ganttTaskForeground') {\n                    var sectionsScope = taskScope.$new();\n                    sectionsScope.pluginScope = scope;\n                    sectionsScope.task = taskScope.task;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'task.model.sections !== undefined && pluginScope.enabled');\n                    _angular2.default.element(ifElement).attr('class', 'gantt-task-foreground-sections');\n                    var sectionsElement = $document[0].createElement('gantt-task-sections');\n                    if (attrs.templateUrl !== undefined) {\n                        _angular2.default.element(sectionsElement).attr('data-template-url', attrs.templateUrl);\n                    }\n                    if (attrs.template !== undefined) {\n                        _angular2.default.element(sectionsElement).attr('data-template', attrs.template);\n                    }\n                    _angular2.default.element(ifElement).append(sectionsElement);\n                    taskElement.append($compile(ifElement)(sectionsScope));\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 360 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$templateCache\", function ($templateCache) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        requires: '^ganttTaskSections',\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'plugins/sections/taskSection.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template !== undefined) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        replace: true,\n        scope: {\n            section: '=',\n            task: '=',\n            index: '=',\n            options: '=?'\n        },\n        controller: [\"$scope\", \"$element\", \"ganttUtils\", function controller($scope, $element, ganttUtils) {\n            'ngInject';\n\n            var fromTask = (0, _moment2.default)($scope.section.from).isSame((0, _moment2.default)($scope.task.model.from));\n            var toTask = (0, _moment2.default)($scope.section.to).isSame((0, _moment2.default)($scope.task.model.to));\n            var loadPreviousScope = function loadPreviousScope() {\n                if ($scope.task._movingTaskSections) {\n                    var sectionScopes = $scope.task._movingTaskSections;\n                    var sectionScope = sectionScopes['$$index_' + $scope.index];\n                    $scope.section = sectionScope.section;\n                    $scope.sectionCss = sectionScope.sectionCss;\n                    fromTask = sectionScope.fromTask;\n                    toTask = sectionScope.toTask;\n                    delete sectionScopes['$$index_' + $scope.index];\n                }\n                var sectionScopesEmpty = true;\n                for (var property in $scope.task._movingTaskSections) {\n                    if ($scope.task._movingTaskSections.hasOwnProperty(property)) {\n                        sectionScopesEmpty = false;\n                        break;\n                    }\n                }\n                if (sectionScopesEmpty) {\n                    delete $scope.task._movingTaskSections;\n                }\n            };\n            loadPreviousScope();\n            var getLeft = function getLeft() {\n                if (fromTask) {\n                    return 0;\n                }\n                var gantt = $scope.task.rowsManager.gantt;\n                var taskLeft = $scope.task.left;\n                var from = void 0;\n                var disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n                from = disableMagnet ? $scope.section.from : gantt.getMagnetDate($scope.section.from);\n                var disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily);\n                if (!disableDaily && gantt.options.value('daily')) {\n                    from = (0, _moment2.default)(from).startOf('day');\n                }\n                var sectionLeft = gantt.getPositionByDate(from);\n                return sectionLeft - taskLeft;\n            };\n            var getRight = function getRight() {\n                var keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions);\n                if (toTask && keepProportions) {\n                    return $scope.task.width;\n                }\n                var gantt = $scope.task.rowsManager.gantt;\n                var taskLeft = $scope.task.left;\n                var disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n                var to = disableMagnet ? $scope.section.to : gantt.getMagnetDate($scope.section.to);\n                var disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily);\n                if (!disableDaily && gantt.options.value('daily')) {\n                    to = (0, _moment2.default)(to).startOf('day');\n                }\n                var sectionRight = gantt.getPositionByDate(to);\n                return sectionRight - taskLeft;\n            };\n            var getRelative = function getRelative(position) {\n                return position / $scope.task.width * 100;\n            };\n            var updatePosition = function updatePosition() {\n                var sectionLeft = getLeft();\n                var sectionWidth = getRight() - sectionLeft;\n                var keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions);\n                if (keepProportions) {\n                    $scope.sectionCss.left = getRelative(sectionLeft) + '%';\n                    $scope.sectionCss.width = getRelative(sectionWidth) + '%';\n                } else {\n                    $scope.sectionCss.left = sectionLeft + 'px';\n                    $scope.sectionCss.width = sectionWidth + 'px';\n                }\n            };\n            var updateCss = function updateCss() {\n                if ($scope.section.color) {\n                    $scope.sectionCss['background-color'] = $scope.section.color;\n                } else {\n                    $scope.sectionCss['background-color'] = undefined;\n                }\n            };\n            if ($scope.sectionCss === undefined) {\n                $scope.sectionCss = {};\n                updatePosition();\n                updateCss();\n            }\n            var taskChangeHandler = function taskChangeHandler(task) {\n                if (task === $scope.task) {\n                    var gantt = $scope.task.rowsManager.gantt;\n                    var sectionLeft = $element[0].offsetLeft;\n                    var disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet);\n                    var from = void 0;\n                    if (fromTask) {\n                        from = $scope.task.model.from;\n                    } else {\n                        from = gantt.getDateByPosition($scope.task.modelLeft + sectionLeft, !disableMagnet);\n                    }\n                    var to = void 0;\n                    if (toTask) {\n                        to = $scope.task.model.to;\n                    } else {\n                        var sectionRight = sectionLeft + $element[0].offsetWidth;\n                        to = gantt.getDateByPosition($scope.task.modelLeft + sectionRight, !disableMagnet);\n                    }\n                    $scope.section.from = from;\n                    $scope.section.to = to;\n                    updatePosition();\n                }\n            };\n            var taskCleanHandler = function taskCleanHandler(taskModel) {\n                if (taskModel.id === $scope.task.model.id) {\n                    var model = $scope.section;\n                    if (model.from !== undefined && !_moment2.default.isMoment(model.from)) {\n                        model.from = (0, _moment2.default)(model.from);\n                    }\n                    if (model.to !== undefined && !_moment2.default.isMoment(model.to)) {\n                        model.to = (0, _moment2.default)(model.to);\n                    }\n                }\n            };\n            taskCleanHandler($scope.task.model);\n            $scope.task.rowsManager.gantt.api.tasks.on.clean($scope, taskCleanHandler);\n            $scope.task.rowsManager.gantt.api.tasks.on.change($scope, taskChangeHandler);\n            var beforeViewRowChangeHandler = function beforeViewRowChangeHandler(task) {\n                var sectionScopes = task._movingTaskSections;\n                if (!sectionScopes) {\n                    sectionScopes = {};\n                    task._movingTaskSections = sectionScopes;\n                }\n                sectionScopes['$$index_' + $scope.index] = {\n                    'section': $scope.section,\n                    'sectionCss': $scope.sectionCss,\n                    'fromTask': fromTask,\n                    'toTask': toTask\n                };\n            };\n            $scope.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange($scope, beforeViewRowChangeHandler);\n            $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskSection', $scope, $element);\n            $scope.$on('$destroy', function () {\n                $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskSection', $scope, $element);\n            });\n        }]\n    };\n}];\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(389);\n\n/***/ }),\n/* 361 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$templateCache\", function ($templateCache) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        requires: '^ganttTask',\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'plugins/sections/taskSections.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template !== undefined) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        replace: true,\n        scope: true,\n        controller: [\"$scope\", \"$element\", function controller($scope, $element) {\n            'ngInject';\n\n            $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskSections', $scope, $element);\n            $scope.$on('$destroy', function () {\n                $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskSections', $scope, $element);\n            });\n        }]\n    };\n}];\n\n__webpack_require__(390);\n\n/***/ }),\n/* 362 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\n__webpack_require__(189);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _sortable = __webpack_require__(363);\n\nvar _sortable2 = _interopRequireDefault(_sortable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.sortable';\n__webpack_require__(254);\n_angular2.default.module(pluginModule, ['ang-drag-drop', _index2.default]).directive('ganttSortable', _sortable2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 363 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"$compile\", function (ganttUtils, $compile) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.sortable) === 'object') {\n                for (var option in scope.options.sortable) {\n                    scope[option] = scope.options.sortable[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            api.directives.on.new(scope, function (directiveName, rowScope, rowElement) {\n                if (directiveName === 'ganttRowLabel' && rowElement.attr('drag') === undefined) {\n                    rowScope.checkDraggable = function () {\n                        var rowSortable = rowScope.row.model.sortable;\n                        if (typeof rowSortable === 'boolean') {\n                            rowSortable = { enabled: rowSortable };\n                        }\n                        return ganttUtils.firstProperty([rowSortable], 'enabled', scope.enabled);\n                    };\n                    rowScope.onDropSuccess = function () {\n                        rowScope.$evalAsync();\n                    };\n                    rowScope.onDrop = function (evt, data) {\n                        var row = rowScope.row.rowsManager.rowsMap[data.id];\n                        if (row !== rowScope) {\n                            rowScope.row.rowsManager.moveRow(row, rowScope.row);\n                            rowScope.$evalAsync();\n                        }\n                    };\n                    rowElement.attr('ui-draggable', '{{checkDraggable()}}');\n                    rowElement.attr('drag-channel', '\\'sortable\\'');\n                    rowElement.attr('ui-on-drop', 'onDrop($event, $data)');\n                    rowElement.attr('on-drop-success', 'onDropSuccess()');\n                    rowElement.attr('drop-channel', '\\'sortable\\'');\n                    rowElement.attr('drag', 'row.model');\n                    $compile(rowElement)(rowScope);\n                }\n            });\n        }\n    };\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 364 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _table = __webpack_require__(366);\n\nvar _table2 = _interopRequireDefault(_table);\n\nvar _sideContentTable = __webpack_require__(365);\n\nvar _sideContentTable2 = _interopRequireDefault(_sideContentTable);\n\nvar _tableColumn = __webpack_require__(367);\n\nvar _tableColumn2 = _interopRequireDefault(_tableColumn);\n\nvar _tableColumnRow = __webpack_require__(368);\n\nvar _tableColumnRow2 = _interopRequireDefault(_tableColumnRow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.table';\n__webpack_require__(255);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttTable', _table2.default).directive('ganttSideContentTable', _sideContentTable2.default).controller('TableColumnController', _tableColumn2.default).controller('TableColumnRowController', _tableColumnRow2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 365 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"ganttLayout\", function (GanttDirectiveBuilder, ganttLayout) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSideContentTable', 'plugins/table/sideContentTable.tmpl.html');\n    builder.controller = function ($scope) {\n        var hScrollBarHeight = ganttLayout.getScrollBarHeight();\n        $scope.getMaxHeightCss = function () {\n            var css = {};\n            var maxHeight = $scope.maxHeight;\n            if (!maxHeight) {\n                maxHeight = $scope.gantt.getContainerHeight();\n            }\n            var bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0;\n            css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px';\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\n__webpack_require__(391);\n\n/***/ }),\n/* 366 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"$compile\", \"$document\", function (ganttUtils, $compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            columns: '=?',\n            headers: '=?',\n            classes: '=?',\n            contents: '=?',\n            headerContents: '=?',\n            formatters: '=?',\n            headerFormatter: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.table) === 'object') {\n                for (var option in scope.options.table) {\n                    scope[option] = scope.options.table[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.columns === undefined) {\n                scope.columns = ['model.name'];\n            }\n            if (scope.headers === undefined) {\n                scope.headers = { 'model.name': 'Name' };\n            }\n            if (scope.contents === undefined) {\n                scope.contents = {};\n            }\n            if (scope.headerContents === undefined) {\n                scope.headerContents = {};\n            }\n            if (scope.classes === undefined) {\n                scope.classes = {};\n            }\n            if (scope.formatters === undefined) {\n                scope.formatters = {};\n            }\n            api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\n                if (directiveName === 'ganttSideContent') {\n                    var tableScope = sideContentScope.$new();\n                    tableScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    _angular2.default.element(ifElement).addClass('side-element');\n                    var tableElement = $document[0].createElement('gantt-side-content-table');\n                    _angular2.default.element(ifElement).append(tableElement);\n                    sideContentElement.append($compile(ifElement)(tableScope));\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 367 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$scope\", function ($scope) {\n    'ngInject';\n\n    $scope.getHeader = function () {\n        var header = $scope.pluginScope.headers[$scope.column];\n        if (header !== undefined) {\n            return header;\n        }\n        if ($scope.pluginScope.headerFormatter !== undefined) {\n            header = $scope.pluginScope.headerFormatter($scope.column);\n        }\n        if (header !== undefined) {\n            return header;\n        }\n        return header;\n    };\n    $scope.getHeaderContent = function () {\n        var headerContent = $scope.pluginScope.headerContents[$scope.column];\n        if (headerContent === undefined) {\n            return '{{getHeader()}}';\n        }\n        return headerContent;\n    };\n    $scope.getClass = function () {\n        return $scope.pluginScope.classes[$scope.column];\n    };\n}];\n\n/***/ }),\n/* 368 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$scope\", function ($scope) {\n    'ngInject';\n\n    $scope.getValue = function () {\n        var value = $scope.$eval($scope.column, $scope.row);\n        var formatter = $scope.pluginScope.formatters[$scope.column];\n        if (formatter !== undefined) {\n            value = formatter(value, $scope.column, $scope.row);\n        }\n        return value;\n    };\n    $scope.getRowContent = function () {\n        var content = void 0;\n        if ($scope.row.model.columnContents) {\n            content = $scope.row.model.columnContents[$scope.column];\n        }\n        if (content === undefined && $scope.column === 'model.name') {\n            content = $scope.row.model.content;\n        }\n        if (content === undefined) {\n            content = $scope.pluginScope.contents[$scope.column];\n        }\n        if (content === undefined && $scope.column === 'model.name') {\n            content = $scope.row.rowsManager.gantt.options.value('rowContent');\n        }\n        if (content === undefined && $scope.pluginScope.content !== undefined) {\n            content = $scope.pluginScope.content;\n        }\n        if (content === undefined) {\n            return '{{getValue()}}';\n        }\n        return content;\n    };\n}];\n\n/***/ }),\n/* 369 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tooltips = __webpack_require__(371);\n\nvar _tooltips2 = _interopRequireDefault(_tooltips);\n\nvar _tooltip = __webpack_require__(370);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.tooltips';\n__webpack_require__(256);\n_angular2.default.module(pluginModule, [_index2.default]).directive('ganttTooltips', _tooltips2.default).directive('ganttTooltip', _tooltip2.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 370 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$log\", \"$timeout\", \"$compile\", \"$document\", \"$templateCache\", \"ganttDebounce\", \"GanttSmartEvent\", function ($log, $timeout, $compile, $document, $templateCache, ganttDebounce, GanttSmartEvent) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        templateUrl: function templateUrl(tElement, tAttrs) {\n            var templateUrl = void 0;\n            if (tAttrs.templateUrl === undefined) {\n                templateUrl = 'plugins/tooltips/tooltip.tmpl.html';\n            } else {\n                templateUrl = tAttrs.templateUrl;\n            }\n            if (tAttrs.template !== undefined) {\n                $templateCache.put(templateUrl, tAttrs.template);\n            }\n            return templateUrl;\n        },\n        scope: true,\n        replace: true,\n        controller: [\"$scope\", \"$element\", \"ganttUtils\", function controller($scope, $element, ganttUtils) {\n            'ngInject';\n\n            var bodyElement = angular.element($document[0].body);\n            var parentElement = $scope.task.$element;\n            var showTooltipPromise = void 0;\n            var visible = false;\n            var mouseEnterX = void 0;\n            var mouseMoveHandler = void 0;\n            var getViewPortWidth = function getViewPortWidth() {\n                var d = $document[0];\n                return d.documentElement.clientWidth || d.getElementById('body')[0].clientWidth;\n            };\n            var updateTooltip = function updateTooltip(x) {\n                if (x + $element[0].offsetWidth > getViewPortWidth()) {\n                    $element.css('left', x + 20 - $element[0].offsetWidth + 'px');\n                    $scope.isRightAligned = true;\n                } else {\n                    $element.css('left', x - 20 + 'px');\n                    $scope.isRightAligned = false;\n                }\n            };\n            var showTooltip = function showTooltip(x) {\n                visible = true;\n                mouseMoveHandler.bind();\n                $scope.displayed = true;\n                $scope.$evalAsync(function () {\n                    var restoreNgHide = void 0;\n                    if ($element.hasClass('ng-hide')) {\n                        $element.removeClass('ng-hide');\n                        restoreNgHide = true;\n                    }\n                    $scope.elementHeight = $element[0].offsetHeight;\n                    if (restoreNgHide) {\n                        $element.addClass('ng-hide');\n                    }\n                    $scope.taskRect = parentElement[0].getBoundingClientRect();\n                    updateTooltip(x);\n                });\n            };\n            var hideTooltip = function hideTooltip() {\n                visible = false;\n                mouseMoveHandler.unbind();\n                $scope.$evalAsync(function () {\n                    $scope.displayed = false;\n                });\n            };\n            var displayTooltip = function displayTooltip(newValue, showDelayed) {\n                if (showTooltipPromise) {\n                    $timeout.cancel(showTooltipPromise);\n                }\n                var taskTooltips = $scope.task.model.tooltips;\n                var rowTooltips = $scope.task.row.model.tooltips;\n                if (typeof taskTooltips === 'boolean') {\n                    taskTooltips = { enabled: taskTooltips };\n                }\n                if (typeof rowTooltips === 'boolean') {\n                    rowTooltips = { enabled: rowTooltips };\n                }\n                var enabled = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'enabled', $scope.pluginScope.enabled);\n                if (enabled && !visible && mouseEnterX !== undefined && newValue) {\n                    var content = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'content', $scope.pluginScope.content);\n                    $scope.content = content;\n                    if (showDelayed) {\n                        showTooltipPromise = $timeout(function () {\n                            showTooltip(mouseEnterX);\n                        }, $scope.pluginScope.delay, false);\n                    } else {\n                        showTooltip(mouseEnterX);\n                    }\n                } else if (!newValue) {\n                    if (!$scope.task.active) {\n                        hideTooltip();\n                    }\n                }\n            };\n            mouseMoveHandler = new GanttSmartEvent($scope, bodyElement, 'mousemove', ganttDebounce(function (e) {\n                if (!visible) {\n                    mouseEnterX = e.clientX;\n                    displayTooltip(true, false);\n                } else {\n                    if (!$scope.taskRect || e.clientX < $scope.taskRect.left || e.clientX > $scope.taskRect.right || e.clientY > $scope.taskRect.bottom || e.clientY < $scope.taskRect.top) {\n                        displayTooltip(false, false);\n                    }\n                    updateTooltip(e.clientX);\n                }\n            }, 5, false));\n            $scope.getFromLabel = function () {\n                var taskTooltips = $scope.task.model.tooltips;\n                var rowTooltips = $scope.task.row.model.tooltips;\n                if (typeof taskTooltips === 'boolean') {\n                    taskTooltips = { enabled: taskTooltips };\n                }\n                if (typeof rowTooltips === 'boolean') {\n                    rowTooltips = { enabled: rowTooltips };\n                }\n\n                return $scope.task.model.from.format('YYYY-MM-DD HH:mm:ss');\n            };\n            $scope.getToLabel = function () {\n                var taskTooltips = $scope.task.model.tooltips;\n                var rowTooltips = $scope.task.row.model.tooltips;\n                if (typeof taskTooltips === 'boolean') {\n                    taskTooltips = { enabled: taskTooltips };\n                }\n                if (typeof rowTooltips === 'boolean') {\n                    rowTooltips = { enabled: rowTooltips };\n                }\n\n                return $scope.task.model.to.format('YYYY-MM-DD HH:mm:ss');\n            };\n            $scope.task.getContentElement().bind('mousemove', function (evt) {\n                mouseEnterX = evt.clientX;\n            });\n            $scope.task.getContentElement().bind('mouseenter', function (evt) {\n                mouseEnterX = evt.clientX;\n                displayTooltip(true, true);\n            });\n            $scope.task.getContentElement().bind('mouseleave', function () {\n                displayTooltip(false);\n            });\n            if ($scope.pluginScope.api.tasks.on.moveBegin) {\n                $scope.pluginScope.api.tasks.on.moveBegin($scope, function (task) {\n                    if (task === $scope.task) {\n                        displayTooltip(true);\n                    }\n                });\n                $scope.pluginScope.api.tasks.on.moveEnd($scope, function (task) {\n                    if (task === $scope.task) {\n                        displayTooltip(false);\n                    }\n                });\n                $scope.pluginScope.api.tasks.on.resizeBegin($scope, function (task) {\n                    if (task === $scope.task) {\n                        displayTooltip(true);\n                    }\n                });\n                $scope.pluginScope.api.tasks.on.resizeEnd($scope, function (task) {\n                    if (task === $scope.task) {\n                        displayTooltip(false);\n                    }\n                });\n            }\n            if ($scope.task.isMoving) {\n                displayTooltip(true, false);\n            }\n            $scope.gantt.api.directives.raise.new('ganttTooltip', $scope, $element);\n            $scope.$on('$destroy', function () {\n                $scope.gantt.api.directives.raise.destroy('ganttTooltip', $scope, $element);\n            });\n        }]\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar angular = _interopRequireWildcard(_angular);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n__webpack_require__(392);\n\n/***/ }),\n/* 371 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"$compile\", \"$document\", function ($compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            dateFormat: '=?',\n            content: '=?',\n            delay: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.tooltips) === 'object') {\n                for (var option in scope.options.tooltips) {\n                    scope[option] = scope.options.tooltips[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.dateFormat === undefined) {\n                scope.dateFormat = 'MMM DD, HH:mm';\n            }\n            if (scope.delay === undefined) {\n                scope.delay = 500;\n            }\n            if (scope.content === undefined) {\n                scope.content = '{{task.model.name}}</br>' + '<small>' + '{{task.isMilestone() === true && getFromLabel() || getFromLabel() + \\' - \\' + getToLabel()}}' + '</small>';\n            }\n            scope.api = api;\n            api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\n                if (directiveName === 'ganttTask') {\n                    var tooltipScope = taskScope.$new();\n                    tooltipScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    var tooltipElement = $document[0].createElement('gantt-tooltip');\n                    if (attrs.templateUrl !== undefined) {\n                        _angular2.default.element(tooltipElement).attr('data-template-url', attrs.templateUrl);\n                    }\n                    if (attrs.template !== undefined) {\n                        _angular2.default.element(tooltipElement).attr('data-template', attrs.template);\n                    }\n                    _angular2.default.element(ifElement).append(tooltipElement);\n                    taskElement.append($compile(ifElement)(tooltipScope));\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 372 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _angularUiTree = __webpack_require__(193);\n\nvar _angularUiTree2 = _interopRequireDefault(_angularUiTree);\n\nvar _index = __webpack_require__(6);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _tree = __webpack_require__(376);\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _rowTreeLabel = __webpack_require__(373);\n\nvar _rowTreeLabel2 = _interopRequireDefault(_rowTreeLabel);\n\nvar _sideContentTree = __webpack_require__(374);\n\nvar _sideContentTree2 = _interopRequireDefault(_sideContentTree);\n\nvar _treeBody = __webpack_require__(377);\n\nvar _treeBody2 = _interopRequireDefault(_treeBody);\n\nvar _treeHeader = __webpack_require__(378);\n\nvar _treeHeader2 = _interopRequireDefault(_treeHeader);\n\nvar _uiTree = __webpack_require__(380);\n\nvar _uiTree2 = _interopRequireDefault(_uiTree);\n\nvar _treeNode = __webpack_require__(379);\n\nvar _treeNode2 = _interopRequireDefault(_treeNode);\n\nvar _tree3 = __webpack_require__(375);\n\nvar _tree4 = _interopRequireDefault(_tree3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar pluginModule = 'gantt.tree';\n__webpack_require__(243);\n__webpack_require__(257);\n_angular2.default.module(pluginModule, [_index2.default, _angularUiTree2.default || 'ui.tree']).directive('ganttTree', _tree2.default).directive('ganttRowTreeLabel', _rowTreeLabel2.default).directive('ganttSideContentTree', _sideContentTree2.default).directive('ganttTreeBody', _treeBody2.default).directive('ganttTreeHeader', _treeHeader2.default).controller('GanttUiTreeController', _uiTree2.default).controller('GanttTreeNodeController', _treeNode2.default).controller('GanttTreeController', _tree4.default);\nexports.default = pluginModule;\n\n/***/ }),\n/* 373 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttRowTreeLabel');\n    builder.restrict = 'A';\n    builder.templateUrl = undefined;\n    return builder.build();\n}];\n\n/***/ }),\n/* 374 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttSideContentTree', 'plugins/tree/sideContentTree.tmpl.html');\n    return builder.build();\n}];\n\n__webpack_require__(393);\n\n/***/ }),\n/* 375 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"$scope\", \"$filter\", \"GanttHierarchy\", function ($scope, $filter, GanttHierarchy) {\n    'ngInject';\n\n    $scope.rootRows = [];\n    $scope.getHeader = function () {\n        return $scope.pluginScope.header;\n    };\n    var hierarchy = new GanttHierarchy();\n    $scope.pluginScope.$watchGroup(['keepAncestorOnFilterRow', 'enabled'], function (value) {\n        var keepAncestor = value[0] && value[1];\n        if (keepAncestor) {\n            var filterImpl = function filterImpl(sortedRows, filterRow, filterRowComparator) {\n                hierarchy.refresh(sortedRows);\n                var leaves = [];\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = (0, _getIterator3.default)(sortedRows), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var sortedRow = _step.value;\n\n                        var children = hierarchy.children(sortedRow);\n                        if (!children || children.length === 0) {\n                            leaves.push(sortedRow);\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                var filteredLeaves = $filter('filter')(leaves, filterRow, filterRowComparator);\n                var filterRowKeepAncestor = function filterRowKeepAncestor(row) {\n                    if (filteredLeaves.indexOf(row) > -1) {\n                        return true;\n                    }\n                    var descendants = hierarchy.descendants(row);\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = (0, _getIterator3.default)(descendants), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var descendant = _step2.value;\n\n                            if (filteredLeaves.indexOf(descendant) > -1) {\n                                return true;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n\n                    return false;\n                };\n                return $filter('filter')(sortedRows, filterRowKeepAncestor, filterRowComparator);\n            };\n            $scope.gantt.rowsManager.setFilterImpl(filterImpl);\n        } else {\n            $scope.gantt.rowsManager.setFilterImpl(false);\n        }\n    });\n    var isVisible = function isVisible(row) {\n        var parentRow = $scope.parent(row);\n        while (parentRow !== undefined) {\n            if (parentRow !== undefined && parentRow._collapsed) {\n                return false;\n            }\n            parentRow = $scope.parent(parentRow);\n        }\n        return true;\n    };\n    var filterRowsFunction = function filterRowsFunction(rows) {\n        return rows.filter(function (row) {\n            return isVisible(row);\n        });\n    };\n    var sortRowsFunction = function sortRowsFunction(rows) {\n        var sortedRows = [];\n        var rootRows = [];\n        var hasParent = false;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n            for (var _iterator3 = (0, _getIterator3.default)(rows), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var row = _step3.value;\n\n                var rowParent = $scope.parent(row);\n                if (rowParent === undefined) {\n                    rootRows.push(row);\n                } else {\n                    hasParent = true;\n                }\n            }\n        } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                    _iterator3.return();\n                }\n            } finally {\n                if (_didIteratorError3) {\n                    throw _iteratorError3;\n                }\n            }\n        }\n\n        var handleChildren = function handleChildren(row) {\n            sortedRows.push(row);\n            var children = $scope.children(row);\n            if (children !== undefined && children.length > 0) {\n                var sortedChildren = children.sort(function (a, b) {\n                    return rows.indexOf(a) - rows.indexOf(b);\n                });\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = (0, _getIterator3.default)(sortedChildren), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var sortedChild = _step4.value;\n\n                        handleChildren(sortedChild);\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n            }\n        };\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n            for (var _iterator5 = (0, _getIterator3.default)(rootRows), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                var rootRow = _step5.value;\n\n                handleChildren(rootRow);\n            }\n        } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                    _iterator5.return();\n                }\n            } finally {\n                if (_didIteratorError5) {\n                    throw _iteratorError5;\n                }\n            }\n        }\n\n        return sortedRows;\n    };\n    $scope.gantt.api.rows.addRowSorter(sortRowsFunction);\n    $scope.gantt.api.rows.addRowFilter(filterRowsFunction);\n    $scope.$on('$destroy', function () {\n        $scope.gantt.api.rows.removeRowSorter(sortRowsFunction);\n        $scope.gantt.api.rows.removeRowFilter(filterRowsFunction);\n    });\n    var refresh = function refresh() {\n        $scope.rootRows = hierarchy.refresh($scope.gantt.rowsManager.filteredRows);\n        if ($scope.gantt.rowsManager.filteredRows.length > 0) {\n            $scope.gantt.api.rows.sort();\n            $scope.gantt.api.rows.refresh();\n        }\n    };\n    $scope.gantt.api.rows.on.remove($scope, refresh);\n    $scope.gantt.api.rows.on.add($scope, refresh);\n    var isRowCollapsed = function isRowCollapsed(rowId) {\n        var row = void 0;\n        if (typeof rowId === 'string') {\n            row = $scope.gantt.rowsManager.rowsMap[rowId];\n        } else {\n            row = rowId;\n        }\n        if (row === undefined) {\n            return undefined;\n        }\n        if (row._collapsed === undefined) {\n            return false;\n        }\n        return row._collapsed;\n    };\n    var expandRow = function expandRow(rowId) {\n        var row = void 0;\n        if (typeof rowId === 'string') {\n            row = $scope.gantt.rowsManager.rowsMap[rowId];\n        } else {\n            row = rowId;\n        }\n        if (row === undefined) {\n            return;\n        }\n        var rowScope = $scope.nodeScopes[row.model.id];\n        if (rowScope.collapsed) {\n            rowScope.toggle();\n        }\n    };\n    var collapseRow = function collapseRow(rowId) {\n        var row = void 0;\n        if (typeof rowId === 'string') {\n            row = $scope.gantt.rowsManager.rowsMap[rowId];\n        } else {\n            row = rowId;\n        }\n        if (row === undefined) {\n            return;\n        }\n        var rowScope = $scope.nodeScopes[row.model.id];\n        if (!rowScope.collapsed) {\n            rowScope.toggle();\n        }\n    };\n    var getHierarchy = function getHierarchy() {\n        return hierarchy;\n    };\n    $scope.getHeaderContent = function () {\n        return $scope.pluginScope.headerContent;\n    };\n    $scope.gantt.api.registerMethod('tree', 'refresh', refresh, this);\n    $scope.gantt.api.registerMethod('tree', 'isCollapsed', isRowCollapsed, this);\n    $scope.gantt.api.registerMethod('tree', 'expand', expandRow, this);\n    $scope.gantt.api.registerMethod('tree', 'collapse', collapseRow, this);\n    $scope.gantt.api.registerEvent('tree', 'collapsed');\n    $scope.gantt.api.registerMethod('tree', 'getHierarchy', getHierarchy, this);\n    $scope.$watchCollection('gantt.rowsManager.filteredRows', function () {\n        refresh();\n    });\n    $scope.children = function (row) {\n        if (row === undefined) {\n            return $scope.rootRows;\n        }\n        return hierarchy.children(row);\n    };\n    $scope.parent = function (row) {\n        return hierarchy.parent(row);\n    };\n    $scope.nodeScopes = {};\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 376 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(4);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.default = [\"ganttUtils\", \"$compile\", \"$document\", function (ganttUtils, $compile, $document) {\n    'ngInject';\n\n    return {\n        restrict: 'E',\n        require: '^gantt',\n        scope: {\n            enabled: '=?',\n            header: '=?',\n            content: '=?',\n            headerContent: '=?',\n            keepAncestorOnFilterRow: '=?'\n        },\n        link: function link(scope, element, attrs, ganttCtrl) {\n            var api = ganttCtrl.gantt.api;\n\n            if (scope.options && (0, _typeof3.default)(scope.options.tree) === 'object') {\n                for (var option in scope.options.tree) {\n                    scope[option] = scope.options.tree[option];\n                }\n            }\n            if (scope.enabled === undefined) {\n                scope.enabled = true;\n            }\n            if (scope.header === undefined) {\n                scope.header = 'Name';\n            }\n            if (scope.headerContent === undefined) {\n                scope.headerContent = '{{getHeader()}}';\n            }\n            if (scope.keepAncestorOnFilterRow === undefined) {\n                scope.keepAncestorOnFilterRow = false;\n            }\n            api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\n                if (directiveName === 'ganttSideContent') {\n                    var labelsScope = sideContentScope.$new();\n                    labelsScope.pluginScope = scope;\n                    var ifElement = $document[0].createElement('div');\n                    _angular2.default.element(ifElement).attr('data-ng-if', 'pluginScope.enabled');\n                    _angular2.default.element(ifElement).addClass('side-element');\n                    var labelsElement = $document[0].createElement('gantt-side-content-tree');\n                    _angular2.default.element(ifElement).append(labelsElement);\n                    sideContentElement.append($compile(ifElement)(labelsScope));\n                }\n            });\n        }\n    };\n}];\n\nvar _angular = __webpack_require__(1);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 377 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", \"ganttLayout\", function (GanttDirectiveBuilder, ganttLayout) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTreeBody', 'plugins/tree/treeBody.tmpl.html');\n    builder.controller = function ($scope) {\n        var hScrollBarHeight = ganttLayout.getScrollBarHeight();\n        $scope.getLabelsCss = function () {\n            var css = {};\n            var maxHeight = $scope.maxHeight;\n            if (!maxHeight) {\n                maxHeight = $scope.gantt.getContainerHeight();\n            }\n            var bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0;\n            css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px';\n            return css;\n        };\n    };\n    return builder.build();\n}];\n\n__webpack_require__(394);\n__webpack_require__(395);\n\n/***/ }),\n/* 378 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"GanttDirectiveBuilder\", function (GanttDirectiveBuilder) {\n    'ngInject';\n\n    var builder = new GanttDirectiveBuilder('ganttTreeHeader', 'plugins/tree/treeHeader.tmpl.html');\n    return builder.build();\n}];\n\n__webpack_require__(396);\n\n/***/ }),\n/* 379 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getIterator2 = __webpack_require__(5);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = [\"$scope\", function ($scope) {\n    'ngInject';\n\n    $scope.$parent.nodeScopes[$scope.row.model.id] = $scope;\n    $scope.$on('$destroy', function () {\n        delete $scope.$parent.nodeScopes[$scope.row.model.id];\n    });\n    $scope.$watch('children(row)', function (newValue) {\n        if (newValue) {\n            var visibleRows = $scope.row.rowsManager.filteredRows;\n            var filteredChildrenRows = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = (0, _getIterator3.default)(newValue), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var childRow = _step.value;\n\n                    if (visibleRows.indexOf(childRow) > -1) {\n                        filteredChildrenRows.push(childRow);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            $scope.$parent.childrenRows = filteredChildrenRows;\n        } else {\n            $scope.$parent.childrenRows = newValue;\n        }\n    });\n    $scope.isCollapseDisabled = function () {\n        return !$scope.$parent.childrenRows || $scope.$parent.childrenRows.length === 0;\n    };\n    $scope.getValue = function () {\n        return $scope.row.model.name;\n    };\n    $scope.getRowContent = function () {\n        if ($scope.row.model.content !== undefined) {\n            return $scope.row.model.content;\n        }\n        if ($scope.pluginScope.content !== undefined) {\n            return $scope.pluginScope.content;\n        }\n        var content = $scope.row.rowsManager.gantt.options.value('rowContent');\n        if (content === undefined) {\n            content = '{{row.model.name}}';\n        }\n        return content;\n    };\n    $scope.$watch('collapsed', function (newValue) {\n        if ($scope.$modelValue._collapsed !== newValue) {\n            var oldValue = $scope.$modelValue._collapsed;\n            $scope.$modelValue._collapsed = newValue;\n            if (oldValue !== undefined && newValue !== oldValue) {\n                $scope.gantt.api.tree.raise.collapsed($scope, $scope.$modelValue, newValue);\n                $scope.gantt.api.rows.refresh();\n            }\n        }\n    });\n    $scope.getDownTest = function () {\n        if (!$scope.row.model.children || $scope.row.model.children.length === 0) {\n            return false;\n        }\n        return true;\n    };\n}];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 380 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = [\"$scope\", function ($scope) {\n    'ngInject';\n\n    var collapseAll = function collapseAll() {\n        $scope.$broadcast('angular-ui-tree:collapse-all');\n    };\n    var expandAll = function expandAll() {\n        $scope.$broadcast('angular-ui-tree:expand-all');\n    };\n    $scope.gantt.api.registerMethod('tree', 'collapseAll', collapseAll, $scope);\n    $scope.gantt.api.registerMethod('tree', 'expandAll', expandAll, $scope);\n}];\n\n/***/ }),\n/* 381 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/bounds/taskBounds.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-bounds ng-style=getCss() ng-class=getClass()></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 382 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/corner/corner.tmpl.html';\nvar html = \"<div class=gantt-corner-area-content> <div ng-show=$parent.ganttHeaderHeight class=gantt-header-row ng-repeat=\\\"header in headers\\\"> <div class=gantt-column-header><span class=gantt-label-text gantt-bind-compile-html=getLabelContent(header)></span></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 383 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/groups/taskGroup.tmpl.html';\nvar html = \"<div ng-controller=GanttGroupController> <div class=gantt-task-group-overview ng-if=\\\"taskGroup.overviewTasks.length > 0\\\"> <gantt-task-overview ng-repeat=\\\"task in taskGroup.overviewTasks\\\"></gantt-task-overview> </div> <div class=gantt-task-group-promote ng-if=\\\"taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0\\\"> <gantt-task ng-repeat=\\\"task in taskGroup.promotedTasks\\\"></gantt-task> </div> <div class=gantt-task-group ng-if=taskGroup.showGrouping ng-style=\\\"{'left': taskGroup.left + 'px', 'width': taskGroup.width + 'px'}\\\"> <div class=gantt-task-group-left-main></div> <div class=gantt-task-group-right-main></div> <div class=gantt-task-group-left-symbol></div> <div class=gantt-task-group-right-symbol></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 384 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/groups/taskOverview.tmpl.html';\nvar html = \"<div class=\\\"gantt-task gantt-task-overview\\\" ng-class=task.model.classes> <gantt-task-background></gantt-task-background> <gantt-task-content></gantt-task-content> <gantt-task-foreground></gantt-task-foreground> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 385 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/labels/labelsBody.tmpl.html';\nvar html = \"<div class=gantt-labels-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> <div gantt-row-label class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <span class=gantt-label-text>{{row.model.name}}</span> </div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 386 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/labels/labelsHeader.tmpl.html';\nvar html = \"<div class=gantt-labels-header> <div ng-show=\\\"gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0\\\"> <div ng-repeat=\\\"header in gantt.columnsManager.headers\\\"> <div class=gantt-row-height ng-class=\\\"{'gantt-labels-header-row': $last, 'gantt-labels-header-row-last': $last}\\\"><span>{{$last ? pluginScope.header : \\\"\\\"}}</span></div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 387 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/labels/sideContentLabels.tmpl.html';\nvar html = \"<div class=gantt-side-content-labels> <gantt-labels-header> </gantt-labels-header> <gantt-labels-body> </gantt-labels-body> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 388 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/progress/taskProgress.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-progress ng-style=getCss() ng-class=getClasses()></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 389 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/sections/taskSection.tmpl.html';\nvar html = \"<div ng-style=sectionCss ng-class=section.classes class=gantt-task-section></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 390 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/sections/taskSections.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-sections> <gantt-task-section section=section task=task options=task.model.sections index=$index ng-repeat=\\\"section in task.model.sections.items track by $index\\\"> </gantt-task-section> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 391 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/table/sideContentTable.tmpl.html';\nvar html = \"<div class=gantt-side-content-table> <div class=\\\"gantt-table-column {{getClass()}}\\\" ng-repeat=\\\"column in pluginScope.columns\\\" ng-controller=TableColumnController> <div class=gantt-table-header ng-style=\\\"{height: ganttHeaderHeight + 'px'}\\\"> <div ng-show=ganttHeaderHeight class=\\\"gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row\\\"> <span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /> </div> </div> <div class=gantt-table-content ng-style=getMaxHeightCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-table-row ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\" ng-controller=TableColumnRowController> <div gantt-row-label class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <div class=gantt-valign-container> <div class=gantt-valign-content> <span class=gantt-label-text gantt-bind-compile-html=getRowContent()></span> </div> </div> </div> </div> </div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 392 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/tooltips/tooltip.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-info ng-show=displayed ng-class=\\\"isRightAligned ? 'gantt-task-infoArrowR' : 'gantt-task-infoArrow'\\\" ng-style=\\\"{top: taskRect.top + 'px', marginTop: -elementHeight - 8 + 'px'}\\\"> <div class=gantt-task-info-content> <div gantt-bind-compile-html=content></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 393 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/tree/sideContentTree.tmpl.html';\nvar html = \"<div class=gantt-side-content-tree ng-controller=GanttTreeController> <gantt-tree-header> </gantt-tree-header> <gantt-tree-body> </gantt-tree-body> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 394 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/tree/treeBody.tmpl.html';\nvar html = \"<div class=gantt-tree-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-row-label-background> <div class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\" ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> &nbsp; </div> </div> <div ui-tree ng-controller=GanttUiTreeController data-drag-enabled=false data-empty-place-holder-enabled=false> <ol class=gantt-tree-root ui-tree-nodes ng-model=rootRows> <li ng-repeat=\\\"row in rootRows\\\" ui-tree-node ng-include=\\\"'plugins/tree/treeBodyChildren.tmpl.html'\\\"> </li> </ol> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 395 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/tree/treeBodyChildren.tmpl.html';\nvar html = \"<div ng-controller=GanttTreeNodeController class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <div class=gantt-valign-container> <div class=gantt-valign-content> <a ng-disabled=isCollapseDisabled() data-nodrag class=\\\"gantt-tree-handle-button btn btn-xs\\\" ng-class=\\\"{'gantt-tree-collapsed': collapsed, 'gantt-tree-expanded': !collapsed}\\\" ng-click=\\\"!isCollapseDisabled() && toggle()\\\"><span class=\\\"gantt-tree-handle glyphicon\\\" ng-class=\\\"{'glyphicon-chevron-down': getDownTest()}\\\"></span> </a> <span gantt-row-label class=gantt-label-text gantt-bind-compile-html=getRowContent() /> </div> </div> </div> <ol ui-tree-nodes ng-class=\\\"{hidden: collapsed}\\\" ng-model=childrenRows> <li ng-repeat=\\\"row in childrenRows\\\" ui-tree-node> <div ng-include=\\\"'plugins/tree/treeBodyChildren.tmpl.html'\\\"></div> </li> </ol> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 396 */\n/***/ (function(module, exports) {\n\nvar path = 'plugins/tree/treeHeader.tmpl.html';\nvar html = \"<div class=gantt-tree-header ng-style=\\\"{height: $parent.ganttHeaderHeight + 'px'}\\\"> <div ng-if=$parent.ganttHeaderHeight class=\\\"gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row\\\"><span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /></div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ }),\n/* 397 */\n/***/ (function(module, exports) {\n\nvar path = 'template/gantt.tmpl.html';\nvar html = \"<div class=\\\"gantt unselectable\\\" ng-cloak gantt-scroll-manager gantt-container-height-listener=ganttContainerHeight gantt-container-width-listener=ganttContainerWidth gantt-element-height-listener=ganttElementHeight gantt-element-width-listener=ganttElementWidth> <gantt-side> <gantt-side-background> </gantt-side-background> <gantt-side-content> </gantt-side-content> <div gantt-resizer=gantt.side.$element gantt-resizer-event-topic=side gantt-resizer-enabled=\\\"{{$parent.gantt.options.value('allowSideResizing')}}\\\" resizer-width=sideWidth class=gantt-resizer> <div ng-show=\\\"$parent.gantt.options.value('allowSideResizing')\\\" class=gantt-resizer-display></div> </div> </gantt-side> <gantt-scrollable-header> <gantt-header gantt-element-height-listener=$parent.ganttHeaderHeight> <gantt-header-columns> <div ng-repeat=\\\"header in gantt.columnsManager.visibleHeaders track by $index\\\"> <div class=gantt-header-row ng-class=\\\"{'gantt-header-row-last': $last, 'gantt-header-row-first': $first}\\\"> <gantt-column-header ng-repeat=\\\"column in header\\\"></gantt-column-header> </div> </div> </gantt-header-columns> </gantt-header> </gantt-scrollable-header> <gantt-scrollable> <gantt-body> <gantt-body-background> <gantt-row-background ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"></gantt-row-background> </gantt-body-background> <gantt-body-foreground> <div class=gantt-current-date-line ng-show=\\\"currentDate === 'line' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width\\\" ng-style=\\\"{'left': gantt.currentDateManager.position + 'px' }\\\"></div> </gantt-body-foreground> <gantt-body-columns> <gantt-column ng-repeat=\\\"column in gantt.columnsManager.visibleColumns\\\"> <gantt-time-frame ng-repeat=\\\"timeFrame in column.visibleTimeFrames\\\"></gantt-time-frame> </gantt-column> </gantt-body-columns> <div ng-if=\\\"gantt.columnsManager.visibleColumns == 0\\\" style=background-color:grey></div> <gantt-body-rows> <gantt-timespan ng-repeat=\\\"timespan in gantt.timespansManager.timespans track by timespan.model.id\\\"></gantt-timespan> <gantt-row ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> <gantt-task ng-repeat=\\\"task in row.visibleTasks track by task.model.id\\\" ng-if=task.model.visible> </gantt-task> </gantt-row> </gantt-body-rows> </gantt-body> </gantt-scrollable> <ng-transclude></ng-transclude> <script type=text/ng-template id=template/ganttBody.tmpl.html> <div ng-transclude class=\\\"gantt-body\\\" ng-style=\\\"{'width': gantt.width > 0 ? gantt.width +'px' : undefined}\\\"></div> </script> <script type=text/ng-template id=template/ganttHeader.tmpl.html> <div ng-transclude class=\\\"gantt-header\\\"\\r\\n             ng-show=\\\"gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0\\\"></div> </script> <script type=text/ng-template id=template/ganttSide.tmpl.html> <div ng-transclude class=\\\"gantt-side\\\" style=\\\"width: auto;\\\"></div> </script> <script type=text/ng-template id=template/ganttSideContent.tmpl.html> <div class=\\\"gantt-side-content\\\" ng-style=\\\"getSideCss()\\\">\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttHeaderColumns.tmpl.html> <div ng-transclude class=\\\"gantt-header-columns\\\"\\r\\n              gantt-horizontal-scroll-receiver></div> </script> <script type=text/ng-template id=template/ganttColumnHeader.tmpl.html> <div class=\\\"gantt-column-header\\\" ng-class=\\\"{'gantt-column-header-last': $last, 'gantt-column-header-first': $first}\\\">{{::column.label}}</div> </script> <script type=text/ng-template id=template/ganttBodyBackground.tmpl.html> <div ng-transclude class=\\\"gantt-body-background\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyForeground.tmpl.html> <div ng-transclude class=\\\"gantt-body-foreground\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyColumns.tmpl.html> <div ng-transclude class=\\\"gantt-body-columns\\\"></div> </script> <script type=text/ng-template id=template/ganttColumn.tmpl.html> <div ng-transclude class=\\\"gantt-column gantt-foreground-col\\\" ng-class=\\\"{'gantt-column-last': $last, 'gantt-column-first': $first}\\\"></div> </script> <script type=text/ng-template id=template/ganttTimeFrame.tmpl.html> <div class=\\\"gantt-timeframe\\\"></div> </script> <script type=text/ng-template id=template/ganttScrollable.tmpl.html> <div ng-transclude class=\\\"gantt-scrollable\\\" gantt-scroll-sender ng-style=\\\"getScrollableCss()\\\"></div> </script> <script type=text/ng-template id=template/ganttScrollableHeader.tmpl.html> <div ng-transclude class=\\\"gantt-scrollable-header\\\" ng-style=\\\"getScrollableHeaderCss()\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyRows.tmpl.html> <div ng-transclude class=\\\"gantt-body-rows\\\"></div> </script> <script type=text/ng-template id=template/ganttTimespan.tmpl.html> <div class=\\\"gantt-timespan\\\" ng-class=\\\"timespan.model.classes\\\">\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTask.tmpl.html> <div class=\\\"gantt-task\\\" ng-class=\\\"task.model.classes\\\">\\r\\n            <gantt-task-background></gantt-task-background>\\r\\n            <gantt-task-foreground></gantt-task-foreground>\\r\\n            <gantt-task-content></gantt-task-content>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTaskBackground.tmpl.html> <div class=\\\"gantt-task-background\\\" ng-style=\\\"{'background': task.model.color}\\\"></div> </script> <script type=text/ng-template id=template/ganttTaskForeground.tmpl.html> <div class=\\\"gantt-task-foreground\\\">\\r\\n            <div ng-if=\\\"task.truncatedRight\\\" class=\\\"gantt-task-truncated-right\\\" ng-style=\\\"{'padding-right': task.truncatedRightOffset + 'px'}\\\">&gt;</div>\\r\\n            <div ng-if=\\\"task.truncatedLeft\\\" class=\\\"gantt-task-truncated-left\\\" ng-style=\\\"{'padding-left': task.truncatedLeftOffset + 'px'}\\\">&lt;</div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTaskContent.tmpl.html> <div class=\\\"gantt-task-content\\\" unselectable=\\\"on\\\"><span unselectable=\\\"on\\\" gantt-bind-compile-html=\\\"getTaskContent()\\\"/></div> </script> <script type=text/ng-template id=template/ganttRowBackground.tmpl.html> <div class=\\\"gantt-row gantt-row-height\\\"\\r\\n             ng-class=\\\"row.model.classes\\\"\\r\\n             ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n             ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n             ng-style=\\\"{'height': row.model.height}\\\">\\r\\n            <div class=\\\"gantt-row-background\\\"\\r\\n                 ng-style=\\\"{'background-color': row.model.color}\\\">\\r\\n            </div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttRow.tmpl.html> <div class=\\\"gantt-row gantt-row-height\\\"\\r\\n             ng-class=\\\"row.model.classes\\\"\\r\\n             ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n             ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n             ng-style=\\\"{'height': row.model.height}\\\">\\r\\n            <div ng-transclude class=\\\"gantt-row-content\\\"></div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttSideBackground.tmpl.html> <div class=\\\"gantt-side-background\\\">\\r\\n            <div class=\\\"gantt-side-background-header\\\" ng-style=\\\"{height: $parent.ganttHeaderHeight + 'px'}\\\">\\r\\n                <div ng-show=\\\"$parent.ganttHeaderHeight\\\" class=\\\"gantt-header-row gantt-side-header-row\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"gantt-side-background-body\\\" ng-style=\\\"getMaxHeightCss()\\\">\\r\\n                <div gantt-vertical-scroll-receiver>\\r\\n                    <div class=\\\"gantt-row gantt-row-height \\\"\\r\\n                         ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n                         ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n                         ng-class=\\\"row.model.classes\\\"\\r\\n                         ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"\\r\\n                         ng-style=\\\"{'height': row.model.height}\\\">\\r\\n                        <div class=\\\"gantt-row-label gantt-row-background\\\"\\r\\n                             ng-style=\\\"{'background-color': row.model.color}\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div> </script> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n/***/ })\n],[261]);\n});\n\n\n// WEBPACK FOOTER //\n// angular-gantt-demo.js","import angular, {IFilterService} from 'angular'\r\n\r\nrequire('./template/gantt.tmpl.html')\r\nrequire('./gantt.css')\r\n\r\nimport ganttDirective from './core/gantt.directive'\r\nimport ganttResizerDirective from './core/ui/resizer/resizer.directive'\r\nimport ganttContainerHeightListenerDirective from './core/ui/size/containerHeightListener.directive'\r\nimport ganttContainerWidthListenerDirective from './core/ui/size/containerWidthListener.directive'\r\nimport ganttElementHeightListenerDirective from './core/ui/size/elementHeightListener.directive'\r\nimport ganttElementWidthListenerDirective from './core/ui/size/elementWidthListener.directive'\r\nimport ganttHorizontalScrollReceiverDirective from './core/ui/scroll/horizontalScrollReceiver.directive'\r\nimport ganttScrollableDirective from './core/ui/scroll/scrollable.directive'\r\nimport ganttScrollManagerDirective from './core/ui/scroll/scrollManager.directive'\r\nimport ganttScrollSenderDirective from './core/ui/scroll/scrollSender.directive'\r\nimport ganttVerticalScrollReceiver from './core/ui/scroll/verticalScrollReceiver.directive'\r\nimport ganttBodyDirective from './core/ui/template/body.directive'\r\nimport ganttBodyBackgroundDirective from './core/ui/template/bodyBackground.directive'\r\nimport ganttBodyColumnsDirective from './core/ui/template/bodyColumns.directive'\r\nimport ganttBodyForegroundDirective from './core/ui/template/bodyForeground.directive'\r\nimport ganttBodyRowsDirective from './core/ui/template/bodyRows.directive'\r\nimport ganttColumnDirective from './core/ui/template/column.directive'\r\nimport ganttColumnHeaderDirective from './core/ui/template/columnHeader.directive'\r\nimport ganttHeaderDirective from './core/ui/template/header.directive'\r\nimport ganttHeaderColumnsDirective from './core/ui/template/headerColumns.directive'\r\nimport ganttRowDirective from './core/ui/template/row.directive'\r\nimport ganttRowBackgroundDirective from './core/ui/template/rowBackground.directive'\r\nimport ganttRowLabelDirective from './core/ui/template/rowLabel.directive'\r\nimport ganttScrollableHeaderDirective from './core/ui/template/scrollableHeader.directive'\r\nimport ganttSideDirective from './core/ui/template/side.directive'\r\nimport ganttSideBackgroundDirective from './core/ui/template/sideBackground.directive'\r\nimport ganttSideContentDirective from './core/ui/template/sideContent.directive'\r\nimport ganttTaskDirective from './core/ui/template/task.directive'\r\nimport ganttTaskBackgroundDirective from './core/ui/template/taskBackground.directive'\r\nimport ganttTaskContentDirective from './core/ui/template/taskContent.directive'\r\nimport ganttTaskForegroundDirective from './core/ui/template/taskForeground.directive'\r\nimport ganttTimeFrameDirective from './core/ui/template/timeFrame.directive'\r\nimport ganttTimespanDirective from './core/ui/template/timespan.directive'\r\nimport ganttBindCompileHtmlDirective from './core/ui/util/ganttBindCompileHtml.directive'\r\n\r\nimport ganttFactory from './core/logic/gantt.factory'\r\nimport ganttApiFactory from './core/logic/api/api.factory'\r\nimport ganttOptionsFactory from './core/logic/api/options.factory'\r\nimport ganttCalendarFactory from './core/logic/calendar/calendar.factory'\r\nimport ganttScrollFactory from './core/logic/template/scroll.factory'\r\nimport ganttBodyFactory from './core/logic/template/body.factory'\r\nimport ganttBodyColumnsFactory from './core/logic/template/bodyColumns.factory'\r\nimport ganttBodyRowsFactory from './core/logic/template/bodyRows.factory'\r\nimport ganttBodyBackgroundFactory from './core/logic/template/bodyBackground.factory'\r\nimport ganttBodyForegroundFactory from './core/logic/template/bodyForeground.factory'\r\nimport ganttHeaderFactory from './core/logic/template/header.factory'\r\nimport ganttHeaderColumnsFactory from './core/logic/template/headerColumns.factory'\r\nimport ganttSideFactory from './core/logic/template/side.factory'\r\nimport ganttObjectModelFactory from './core/logic/model/objectModel.factory'\r\nimport ganttTaskFactory from './core/logic/task/task.factory'\r\nimport ganttRowFactory from './core/logic/row/row.factory'\r\nimport ganttRowsManagerFactory from './core/logic/row/rowsManager.factory'\r\nimport ganttColumnFactory from './core/logic/column/column.factory'\r\nimport ganttColumnBuilderFactory from './core/logic/column/columnBuilder.factory'\r\nimport ganttColumnHeaderFactory from './core/logic/column/columnHeader.factory'\r\nimport ganttColumnsManagerFactory from './core/logic/column/columnsManager.factory'\r\nimport ganttTimespanFactory from './core/logic/timespan/timespan.factory'\r\nimport ganttTimespansManagerFactory from './core/logic/timespan/timespansManager.factory'\r\nimport ganttCurrentDateManagerFactory from './core/logic/calendar/currentDateManager.factory'\r\nimport ganttHierarchyFactory from './core/logic/util/hierarchy.factory'\r\nimport ganttDebounceFactory from './core/ui/util/debounce.factory'\r\nimport ganttSmartEventFactory from './core/ui/util/smartEvent.factory'\r\nimport ganttDirectiveBuilderFactory from './core/ui/util/directiveBuilder.factory'\r\n\r\nimport ganttEnableNgAnimateService from './core/ui/util/enableNgAnimate.service'\r\nimport ganttUtilsService from './core/logic/util/utils.service'\r\nimport ganttArraysService from './core/logic/util/arrays.service'\r\nimport ganttBinarySearchService from './core/logic/util/binarySearch.service'\r\nimport ganttLayoutService from './core/ui/util/layout.service'\r\nimport ganttHeadersGeneratorService from './core/logic/column/headersGenerator.service'\r\nimport ganttColumnGeneratorService from './core/logic/column/columnGenerator.service'\r\nimport ganttDomService from './core/ui/util/dom.service'\r\nimport ganttMouseButtonService from './core/ui/util/mouseButton.service'\r\nimport ganttMouseOffsetService from './core/ui/util/mouseOffset.service'\r\n\r\nimport ganttColumnLimitFilter, {IFilterGanttColumnLimit} from './core/ui/limit/columnLimit.filter'\r\nimport ganttTaskLimitFilter, {IFilterGanttTaskLimit} from './core/ui/limit/taskLimit.filter'\r\n\r\nconst module = 'gantt'\r\n\r\nangular\r\n  .module(module, [])\r\n  .directive('gantt', ganttDirective)\r\n  .directive('ganttResizer', ganttResizerDirective)\r\n  .directive('ganttContainerWidthListener', ganttContainerWidthListenerDirective)\r\n  .directive('ganttContainerHeightListener', ganttContainerHeightListenerDirective)\r\n  .directive('ganttElementWidthListener', ganttElementWidthListenerDirective)\r\n  .directive('ganttElementHeightListener', ganttElementHeightListenerDirective)\r\n  .directive('ganttHorizontalScrollReceiver', ganttHorizontalScrollReceiverDirective)\r\n  .directive('ganttScrollable', ganttScrollableDirective)\r\n  .directive('ganttScrollManager', ganttScrollManagerDirective)\r\n  .directive('ganttScrollSender', ganttScrollSenderDirective)\r\n  .directive('ganttVerticalScrollReceiver', ganttVerticalScrollReceiver)\r\n  .directive('ganttBindCompileHtml', ganttBindCompileHtmlDirective)\r\n  .directive('ganttBody', ganttBodyDirective)\r\n  .directive('ganttBodyBackground', ganttBodyBackgroundDirective)\r\n  .directive('ganttBodyColumns', ganttBodyColumnsDirective)\r\n  .directive('ganttBodyForeground', ganttBodyForegroundDirective)\r\n  .directive('ganttBodyRows', ganttBodyRowsDirective)\r\n  .directive('ganttColumn', ganttColumnDirective)\r\n  .directive('ganttColumnHeader', ganttColumnHeaderDirective)\r\n  .directive('ganttHeader', ganttHeaderDirective)\r\n  .directive('ganttHeaderColumns', ganttHeaderColumnsDirective)\r\n  .directive('ganttRow', ganttRowDirective)\r\n  .directive('ganttRowBackground', ganttRowBackgroundDirective)\r\n  .directive('ganttRowLabel', ganttRowLabelDirective)\r\n  .directive('ganttScrollableHeader', ganttScrollableHeaderDirective)\r\n  .directive('ganttSide', ganttSideDirective)\r\n  .directive('ganttSideBackground', ganttSideBackgroundDirective)\r\n  .directive('ganttSideContent', ganttSideContentDirective)\r\n  .directive('ganttTask', ganttTaskDirective)\r\n  .directive('ganttTaskBackground', ganttTaskBackgroundDirective)\r\n  .directive('ganttTaskContent', ganttTaskContentDirective)\r\n  .directive('ganttTaskForeground', ganttTaskForegroundDirective)\r\n  .directive('ganttTimeFrame', ganttTimeFrameDirective)\r\n  .directive('ganttTimespan', ganttTimespanDirective)\r\n  .factory('GanttDirectiveBuilder', ganttDirectiveBuilderFactory)\r\n  .factory('Gantt', ganttFactory)\r\n  .factory('GanttApi', ganttApiFactory)\r\n  .factory('GanttOptions', ganttOptionsFactory)\r\n  .factory('GanttCalendar', ganttCalendarFactory)\r\n  .factory('GanttScroll', ganttScrollFactory)\r\n  .factory('GanttBody', ganttBodyFactory)\r\n  .factory('GanttBodyColumns', ganttBodyColumnsFactory)\r\n  .factory('GanttBodyRows', ganttBodyRowsFactory)\r\n  .factory('GanttBodyBackground', ganttBodyBackgroundFactory)\r\n  .factory('GanttBodyForeground', ganttBodyForegroundFactory)\r\n  .factory('GanttHeader', ganttHeaderFactory)\r\n  .factory('GanttHeaderColumns', ganttHeaderColumnsFactory)\r\n  .factory('GanttSide', ganttSideFactory)\r\n  .factory('GanttObjectModel', ganttObjectModelFactory)\r\n  .factory('GanttTask', ganttTaskFactory)\r\n  .factory('GanttRow', ganttRowFactory)\r\n  .factory('GanttRowsManager', ganttRowsManagerFactory)\r\n  .factory('GanttColumn', ganttColumnFactory)\r\n  .factory('GanttColumnHeader', ganttColumnHeaderFactory)\r\n  .factory('GanttColumnBuilder', ganttColumnBuilderFactory)\r\n  .factory('GanttColumnsManager', ganttColumnsManagerFactory)\r\n  .factory('GanttTimespan', ganttTimespanFactory)\r\n  .factory('GanttTimespansManager', ganttTimespansManagerFactory)\r\n  .factory('GanttCurrentDateManager', ganttCurrentDateManagerFactory)\r\n  .factory('GanttHierarchy', ganttHierarchyFactory)\r\n  .factory('ganttDebounce', ganttDebounceFactory)\r\n  .factory('GanttSmartEvent', ganttSmartEventFactory)\r\n  .service('ganttEnableNgAnimate', ganttEnableNgAnimateService)\r\n  .service('ganttUtils', ganttUtilsService)\r\n  .service('ganttArrays', ganttArraysService)\r\n  .service('ganttBinarySearch', ganttBinarySearchService)\r\n  .service('ganttLayout', ganttLayoutService)\r\n  .service('GanttHeadersGenerator', ganttHeadersGeneratorService)\r\n  .service('GanttColumnGenerator', ganttColumnGeneratorService)\r\n  .service('ganttDom', ganttDomService)\r\n  .service('ganttMouseButton', ganttMouseButtonService)\r\n  .service('ganttMouseOffset', ganttMouseOffsetService)\r\n  .filter('ganttColumnLimit', ganttColumnLimitFilter)\r\n  .filter('ganttTaskLimit', ganttTaskLimitFilter)\r\n\r\nexport interface IGanttFilterService extends IFilterService {\r\n  (name: 'ganttTaskLimit'): IFilterGanttTaskLimit\r\n  (name: 'ganttColumnLimit'): IFilterGanttColumnLimit\r\n}\r\n\r\nexport default module\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/index.ts","import moment, {unitOfTime} from 'moment'\r\nimport {IAugmentedJQuery} from 'angular'\r\nimport {GanttCalendar, TimeFrame, TimeFramesDisplayMode} from '../calendar/calendar.factory'\r\n\r\n/**\r\n * Used to display the Gantt grid and header.\r\n * The columns are generated by the column generator.\r\n */\r\nexport class GanttColumn {\r\n  date: moment.Moment\r\n  endDate: moment.Moment\r\n  left: number\r\n  width: number\r\n  duration: number\r\n  originalSize: { left: number; width: number }\r\n  $element: IAugmentedJQuery\r\n  calendar: GanttCalendar\r\n  timeFramesWorkingMode: TimeFramesDisplayMode\r\n  timeFramesNonWorkingMode: TimeFramesDisplayMode\r\n\r\n  timeFrames: TimeFrame[] = []\r\n  visibleTimeFrames: TimeFrame[] = []\r\n  daysTimeFrames: { [dateKey: string]: TimeFrame[] } = {}\r\n\r\n  currentDate = false\r\n  cropped = false\r\n\r\n  constructor (date: moment.Moment,\r\n              endDate: moment.Moment,\r\n              left: number,\r\n              width: number,\r\n              calendar?: GanttCalendar,\r\n              timeFramesWorkingMode?: TimeFramesDisplayMode,\r\n              timeFramesNonWorkingMode?: TimeFramesDisplayMode) {\r\n    this.date = date\r\n    this.endDate = endDate\r\n    this.left = left\r\n    this.width = width\r\n    this.calendar = calendar\r\n    this.duration = this.endDate.diff(this.date, 'milliseconds')\r\n    this.timeFramesWorkingMode = timeFramesWorkingMode\r\n    this.timeFramesNonWorkingMode = timeFramesNonWorkingMode\r\n    this.timeFrames = []\r\n    this.visibleTimeFrames = []\r\n    this.daysTimeFrames = {}\r\n    this.originalSize = {left: this.left, width: this.width}\r\n    this.updateTimeFrames()\r\n  }\r\n\r\n  private getDateKey (date: moment.Moment) {\r\n    return date.year() + '-' + date.month() + '-' + date.date()\r\n  }\r\n\r\n  updateView () {\r\n    if (this.$element) {\r\n      if (this.currentDate) {\r\n        this.$element.addClass('gantt-foreground-col-current-date')\r\n      } else {\r\n        this.$element.removeClass('gantt-foreground-col-current-date')\r\n      }\r\n\r\n      this.$element.css({'left': this.left + 'px', 'width': this.width + 'px'})\r\n      this.timeFrames.forEach((timeFrame) => timeFrame.updateView())\r\n    }\r\n  }\r\n\r\n  updateTimeFrames () {\r\n    if (this.calendar !== undefined && (this.timeFramesNonWorkingMode !== 'hidden' || this.timeFramesWorkingMode !== 'hidden')) {\r\n      let cDate = this.date\r\n      let cDateStartOfDay = moment(cDate).startOf('day')\r\n      let cDateNextDay = cDateStartOfDay.add(1, 'day')\r\n      let i\r\n      while (cDate < this.endDate) {\r\n        let timeFrames = this.calendar.getTimeFrames(cDate)\r\n        let nextCDate = moment.min(cDateNextDay, this.endDate)\r\n        timeFrames = this.calendar.solve(timeFrames, cDate, nextCDate)\r\n        let cTimeFrames = []\r\n        for (i = 0; i < timeFrames.length; i++) {\r\n          let cTimeFrame = timeFrames[i]\r\n\r\n          let start = cTimeFrame.start\r\n          if (start === undefined) {\r\n            start = cDate\r\n          }\r\n\r\n          let end = cTimeFrame.end\r\n          if (end === undefined) {\r\n            end = nextCDate\r\n          }\r\n\r\n          if (start < this.date) {\r\n            start = this.date\r\n          }\r\n\r\n          if (end > this.endDate) {\r\n            end = this.endDate\r\n          }\r\n\r\n          cTimeFrame = cTimeFrame.clone()\r\n\r\n          cTimeFrame.start = moment(start)\r\n          cTimeFrame.end = moment(end)\r\n\r\n          cTimeFrames.push(cTimeFrame)\r\n        }\r\n        this.timeFrames = this.timeFrames.concat(cTimeFrames)\r\n\r\n        let cDateKey = this.getDateKey(cDate)\r\n        this.daysTimeFrames[cDateKey] = cTimeFrames\r\n\r\n        cDate = nextCDate\r\n        cDateStartOfDay = moment(cDate).startOf('day')\r\n        cDateNextDay = cDateStartOfDay.add(1, 'day')\r\n      }\r\n\r\n      for (i = 0; i < this.timeFrames.length; i++) {\r\n        let timeFrame = this.timeFrames[i]\r\n\r\n        let positionDuration = timeFrame.start.diff(this.date, 'milliseconds')\r\n        let position = positionDuration / this.duration * this.width\r\n\r\n        let timeFrameDuration = timeFrame.end.diff(timeFrame.start, 'milliseconds')\r\n        let timeFramePosition = timeFrameDuration / this.duration * this.width\r\n\r\n        let hidden = false\r\n        if (timeFrame.working && this.timeFramesWorkingMode !== 'visible') {\r\n          hidden = true\r\n        } else if (!timeFrame.working && this.timeFramesNonWorkingMode !== 'visible') {\r\n          hidden = true\r\n        }\r\n\r\n        if (!hidden) {\r\n          this.visibleTimeFrames.push(timeFrame)\r\n        }\r\n\r\n        timeFrame.hidden = hidden\r\n        timeFrame.left = position\r\n        timeFrame.width = timeFramePosition\r\n        timeFrame.originalSize = {left: timeFrame.left, width: timeFrame.width}\r\n      }\r\n\r\n      if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\r\n        let timeFramesWidth = 0\r\n        for (let aTimeFrame of this.timeFrames) {\r\n          if (!aTimeFrame.working && this.timeFramesNonWorkingMode !== 'cropped' ||\r\n            aTimeFrame.working && this.timeFramesWorkingMode !== 'cropped') {\r\n            timeFramesWidth += aTimeFrame.width\r\n          }\r\n        }\r\n\r\n        if (timeFramesWidth !== this.width) {\r\n          let croppedRatio = this.width / timeFramesWidth\r\n          let croppedWidth = 0\r\n          let originalCroppedWidth = 0\r\n\r\n          let allCropped = true\r\n\r\n          for (let bTimeFrame of this.timeFrames) {\r\n            if (!bTimeFrame.working && this.timeFramesNonWorkingMode !== 'cropped' ||\r\n              bTimeFrame.working && this.timeFramesWorkingMode !== 'cropped') {\r\n              bTimeFrame.left = (bTimeFrame.left - croppedWidth) * croppedRatio\r\n              bTimeFrame.width = bTimeFrame.width * croppedRatio\r\n              bTimeFrame.originalSize.left = (bTimeFrame.originalSize.left - originalCroppedWidth) * croppedRatio\r\n              bTimeFrame.originalSize.width = bTimeFrame.originalSize.width * croppedRatio\r\n              bTimeFrame.cropped = false\r\n              allCropped = false\r\n            } else {\r\n              croppedWidth += bTimeFrame.width\r\n              originalCroppedWidth += bTimeFrame.originalSize.width\r\n              bTimeFrame.left = undefined\r\n              bTimeFrame.width = 0\r\n              bTimeFrame.originalSize = {left: undefined, width: 0}\r\n              bTimeFrame.cropped = true\r\n            }\r\n          }\r\n\r\n          this.cropped = allCropped\r\n        } else {\r\n          this.cropped = false\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clone () {\r\n    return new GanttColumn(moment(this.date), moment(this.endDate), this.left, this.width, this.calendar)\r\n  }\r\n\r\n  containsDate (date: moment.Moment) {\r\n    return date > this.date && date <= this.endDate\r\n  }\r\n\r\n  equals (other: GanttColumn) {\r\n    return this.date === other.date\r\n  }\r\n\r\n  roundTo (date: moment.Moment, unit: unitOfTime.All, offset: number, midpoint?: 'up' | 'down') {\r\n    // Waiting merge of https://github.com/moment/moment/pull/1794\r\n    if (unit === 'day') {\r\n      // Inconsistency in units in momentJS.\r\n      unit = 'date'\r\n    }\r\n\r\n    offset = offset || 1\r\n    let value = date.get(unit)\r\n\r\n    switch (midpoint) {\r\n      case 'up':\r\n        value = Math.ceil(value / offset)\r\n        break\r\n      case 'down':\r\n        value = Math.floor(value / offset)\r\n        break\r\n      default:\r\n        value = Math.round(value / offset)\r\n        break\r\n    }\r\n\r\n    let units = ['millisecond', 'second', 'minute', 'hour', 'date', 'month', 'year'] as unitOfTime.All[]\r\n    date.set(unit, value * offset)\r\n\r\n    let indexOf = units.indexOf(unit)\r\n    for (let i = 0; i < indexOf; i++) {\r\n      date.set(units[i], 0)\r\n    }\r\n\r\n    return date\r\n  }\r\n\r\n  getMagnetDate (date: moment.Moment, magnetValue?: number, magnetUnit?: unitOfTime.All, timeFramesMagnet?: boolean) {\r\n    if (magnetValue > 0 && magnetUnit !== undefined) {\r\n      let initialDate = date\r\n      date = moment(date)\r\n\r\n      if (magnetUnit as string === 'column') {\r\n        // Snap to column borders only.\r\n        let position = this.getPositionByDate(date)\r\n\r\n        if (position < this.width / 2) {\r\n          date = moment(this.date)\r\n        } else {\r\n          date = moment(this.endDate)\r\n        }\r\n      } else {\r\n        // Round the value\r\n        date = this.roundTo(date, magnetUnit, magnetValue)\r\n\r\n        // Snap to column borders if date overflows.\r\n        if (date < this.date) {\r\n          date = moment(this.date)\r\n        } else if (date > this.endDate) {\r\n          date = moment(this.endDate)\r\n        }\r\n      }\r\n\r\n      if (timeFramesMagnet) {\r\n        let maxTimeFrameDiff = Math.abs(initialDate.diff(date, 'milliseconds'))\r\n        let currentTimeFrameDiff\r\n\r\n        for (let i = 0; i < this.timeFrames.length; i++) {\r\n          let timeFrame = this.timeFrames[i]\r\n          if (timeFrame.magnet) {\r\n            let previousTimeFrame = this.timeFrames[i - 1]\r\n            let nextTimeFrame = this.timeFrames[i + 1]\r\n            let timeFrameDiff\r\n\r\n            if (previousTimeFrame === undefined || previousTimeFrame.working !== timeFrame.working) {\r\n              timeFrameDiff = Math.abs(initialDate.diff(timeFrame.start, 'milliseconds'))\r\n              if (timeFrameDiff < maxTimeFrameDiff && (currentTimeFrameDiff === undefined || timeFrameDiff < currentTimeFrameDiff)) {\r\n                currentTimeFrameDiff = timeFrameDiff\r\n                date = timeFrame.start\r\n              }\r\n            }\r\n\r\n            if (nextTimeFrame === undefined || nextTimeFrame.working !== timeFrame.working) {\r\n              timeFrameDiff = Math.abs(initialDate.diff(timeFrame.end, 'milliseconds'))\r\n              if (timeFrameDiff < maxTimeFrameDiff && (currentTimeFrameDiff === undefined || timeFrameDiff < currentTimeFrameDiff)) {\r\n                currentTimeFrameDiff = timeFrameDiff\r\n                date = timeFrame.end\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return date\r\n  }\r\n\r\n  getDateByPositionUsingTimeFrames (position: number) {\r\n    for (let timeFrame of this.timeFrames) {\r\n      if (!timeFrame.cropped && position >= timeFrame.left && position <= timeFrame.left + timeFrame.width) {\r\n        let positionDuration = timeFrame.getDuration() / timeFrame.width * (position - timeFrame.left)\r\n        let date = moment(timeFrame.start).add(positionDuration, 'milliseconds')\r\n        return date\r\n      }\r\n    }\r\n  }\r\n\r\n  getDateByPosition (position: number, magnetValue?: number, magnetUnit?: unitOfTime.All, timeFramesMagnet?: boolean) {\r\n    let date\r\n\r\n    if (position < 0) {\r\n      position = 0\r\n    }\r\n    if (position > this.width) {\r\n      position = this.width\r\n    }\r\n\r\n    if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\r\n      date = this.getDateByPositionUsingTimeFrames(position)\r\n    }\r\n\r\n    if (date === undefined) {\r\n      let positionDuration = this.duration / this.width * position\r\n      date = moment(this.date).add(positionDuration, 'milliseconds')\r\n    }\r\n\r\n    date = this.getMagnetDate(date, magnetValue, magnetUnit, timeFramesMagnet)\r\n\r\n    return date\r\n  }\r\n\r\n  getDayTimeFrame (date: moment.Moment) {\r\n    let dtf = this.daysTimeFrames[this.getDateKey(date)]\r\n    if (dtf === undefined) {\r\n      return []\r\n    }\r\n    return dtf\r\n  }\r\n\r\n  getPositionByDate (date: moment.Moment) {\r\n    let croppedDate = date\r\n\r\n    if (this.timeFramesNonWorkingMode === 'cropped' || this.timeFramesWorkingMode === 'cropped') {\r\n      let timeFrames = this.getDayTimeFrame(croppedDate)\r\n      for (let i = 0; i < timeFrames.length; i++) {\r\n        let timeFrame = timeFrames[i]\r\n        if (croppedDate >= timeFrame.start && croppedDate <= timeFrame.end) {\r\n          if (timeFrame.cropped) {\r\n            if (timeFrames.length > i + 1) {\r\n              croppedDate = timeFrames[i + 1].start\r\n            } else {\r\n              croppedDate = timeFrame.end\r\n            }\r\n          } else {\r\n            let positionDuration = croppedDate.diff(timeFrame.start, 'milliseconds')\r\n            let position = positionDuration / timeFrame.getDuration() * timeFrame.width\r\n            return this.left + timeFrame.left + position\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let positionDuration = croppedDate.diff(this.date, 'milliseconds')\r\n    let position = positionDuration / this.duration * this.width\r\n\r\n    if (position < 0) {\r\n      position = 0\r\n    }\r\n\r\n    if (position > this.width) {\r\n      position = this.width\r\n    }\r\n\r\n    return this.left + position\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttColumn\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/column/column.factory.ts","// This file is adapted from Angular UI ngGrid project\r\n// MIT License\r\n// https://github.com/angular-ui/ng-grid/blob/v3.0.0-rc.20/src/js/core/factories/GridApi.js\r\nimport {IQService, IRootScopeService} from 'angular'\r\n\r\nimport GanttUtilsService from '../util/utils.service'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\n/**\r\n * @ngdoc function\r\n * @name gantt.class:GanttApi\r\n * @description GanttApi provides the ability to register public methods events inside the gantt and allow\r\n * for other components to use the api via featureName.raise.methodName and featureName.on.eventName(function(args){}.\r\n * @param {object} gantt gantt that owns api\r\n */\r\nexport class GanttApi {\r\n  static $q: IQService\r\n  static $rootScope: IRootScopeService\r\n  static ganttUtils: GanttUtilsService\r\n\r\n  private gantt: Gantt\r\n  private listeners: any[]\r\n  private apiId: number\r\n\r\n  constructor (gantt) {\r\n    this.gantt = gantt\r\n    this.listeners = []\r\n    this.apiId = GanttApi.ganttUtils.newId()\r\n  }\r\n\r\n  private registerEventWithAngular (eventId, handler, gantt, _this) {\r\n    return GanttApi.$rootScope.$on(eventId, function () {\r\n      let args = Array.prototype.slice.call(arguments)\r\n      args.splice(0, 1) // remove evt argument\r\n      handler.apply(_this ? _this : gantt.api, args)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @ngdoc function\r\n   * @name gantt.class:suppressEvents\r\n   * @methodOf gantt.class:GanttApi\r\n   * @description Used to execute a function while disabling the specified event listeners.\r\n   * Disables the listenerFunctions, executes the callbackFn, and then enables\r\n   * the listenerFunctions again\r\n   * @param {object} listenerFuncs listenerFunc or array of listenerFuncs to suppress. These must be the same\r\n   * functions that were used in the .on.eventName method\r\n   * @param {object} callBackFn function to execute\r\n   * @example\r\n   * <pre>\r\n   *    let navigate = function (newRowCol, oldRowCol){\r\n   *       //do something on navigate\r\n   *    }\r\n   *\r\n   *    ganttApi.cellNav.on.navigate(scope,navigate);\r\n   *\r\n   *\r\n   *    //call the scrollTo event and suppress our navigate listener\r\n   *    //scrollTo will still raise the event for other listeners\r\n   *    ganttApi.suppressEvents(navigate, function(){\r\n   *       ganttApi.cellNav.scrollTo(aRow, aCol);\r\n   *    });\r\n   *\r\n   * </pre>\r\n   */\r\n  suppressEvents (listenerFuncs, callBackFn) {\r\n    let listeners = Array.isArray(listenerFuncs) ? listenerFuncs : [listenerFuncs]\r\n\r\n    // find all registered listeners\r\n    let foundListeners = []\r\n    listeners.forEach((l) => {\r\n      foundListeners = this.listeners.filter((lstnr) => l === lstnr.handler)\r\n    })\r\n\r\n    // deregister all the listeners\r\n    foundListeners.forEach((l) => l.dereg())\r\n\r\n    callBackFn()\r\n\r\n    // reregister all the listeners\r\n    foundListeners.forEach((l) => {\r\n      l.dereg = this.registerEventWithAngular(l.eventId, l.handler, this.gantt, l._this)\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * @ngdoc function\r\n   * @name registerEvent\r\n   * @methodOf gantt.class:GanttApi\r\n   * @description Registers a new event for the given feature.  The event will get a\r\n   * .raise and .on prepended to it\r\n   * <br>\r\n   * .raise.eventName() - takes no arguments\r\n   * <br/>\r\n   * <br/>\r\n   * .on.eventName(scope, callBackFn, _this)\r\n   * <br/>\r\n   * scope - a scope reference to add a deregister call to the scopes .$on('destroy')\r\n   * <br/>\r\n   * callBackFn - The function to call\r\n   * <br/>\r\n   * _this - optional this context variable for callbackFn. If omitted, gantt.api will be used for the context\r\n   * <br/>\r\n   * .on.eventName returns a dereg funtion that will remove the listener.  It's not necessary to use it as the listener\r\n   * will be removed when the scope is destroyed.\r\n   * @param {string} featureName name of the feature that raises the event\r\n   * @param {string} eventName  name of the event\r\n   */\r\n  registerEvent (featureName, eventName) {\r\n    if (!this[featureName]) {\r\n      this[featureName] = {}\r\n    }\r\n\r\n    let feature = this[featureName]\r\n    if (!feature.on) {\r\n      feature.on = {}\r\n      feature.raise = {}\r\n    }\r\n\r\n    let eventId = 'event:gantt:' + this.apiId + ':' + featureName + ':' + eventName\r\n\r\n    // Creating raise event method featureName.raise.eventName\r\n    feature.raise[eventName] = function () {\r\n      GanttApi.$rootScope.$emit.apply(GanttApi.$rootScope, [eventId].concat(Array.prototype.slice.call(arguments)))\r\n    }\r\n\r\n    // Creating on event method featureName.oneventName\r\n    feature.on[eventName] = (scope, handler, _this) => {\r\n      let deregAngularOn = this.registerEventWithAngular(eventId, handler, this.gantt, _this)\r\n\r\n      // track our listener so we can turn off and on\r\n      let listener = {\r\n        handler: handler,\r\n        dereg: deregAngularOn,\r\n        eventId: eventId,\r\n        scope: scope,\r\n        _this: _this\r\n      }\r\n      this.listeners.push(listener)\r\n\r\n      let removeListener = () => {\r\n        listener.dereg()\r\n        let index = this.listeners.indexOf(listener)\r\n        this.listeners.splice(index, 1)\r\n      }\r\n\r\n      // destroy tracking when scope is destroyed\r\n      scope.$on('$destroy', function () {\r\n        removeListener()\r\n      })\r\n\r\n      return removeListener\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @ngdoc function\r\n   * @name registerEventsFromObject\r\n   * @methodOf gantt.class:GanttApi\r\n   * @description Registers features and events from a simple objectMap.\r\n   * eventObjectMap must be in this format (multiple features allowed)\r\n   * <pre>\r\n   * {featureName:\r\n   *        {\r\n   *          eventNameOne:function(args){},\r\n   *          eventNameTwo:function(args){}\r\n   *        }\r\n   *  }\r\n   * </pre>\r\n   * @param {object} eventObjectMap map of feature/event names\r\n   */\r\n  registerEventsFromObject (eventObjectMap) {\r\n    let features = []\r\n    for (let featPropName in eventObjectMap) {\r\n      let featProp = eventObjectMap[featPropName]\r\n      let feature = {name: featPropName, events: []}\r\n      for (let propName in featProp) {\r\n        feature.events.push(propName)\r\n      }\r\n      features.push(feature)\r\n    }\r\n\r\n    for (let feature of features) {\r\n      feature.events.forEach((event) => {\r\n        this.registerEvent(feature.name, event)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * @ngdoc function\r\n   * @name registerMethod\r\n   * @methodOf gantt.class:GanttApi\r\n   * @description Registers a new event for the given feature\r\n   * @param {string} featureName name of the feature\r\n   * @param {string} methodName  name of the method\r\n   * @param {object} callBackFn function to execute\r\n   * @param {object} _this binds callBackFn 'this' to _this.  Defaults to ganttApi.gantt\r\n   */\r\n  registerMethod (featureName, methodName, callBackFn, _this) {\r\n    if (!this[featureName]) {\r\n      this[featureName] = {}\r\n    }\r\n\r\n    let feature = this[featureName]\r\n\r\n    feature[methodName] = GanttApi.ganttUtils.createBoundedWrapper(_this || this.gantt, callBackFn)\r\n  }\r\n\r\n  /**\r\n   * @ngdoc function\r\n   * @name registerMethodsFromObject\r\n   * @methodOf gantt.class:GanttApi\r\n   * @description Registers features and methods from a simple objectMap.\r\n   * eventObjectMap must be in this format (multiple features allowed)\r\n   * <br>\r\n   * {featureName:\r\n   *        {\r\n   *          methodNameOne:function(args){},\r\n   *          methodNameTwo:function(args){}\r\n   *        }\r\n   * @param {object} methodMap map of feature/event names\r\n   * @param {object} _this binds this to _this for all functions.  Defaults to ganttApi.gantt\r\n   */\r\n  registerMethodsFromObject (methodMap, _this) {\r\n    let features = []\r\n    for (let featPropName in methodMap) {\r\n      let featProp = methodMap[featPropName]\r\n      let feature = {name: featPropName, methods: []}\r\n      for (let propName in featProp) {\r\n        let prop = featProp[propName]\r\n        feature.methods.push({name: propName, fn: prop})\r\n      }\r\n      features.push(feature)\r\n    }\r\n\r\n    for (let feature of features) {\r\n      for (let method of feature.methods) {\r\n        this.registerMethod(feature.name, method.name, method.fn, _this)\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default function ($q: IQService, $rootScope: IRootScopeService, ganttUtils: GanttUtilsService) {\r\n  'ngInject'\r\n\r\n  GanttApi.$q = $q\r\n  GanttApi.$rootScope = $rootScope\r\n  GanttApi.ganttUtils = ganttUtils\r\n  return GanttApi\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/api/api.factory.ts","export class GanttOptions {\r\n  private defaultValues: { [option: string]: any; }\r\n  private values: { [option: string]: any; }\r\n\r\n  constructor (values: { [option: string]: any; }, defaultValues: { [option: string]: any; }) {\r\n    this.defaultValues = defaultValues\r\n    this.values = values\r\n  }\r\n\r\n  defaultValue (optionName: string) {\r\n    let defaultValue = this.defaultValues[optionName]\r\n    if (typeof(defaultValue) === 'function') {\r\n      defaultValue = defaultValue()\r\n    }\r\n\r\n    return defaultValue\r\n  }\r\n\r\n  sanitize (optionName: string, optionValue: any) {\r\n    if (!optionValue) {\r\n      let defaultValue = this.defaultValue(optionName)\r\n      if (defaultValue !== undefined) {\r\n        if (optionValue !== undefined && typeof defaultValue === 'boolean') {\r\n          return optionValue\r\n        }\r\n\r\n        return defaultValue\r\n      }\r\n    }\r\n\r\n    return optionValue\r\n  }\r\n\r\n  value (optionName: string) {\r\n    return this.sanitize(optionName, this.values[optionName])\r\n  }\r\n\r\n  set (optionName: string, optionValue: any) {\r\n    this.values[optionName] = optionValue\r\n  }\r\n\r\n  initialize () {\r\n    for (let optionName in this.values) {\r\n      if (this.values.hasOwnProperty(optionName)) {\r\n        this.values[optionName] = this.value(optionName)\r\n      }\r\n    }\r\n    return this.values\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttOptions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/api/options.factory.ts","import {IAugmentedJQuery, IFilterService} from 'angular'\r\n\r\nimport moment, {MomentInput} from 'moment'\r\n\r\nexport type TimeFramesDisplayMode = 'visible' | 'cropped' | 'hidden'\r\n\r\nexport interface TimeFrameOptions {\r\n  start?: moment.Moment\r\n  end?: moment.Moment\r\n  working?: boolean\r\n  magnet?: boolean\r\n  default?: boolean\r\n  color?: string\r\n  classes?: string[]\r\n  internal?: boolean\r\n}\r\n\r\n/**\r\n * TimeFrame represents time frame in any day. parameters are given using options object.\r\n *\r\n * @param {moment|string} start start of timeFrame. If a string is given, it will be parsed as a moment.\r\n * @param {moment|string} end end of timeFrame. If a string is given, it will be parsed as a moment.\r\n * @param {boolean} working is this timeFrame flagged as working.\r\n * @param {boolean} magnet is this timeFrame will magnet.\r\n * @param {boolean} default is this timeFrame will be used as default.\r\n * @param {color} css color attached to this timeFrame.\r\n * @param {string} classes css classes attached to this timeFrame.\r\n *\r\n * @constructor\r\n */\r\nexport class TimeFrame implements TimeFrameOptions {\r\n  start?: moment.Moment\r\n  end?: moment.Moment\r\n  working?: boolean\r\n  magnet?: boolean\r\n  default?: boolean\r\n  color?: string\r\n  classes?: string[]\r\n  internal?: boolean\r\n\r\n  left: number\r\n  width: number\r\n  hidden: boolean\r\n  originalSize: { left: number; width: number }\r\n  cropped: boolean\r\n\r\n  $element: IAugmentedJQuery\r\n\r\n  constructor (options: TimeFrameOptions) {\r\n    if (options === undefined) {\r\n      options = {}\r\n    }\r\n\r\n    this.start = options.start\r\n    this.end = options.end\r\n    this.working = options.working\r\n    this.magnet = options.magnet !== undefined ? options.magnet : true\r\n    this.default = options.default\r\n    this.color = options.color\r\n    this.classes = options.classes\r\n    this.internal = options.internal\r\n  }\r\n\r\n  updateView () {\r\n    if (this.$element) {\r\n      let cssStyles = {}\r\n\r\n      if (this.left !== undefined) {\r\n        cssStyles['left'] = this.left + 'px'\r\n      } else {\r\n        cssStyles['left'] = ''\r\n      }\r\n      if (this.width !== undefined) {\r\n        cssStyles['width'] = this.width + 'px'\r\n      } else {\r\n        cssStyles['width'] = ''\r\n      }\r\n      cssStyles['opacity'] = 0.3\r\n\r\n      if (this.color !== undefined) {\r\n        cssStyles['background-color'] = this.color\r\n      } else {\r\n        cssStyles['background-color'] = ''\r\n      }\r\n\r\n      this.$element.css(cssStyles)\r\n\r\n      let classes = ['gantt-timeframe' + (this.working ? '' : '-non') + '-working']\r\n      if (this.classes) {\r\n        classes = classes.concat(this.classes)\r\n      }\r\n      // tslint:disable:one-variable-per-declaration\r\n      for (let i = 0, l = classes.length; i < l; i++) {\r\n        this.$element.toggleClass(classes[i], true)\r\n      }\r\n    }\r\n  }\r\n\r\n  getDuration () {\r\n    if (this.end !== undefined && this.start !== undefined) {\r\n      return this.end.diff(this.start, 'milliseconds')\r\n    }\r\n  }\r\n\r\n  clone () {\r\n    return new TimeFrame(this)\r\n  }\r\n}\r\n\r\nexport interface TimeFrameMappingFunction {(date: moment.Moment): string[]}\r\n\r\n/**\r\n * TimeFrameMapping defines how timeFrames will be placed for each days. parameters are given using options object.\r\n *\r\n * @param {function} func a function with date parameter, that will be evaluated for each distinct day of the gantt.\r\n *                        this function must return an array of timeFrame names to apply.\r\n * @constructor\r\n */\r\nexport class TimeFrameMapping {\r\n  private func: TimeFrameMappingFunction\r\n\r\n  constructor (func: TimeFrameMappingFunction) {\r\n    this.func = func\r\n  }\r\n\r\n  getTimeFrames (date: moment.Moment): string[] {\r\n    let ret: string[] = this.func(date)\r\n    if (!(ret instanceof Array)) {\r\n      ret = [ret]\r\n    }\r\n    return ret\r\n  }\r\n\r\n  clone () {\r\n    return new TimeFrameMapping(this.func)\r\n  }\r\n}\r\n\r\ninterface DateFrameOptions {\r\n  evaluator: { (date: moment.Moment): boolean }\r\n  date?: MomentInput\r\n  start?: moment.Moment\r\n  end?: moment.Moment\r\n  default?: boolean\r\n  targets: any\r\n}\r\n\r\n/**\r\n * A DateFrame is date range that will use a specific TimeFrameMapping, configured using a function (evaluator),\r\n * a date (date) or a date range (start, end). parameters are given using options object.\r\n *\r\n * @param {function} evaluator a function with date parameter, that will be evaluated for each distinct day of the gantt.\r\n *                   this function must return a boolean representing matching of this dateFrame or not.\r\n * @param {moment} date date of dateFrame.\r\n * @param {moment} start start of date frame.\r\n * @param {moment} end end of date frame.\r\n * @param {array} targets array of TimeFrameMappings/TimeFrames names to use for this date frame.\r\n * @param {boolean} default is this dateFrame will be used as default.\r\n * @constructor\r\n */\r\nexport class DateFrame {\r\n  evaluator: { (date: moment.Moment): boolean }\r\n  start: moment.Moment\r\n  end: moment.Moment\r\n  default: boolean\r\n  targets: string[]\r\n\r\n  constructor (options: DateFrameOptions) {\r\n    this.evaluator = options.evaluator\r\n    if (options.date) {\r\n      this.start = moment(options.date).startOf('day')\r\n      this.end = moment(options.date).endOf('day')\r\n    } else {\r\n      this.start = options.start\r\n      this.end = options.end\r\n    }\r\n    if (options.targets instanceof Array) {\r\n      this.targets = options.targets\r\n    } else {\r\n      this.targets = [options.targets]\r\n    }\r\n    this.default = options.default\r\n  }\r\n\r\n  dateMatch (date: moment.Moment) {\r\n    if (this.evaluator) {\r\n      return this.evaluator(date)\r\n    } else if (this.start && this.end) {\r\n      return date >= this.start && date <= this.end\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  clone () {\r\n    return new DateFrame(this)\r\n  }\r\n}\r\n\r\n/**\r\n * Register TimeFrame, TimeFrameMapping and DateMapping objects into Calendar object,\r\n * and use Calendar#getTimeFrames(date) function to retrieve effective timeFrames for a specific day.\r\n *\r\n * @constructor\r\n */\r\nexport class GanttCalendar {\r\n  static $filter: IFilterService\r\n\r\n  timeFrames: {[name: string]: TimeFrame} = {}\r\n  timeFrameMappings: {[name: string]: TimeFrameMapping} = {}\r\n  dateFrames: {[name: string]: DateFrame} = {}\r\n\r\n  /**\r\n   * Remove all objects.\r\n   */\r\n  clear () {\r\n    this.timeFrames = {}\r\n    this.timeFrameMappings = {}\r\n    this.dateFrames = {}\r\n  }\r\n\r\n  /**\r\n   * Register TimeFrame objects.\r\n   *\r\n   * @param {object} timeFrames with names of timeFrames for keys and TimeFrame objects for values.\r\n   */\r\n  registerTimeFrames (timeFrames: {[name: string]: TimeFrameOptions}) {\r\n    for (let name in timeFrames) {\r\n      let timeFrame = timeFrames[name]\r\n      this.timeFrames[name] = new TimeFrame(timeFrame)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes TimeFrame objects.\r\n   *\r\n   * @param {array} timeFrames names of timeFrames to remove.\r\n   */\r\n  removeTimeFrames (timeFrames: string[]) {\r\n    for (let name in timeFrames) {\r\n      delete this.timeFrames[name]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove all TimeFrame objects.\r\n   */\r\n  clearTimeFrames () {\r\n    this.timeFrames = {}\r\n  }\r\n\r\n  /**\r\n   * Register TimeFrameMapping objects.\r\n   *\r\n   * @param {object} mappings object with names of timeFrames mappings for keys and TimeFrameMapping objects for values.\r\n   */\r\n  registerTimeFrameMappings (mappings: {(date: moment.Moment): TimeFrameMappingFunction}) {\r\n    for (let name in mappings) {\r\n      let timeFrameMapping = mappings[name]\r\n      this.timeFrameMappings[name] = new TimeFrameMapping(timeFrameMapping)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes TimeFrameMapping objects.\r\n   *\r\n   * @param {array} mappings names of timeFrame mappings to remove.\r\n   */\r\n  removeTimeFrameMappings (mappings: string[]) {\r\n    for (let name in mappings) {\r\n      delete this.timeFrameMappings[name]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes all TimeFrameMapping objects.\r\n   */\r\n  clearTimeFrameMappings () {\r\n    this.timeFrameMappings = {}\r\n  }\r\n\r\n  /**\r\n   * Register DateFrame objects.\r\n   *\r\n   * @param {object} dateFrames object with names of dateFrames for keys and DateFrame objects for values.\r\n   */\r\n  registerDateFrames (dateFrames: {[name: string]: DateFrameOptions}) {\r\n    for (let name in dateFrames) {\r\n      let dateFrame = dateFrames[name]\r\n      this.dateFrames[name] = new DateFrame(dateFrame)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove DateFrame objects.\r\n   *\r\n   * @param {array} dateFrames names of date frames to remove.\r\n   */\r\n  removeDateFrames (dateFrames: string[]) {\r\n    for (let name in dateFrames) {\r\n      delete this.dateFrames[name]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes all DateFrame objects.\r\n   */\r\n  clearDateFrames () {\r\n    this.dateFrames = {}\r\n  }\r\n\r\n  filterDateFrames (inputDateFrames: {[name: string]: DateFrame}, date: moment.Moment): DateFrame[] {\r\n    let dateFrames = []\r\n    for (let name in inputDateFrames) {\r\n      let dateFrame = inputDateFrames[name]\r\n      if (dateFrame.dateMatch(date)) {\r\n        dateFrames.push(dateFrame)\r\n      }\r\n    }\r\n    if (dateFrames.length === 0) {\r\n      for (let name in inputDateFrames) {\r\n        let dateFrame = inputDateFrames[name]\r\n        if (dateFrame.default) {\r\n          dateFrames.push(dateFrame)\r\n        }\r\n      }\r\n    }\r\n    return dateFrames\r\n  }\r\n\r\n  /**\r\n   * Retrieves TimeFrame objects for a given date, using whole configuration for this Calendar object.\r\n   *\r\n   * @param {moment} date\r\n   *\r\n   * @return {array} an array of TimeFrame objects.\r\n   */\r\n  getTimeFrames (date: moment.Moment): TimeFrame[] {\r\n    let timeFrames: TimeFrame[] = []\r\n    let dateFrames = this.filterDateFrames(this.dateFrames, date)\r\n\r\n    for (let dateFrame of dateFrames) {\r\n      if (dateFrame !== undefined) {\r\n        let targets = dateFrame.targets\r\n\r\n        for (let target of targets) {\r\n          let timeFrameMapping = this.timeFrameMappings[target]\r\n          if (timeFrameMapping !== undefined) {\r\n            // If a timeFrame mapping is found\r\n            let names = timeFrameMapping.getTimeFrames(date)\r\n            for (let name of names) {\r\n              let timeFrame = this.timeFrames[name]\r\n              timeFrames.push(timeFrame)\r\n            }\r\n          } else {\r\n            // If no timeFrame mapping is found, try using direct timeFrame\r\n            let timeFrame = this.timeFrames[target]\r\n            if (timeFrame !== undefined) {\r\n              timeFrames.push(timeFrame)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let dateYear = date.year()\r\n    let dateMonth = date.month()\r\n    let dateDate = date.date()\r\n\r\n    let validatedTimeFrames = []\r\n    if (timeFrames.length === 0) {\r\n      for (let name in this.timeFrames) {\r\n        let timeFrame = this.timeFrames[name]\r\n        if (timeFrame.default) {\r\n          timeFrames.push(timeFrame)\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let name in timeFrames) {\r\n      let timeFrame = timeFrames[name]\r\n      let cTimeFrame = timeFrame.clone()\r\n\r\n      if (cTimeFrame.start !== undefined) {\r\n        cTimeFrame.start.year(dateYear)\r\n        cTimeFrame.start.month(dateMonth)\r\n        cTimeFrame.start.date(dateDate)\r\n      }\r\n\r\n      if (cTimeFrame.end !== undefined) {\r\n        cTimeFrame.end.year(dateYear)\r\n        cTimeFrame.end.month(dateMonth)\r\n        cTimeFrame.end.date(dateDate)\r\n\r\n        if (moment(cTimeFrame.end).startOf('day') === cTimeFrame.end) {\r\n          cTimeFrame.end.add(1, 'day')\r\n        }\r\n      }\r\n\r\n      validatedTimeFrames.push(cTimeFrame)\r\n    }\r\n\r\n    return validatedTimeFrames\r\n  }\r\n\r\n  /**\r\n   * Solve timeFrames.\r\n   *\r\n   * Smaller timeFrames have priority over larger one.\r\n   *\r\n   * @param {array} timeFrames Array of timeFrames to solve\r\n   * @param {moment} startDate\r\n   * @param {moment} endDate\r\n   */\r\n  solve (timeFrames: TimeFrame[], startDate, endDate) {\r\n    let color: string\r\n    let classes: string[]\r\n    let minDate: moment.Moment\r\n    let maxDate: moment.Moment\r\n\r\n    for (let timeFrame of timeFrames) {\r\n      if (minDate === undefined || minDate > timeFrame.start) {\r\n        minDate = timeFrame.start\r\n      }\r\n      if (maxDate === undefined || maxDate < timeFrame.end) {\r\n        maxDate = timeFrame.end\r\n      }\r\n      if (color === undefined && timeFrame.color) {\r\n        color = timeFrame.color\r\n      }\r\n      if (timeFrame.classes !== undefined) {\r\n        if (classes === undefined) {\r\n          classes = []\r\n        }\r\n        classes = classes.concat(timeFrame.classes)\r\n      }\r\n    }\r\n\r\n    if (startDate === undefined) {\r\n      startDate = minDate\r\n    }\r\n\r\n    if (endDate === undefined) {\r\n      endDate = maxDate\r\n    }\r\n\r\n    let solvedTimeFrames: TimeFrame[] = [new TimeFrame({start: startDate, end: endDate, internal: true})]\r\n\r\n    timeFrames = GanttCalendar.$filter('filter')(timeFrames, (timeFrame) => {\r\n      return (timeFrame.start === undefined || timeFrame.start < endDate) && (timeFrame.end === undefined || timeFrame.end > startDate)\r\n    })\r\n\r\n    for (let timeFrame of timeFrames) {\r\n      if (!timeFrame.start) {\r\n        timeFrame.start = startDate\r\n      }\r\n      if (!timeFrame.end) {\r\n        timeFrame.end = endDate\r\n      }\r\n    }\r\n\r\n    let orderedTimeFrames = GanttCalendar.$filter('orderBy')(timeFrames, (timeFrame) => {\r\n      return -timeFrame.getDuration()\r\n    })\r\n\r\n    let k\r\n    for (let oTimeFrame of orderedTimeFrames) {\r\n      let tmpSolvedTimeFrames = solvedTimeFrames.slice()\r\n\r\n      k = 0\r\n      let dispatched = false\r\n      let treated = false\r\n\r\n      for (let sTimeFrame of solvedTimeFrames) {\r\n        if (!treated) {\r\n          if (!oTimeFrame.end && !oTimeFrame.start) {\r\n            // timeFrame is infinite.\r\n            tmpSolvedTimeFrames.splice(k, 0, oTimeFrame)\r\n            treated = true\r\n            dispatched = false\r\n          } else if (oTimeFrame.end > sTimeFrame.start && oTimeFrame.start < sTimeFrame.end) {\r\n            // timeFrame is included in this solvedTimeFrame.\r\n            // solvedTimeFrame:|ssssssssssssssssssssssssssssssssss|\r\n            //       timeFrame:          |tttttt|\r\n            //          result:|sssssssss|tttttt|sssssssssssssssss|\r\n\r\n            let newSolvedTimeFrame = sTimeFrame.clone()\r\n\r\n            sTimeFrame.end = moment(oTimeFrame.start)\r\n            newSolvedTimeFrame.start = moment(oTimeFrame.end)\r\n\r\n            tmpSolvedTimeFrames.splice(k + 1, 0, oTimeFrame.clone(), newSolvedTimeFrame)\r\n            treated = true\r\n            dispatched = false\r\n          } else if (!dispatched && oTimeFrame.start < sTimeFrame.end) {\r\n            // timeFrame is dispatched on two solvedTimeFrame.\r\n            // First part\r\n            // solvedTimeFrame:|sssssssssssssssssssssssssssssssssss|s+1;s+1;s+1;s+1;s+1;s+1|\r\n            //       timeFrame:                                |tttttt|\r\n            //          result:|sssssssssssssssssssssssssssssss|tttttt|;s+1;s+1;s+1;s+1;s+1|\r\n\r\n            sTimeFrame.end = moment(oTimeFrame.start)\r\n            tmpSolvedTimeFrames.splice(k + 1, 0, oTimeFrame.clone())\r\n\r\n            dispatched = true\r\n          } else if (dispatched && oTimeFrame.end > sTimeFrame.start) {\r\n            // timeFrame is dispatched on two solvedTimeFrame.\r\n            // Second part\r\n\r\n            sTimeFrame.start = moment(oTimeFrame.end)\r\n            dispatched = false\r\n            treated = true\r\n          }\r\n          k++\r\n        }\r\n      }\r\n\r\n      solvedTimeFrames = tmpSolvedTimeFrames\r\n    }\r\n\r\n    solvedTimeFrames = GanttCalendar.$filter('filter')(solvedTimeFrames, (timeFrame) => {\r\n      return !timeFrame.internal &&\r\n        (timeFrame.start === undefined || timeFrame.start < endDate) &&\r\n        (timeFrame.end === undefined || timeFrame.end > startDate)\r\n    })\r\n\r\n    return solvedTimeFrames\r\n\r\n  }\r\n}\r\n\r\nexport default function ($filter: IFilterService) {\r\n  'ngInject'\r\n\r\n  GanttCalendar.$filter = $filter\r\n  return GanttCalendar\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/calendar/calendar.factory.ts","import moment from 'moment'\r\n\r\nimport {GanttColumn} from '../column/column.factory'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttCurrentDateManager {\r\n  private gantt: Gantt\r\n  private position: number\r\n  private date: any\r\n  private currentDateColumn: GanttColumn\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n\r\n    this.date = undefined\r\n    this.position = undefined\r\n    this.currentDateColumn = undefined\r\n\r\n    this.gantt.$scope.simplifyMoment = (d) => {\r\n      return moment.isMoment(d) ? d.unix() : d\r\n    }\r\n\r\n    this.gantt.$scope.$watchGroup(['currentDate', 'simplifyMoment(currentDateValue)'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues) {\r\n        this.setCurrentDate(this.gantt.options.value('currentDateValue'))\r\n      }\r\n    })\r\n  }\r\n\r\n  setCurrentDate (currentDate) {\r\n    this.date = currentDate\r\n\r\n    let oldColumn = this.currentDateColumn\r\n    let newColumn\r\n\r\n    if (this.date !== undefined && this.gantt.options.value('currentDate') === 'column') {\r\n      newColumn = this.gantt.columnsManager.getColumnByDate(this.date, true)\r\n    }\r\n\r\n    this.currentDateColumn = newColumn\r\n\r\n    if (oldColumn !== newColumn) {\r\n      if (oldColumn !== undefined) {\r\n        oldColumn.currentDate = false\r\n        oldColumn.updateView()\r\n      }\r\n      if (newColumn !== undefined) {\r\n        newColumn.currentDate = true\r\n        newColumn.updateView()\r\n      }\r\n    }\r\n\r\n    this.position = this.gantt.getPositionByDate(this.date, true)\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttCurrentDateManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/calendar/currentDateManager.factory.ts","import moment from 'moment'\r\nimport {GanttColumn} from './column.factory'\r\n\r\nexport class GanttColumnHeader extends GanttColumn {\r\n  private name: string\r\n  private unit: string\r\n  private label: string\r\n\r\n  constructor (date: moment.Moment,\r\n              endDate: moment.Moment,\r\n              viewScaleUnit: string,\r\n              left: number,\r\n              width: number,\r\n              labelFormat: string | { (GanttColumnHeader): string },\r\n              name: string) {\r\n    super(date, endDate, left, width)\r\n\r\n    this.name = name\r\n    this.unit = viewScaleUnit\r\n    this.label = typeof(labelFormat) === 'function' ? labelFormat(this) : date.format(labelFormat)\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttColumnHeader\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/column/columnHeader.factory.ts","import moment from 'moment'\r\n\r\nimport GanttBinarySearch from '../util/binarySearch.service'\r\nimport GanttColumnGenerator from './columnGenerator.service'\r\nimport {GanttColumnBuilder} from './columnBuilder.factory'\r\nimport {GanttColumn} from './column.factory'\r\nimport {GanttColumnHeader} from './columnHeader.factory'\r\nimport GanttHeadersGenerator from './headersGenerator.service'\r\nimport GanttLayout from '../../ui/util/layout.service'\r\nimport {Gantt} from '../gantt.factory'\r\nimport {IGanttFilterService} from '../../../index'\r\n\r\nexport class GanttColumnsManager {\r\n  static GanttColumnGenerator: GanttColumnGenerator\r\n  static GanttHeadersGenerator: GanttHeadersGenerator\r\n  static GanttColumnBuilder: { new(columnsManager: GanttColumnsManager): GanttColumnBuilder }\r\n  static ganttBinarySearch: GanttBinarySearch\r\n  static ganttLayout: GanttLayout\r\n  static $filter: IGanttFilterService\r\n\r\n  gantt: Gantt\r\n\r\n  from: moment.Moment\r\n  to: moment.Moment\r\n\r\n  columns: GanttColumn[]\r\n  visibleColumns: GanttColumn[]\r\n  previousColumns: GanttColumn[]\r\n  nextColumns: GanttColumn[]\r\n\r\n  headers: GanttColumnHeader[][]\r\n  visibleHeaders: GanttColumnHeader[][]\r\n\r\n  columnBuilder: GanttColumnBuilder\r\n  scrollAnchor: moment.Moment\r\n\r\n  defaultHeadersFormats = {\r\n    year: 'YYYY',\r\n    quarter: '[Q]Q YYYY',\r\n    month: 'MMMM YYYY',\r\n    week: 'w',\r\n    day: 'D',\r\n    hour: 'H',\r\n    minute: 'H:mm',\r\n    second: 'H:mm:ss',\r\n    millisecond: 'H:mm:ss:SSS'\r\n  }\r\n\r\n  defaultDayHeadersFormats = {day: 'LL', hour: 'H', minute: 'H:mm', second: 'H:mm:ss', millisecond: 'H:mm:ss:SSS'}\r\n  defaultYearHeadersFormats = {'year': 'YYYY', 'quarter': '[Q]Q', month: 'MMMM'}\r\n\r\n  constructor (gantt) {\r\n    this.gantt = gantt\r\n\r\n    this.from = undefined\r\n    this.to = undefined\r\n\r\n    this.columns = []\r\n    this.visibleColumns = []\r\n    this.previousColumns = []\r\n    this.nextColumns = []\r\n\r\n    this.headers = []\r\n    this.visibleHeaders = []\r\n\r\n    this.scrollAnchor = undefined\r\n\r\n    this.columnBuilder = new GanttColumnsManager.GanttColumnBuilder(this)\r\n\r\n    // Add a watcher if a view related setting changed from outside of the Gantt. Update the gantt accordingly if so.\r\n    // All those changes need a recalculation of the header columns\r\n    this.gantt.$scope.$watchGroup(['viewScale', 'columnWidth', 'timeFramesWorkingMode', 'timeFramesNonWorkingMode', 'fromDate', 'toDate', 'autoExpand', 'taskOutOfRange'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues && this.gantt.rendered) {\r\n        this.generateColumns()\r\n      }\r\n    })\r\n\r\n    this.gantt.$scope.$watchCollection('headers', (newValues, oldValues) => {\r\n      if (newValues !== oldValues && this.gantt.rendered) {\r\n        this.generateColumns()\r\n      }\r\n    })\r\n\r\n    this.gantt.$scope.$watchCollection('headersFormats', (newValues, oldValues) => {\r\n      if (newValues !== oldValues && this.gantt.rendered) {\r\n        this.generateColumns()\r\n      }\r\n    })\r\n\r\n    this.gantt.$scope.$watchGroup(['ganttElementWidth', 'showSide', 'sideWidth', 'maxHeight', 'daily'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues && this.gantt.rendered) {\r\n        this.updateColumnsMeta()\r\n      }\r\n    });\r\n\r\n    (this.gantt.api as any).data.on.load(this.gantt.$scope, () => {\r\n      if ((this.from === undefined || this.to === undefined ||\r\n        this.from > this.gantt.rowsManager.getDefaultFrom() ||\r\n        this.to < this.gantt.rowsManager.getDefaultTo()) && this.gantt.rendered) {\r\n        this.generateColumns()\r\n      }\r\n\r\n      this.gantt.rowsManager.sortRows()\r\n    });\r\n\r\n    (this.gantt.api as any).data.on.remove(this.gantt.$scope, () => {\r\n      this.gantt.rowsManager.sortRows()\r\n    })\r\n\r\n    this.gantt.api.registerMethod('columns', 'clear', this.clearColumns, this)\r\n    this.gantt.api.registerMethod('columns', 'generate', this.generateColumns, this)\r\n    this.gantt.api.registerMethod('columns', 'refresh', this.updateColumnsMeta, this)\r\n    this.gantt.api.registerMethod('columns', 'getColumnsWidth', this.getColumnsWidth, this)\r\n    this.gantt.api.registerMethod('columns', 'getColumnsWidthToFit', this.getColumnsWidthToFit, this)\r\n    this.gantt.api.registerMethod('columns', 'getDateRange', this.getDateRange, this)\r\n\r\n    this.gantt.api.registerEvent('columns', 'clear')\r\n    this.gantt.api.registerEvent('columns', 'generate')\r\n    this.gantt.api.registerEvent('columns', 'refresh')\r\n  }\r\n\r\n  setScrollAnchor () {\r\n    if (this.gantt.scroll.$element && this.columns.length > 0) {\r\n      let el = this.gantt.scroll.$element[0]\r\n      let center = el.scrollLeft + el.offsetWidth / 2\r\n\r\n      this.scrollAnchor = this.gantt.getDateByPosition(center)\r\n    }\r\n  }\r\n\r\n  scrollToScrollAnchor () {\r\n    if (this.columns.length > 0 && this.scrollAnchor !== undefined) {\r\n      // Ugly but prevents screen flickering (unlike $timeout)\r\n      this.gantt.$scope.$$postDigest(() => {\r\n        (this.gantt.api as any).scroll.toDate(this.scrollAnchor)\r\n      })\r\n    }\r\n  }\r\n\r\n  clearColumns () {\r\n    this.setScrollAnchor()\r\n\r\n    this.from = undefined\r\n    this.to = undefined\r\n\r\n    this.columns = []\r\n    this.visibleColumns = []\r\n    this.previousColumns = []\r\n    this.nextColumns = []\r\n\r\n    this.headers = []\r\n    this.visibleHeaders = [];\r\n\r\n    (this.gantt.api as any).columns.raise.clear()\r\n  }\r\n\r\n  generateColumns (from?: moment.Moment | Date, to?: moment.Moment | Date) {\r\n    if (!from) {\r\n      from = this.gantt.options.value('fromDate')\r\n    }\r\n\r\n    if (!to) {\r\n      to = this.gantt.options.value('toDate')\r\n    }\r\n\r\n    if (!from || (moment.isMoment(from) && !from.isValid())) {\r\n      from = this.gantt.rowsManager.getDefaultFrom()\r\n      if (!from) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    if (!to || (moment.isMoment(to) && !to.isValid())) {\r\n      to = this.gantt.rowsManager.getDefaultTo()\r\n      if (!to) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    if (from !== undefined && !moment.isMoment(from)) {\r\n      from = moment(from)\r\n    }\r\n\r\n    if (to !== undefined && !moment.isMoment(to)) {\r\n      to = moment(to)\r\n    }\r\n\r\n    if (this.gantt.options.value('taskOutOfRange') === 'expand') {\r\n      from = this.gantt.rowsManager.getExpandedFrom(from as moment.Moment)\r\n      to = this.gantt.rowsManager.getExpandedTo(to as moment.Moment)\r\n    }\r\n\r\n    this.setScrollAnchor()\r\n\r\n    this.from = from as moment.Moment\r\n    this.to = to as moment.Moment\r\n\r\n    this.previousColumns = []\r\n    this.nextColumns = []\r\n\r\n    this.columns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, this.from, this.to, this.gantt.options.value('viewScale'), this.getColumnsWidth())\r\n    this.headers = GanttColumnsManager.GanttHeadersGenerator.generate(this)\r\n\r\n    this.updateColumnsMeta()\r\n    this.scrollToScrollAnchor();\r\n\r\n    (this.gantt.api as any).columns.raise.generate(this.columns, this.headers)\r\n  }\r\n\r\n  updateColumnsMeta () {\r\n    this.gantt.isRefreshingColumns = true\r\n\r\n    let lastColumn = this.getLastColumn()\r\n    this.gantt.originalWidth = lastColumn !== undefined ? lastColumn.originalSize.left + lastColumn.originalSize.width : 0\r\n\r\n    let columnsWidthChanged = this.updateColumnsWidths(this.columns, this.headers, this.previousColumns, this.nextColumns)\r\n\r\n    this.gantt.width = lastColumn !== undefined ? lastColumn.left + lastColumn.width : 0\r\n\r\n    let showSide = this.gantt.options.value('showSide')\r\n    let sideShown = this.gantt.side.isShown()\r\n    let sideVisibilityChanged = showSide !== sideShown\r\n\r\n    if (sideVisibilityChanged && !showSide) {\r\n      // Prevent unnecessary v-scrollbar if side is hidden here\r\n      this.gantt.side.show(false)\r\n    }\r\n\r\n    this.gantt.rowsManager.updateTasksPosAndSize()\r\n    this.gantt.timespansManager.updateTimespansPosAndSize()\r\n\r\n    this.updateVisibleColumns(columnsWidthChanged)\r\n\r\n    this.gantt.rowsManager.updateVisibleObjects()\r\n\r\n    let currentDateValue = this.gantt.options.value('currentDateValue')\r\n    this.gantt.currentDateManager.setCurrentDate(currentDateValue)\r\n\r\n    if (sideVisibilityChanged && showSide) {\r\n      // Prevent unnecessary v-scrollbar if side is shown here\r\n      this.gantt.side.show(true)\r\n    }\r\n\r\n    this.gantt.isRefreshingColumns = false;\r\n    (this.gantt.api as any).columns.raise.refresh(this.columns, this.headers)\r\n  }\r\n\r\n  /**\r\n   * Returns the last Gantt column or undefined\r\n   * @param extended\r\n   * @returns {any}\r\n   */\r\n  getLastColumn (extended = false) {\r\n    let columns = this.columns\r\n    if (extended) {\r\n      columns = this.nextColumns\r\n    }\r\n    if (columns && columns.length > 0) {\r\n      return columns[columns.length - 1]\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the first Gantt column or undefined\r\n   *\r\n   * @param extended\r\n   * @returns {any}\r\n   */\r\n  getFirstColumn (extended = false) {\r\n    let columns = this.columns\r\n    if (extended) {\r\n      columns = this.previousColumns\r\n    }\r\n\r\n    if (columns && columns.length > 0) {\r\n      return columns[0]\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the column at the given or next possible date\r\n   *\r\n   * @param date\r\n   * @param disableExpand\r\n   * @returns {GanttColumn}\r\n   */\r\n  getColumnByDate (date: moment.Moment, disableExpand?: boolean) {\r\n    if (!disableExpand) {\r\n      this.expandExtendedColumnsForDate(date)\r\n    }\r\n    let extendedColumns = this.previousColumns.concat(this.columns, this.nextColumns)\r\n    let columns = GanttColumnsManager.ganttBinarySearch.get(extendedColumns, date, function (c) {\r\n      return c.date\r\n    }, true)\r\n    return columns[0] === undefined ? columns[1] : columns[0]\r\n  }\r\n\r\n  /**\r\n   * Returns the column at the given position x (in em)\r\n   *\r\n   * @param x\r\n   * @param disableExpand\r\n   * @returns {GanttColumn}\r\n   */\r\n  getColumnByPosition (x: number, disableExpand?: boolean) {\r\n    if (!disableExpand) {\r\n      this.expandExtendedColumnsForPosition(x)\r\n    }\r\n    let extendedColumns = this.previousColumns.concat(this.columns, this.nextColumns)\r\n    let columns = GanttColumnsManager.ganttBinarySearch.get(extendedColumns, x, function (c) {\r\n      return c.left\r\n    }, true)\r\n    return columns[0] === undefined ? columns[1] : columns[0]\r\n  }\r\n\r\n  updateColumnsWidths (columns, headers, previousColumns, nextColumns) {\r\n    let columnWidth: number = this.gantt.options.value('columnWidth')\r\n    let expandToFit: boolean = this.gantt.options.value('expandToFit')\r\n    let shrinkToFit: boolean = this.gantt.options.value('shrinkToFit')\r\n\r\n    if (columnWidth === undefined || expandToFit || shrinkToFit) {\r\n      let newWidth = this.gantt.getBodyAvailableWidth()\r\n\r\n      let lastColumn = this.gantt.columnsManager.getLastColumn(false)\r\n      if (lastColumn !== undefined) {\r\n        let currentWidth = lastColumn.originalSize.left + lastColumn.originalSize.width\r\n\r\n        if (expandToFit && currentWidth < newWidth ||\r\n          shrinkToFit && currentWidth > newWidth ||\r\n          columnWidth === undefined\r\n        ) {\r\n          let widthFactor = newWidth / currentWidth\r\n\r\n          GanttColumnsManager.ganttLayout.setColumnsWidthFactor(columns, widthFactor)\r\n          for (let header of headers) {\r\n            GanttColumnsManager.ganttLayout.setColumnsWidthFactor(header, widthFactor)\r\n          }\r\n          // previous and next columns will be generated again on need.\r\n          previousColumns.splice(0, this.previousColumns.length)\r\n          nextColumns.splice(0, this.nextColumns.length)\r\n          return true\r\n        }\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  getColumnsWidth () {\r\n    let columnWidth: number = this.gantt.options.value('columnWidth')\r\n    if (columnWidth === undefined) {\r\n      if (!this.gantt.width || this.gantt.width <= 0) {\r\n        columnWidth = 20\r\n      } else {\r\n        columnWidth = this.gantt.width / this.columns.length\r\n      }\r\n    }\r\n    return columnWidth\r\n  }\r\n\r\n  getColumnsWidthToFit () {\r\n    return this.gantt.getBodyAvailableWidth() / this.columns.length\r\n  }\r\n\r\n  expandExtendedColumnsForPosition (x) {\r\n    let viewScale\r\n    if (x < 0) {\r\n      let firstColumn = this.getFirstColumn()\r\n      let from = firstColumn.date\r\n      let firstExtendedColumn = this.getFirstColumn(true)\r\n      if (!firstExtendedColumn || firstExtendedColumn.left > x) {\r\n        viewScale = this.gantt.options.value('viewScale')\r\n        this.previousColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, from, undefined, viewScale, this.getColumnsWidth(), -x, 0, true)\r\n      }\r\n      return true\r\n    } else if (x > this.gantt.width) {\r\n      let lastColumn = this.getLastColumn()\r\n      let endDate = lastColumn.getDateByPosition(lastColumn.width)\r\n      let lastExtendedColumn = this.getLastColumn(true)\r\n      if (!lastExtendedColumn || lastExtendedColumn.left + lastExtendedColumn.width < x) {\r\n        viewScale = this.gantt.options.value('viewScale')\r\n        this.nextColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, endDate, undefined, viewScale, this.getColumnsWidth(), x - this.gantt.width, this.gantt.width, false)\r\n      }\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  expandExtendedColumnsForDate (date) {\r\n    let firstColumn = this.getFirstColumn()\r\n    let from\r\n    if (firstColumn) {\r\n      from = firstColumn.date\r\n    }\r\n\r\n    let lastColumn = this.getLastColumn()\r\n    let endDate\r\n    if (lastColumn) {\r\n      endDate = lastColumn.endDate\r\n    }\r\n\r\n    let viewScale\r\n    if (from && date < from) {\r\n      let firstExtendedColumn = this.getFirstColumn(true)\r\n      if (!firstExtendedColumn || firstExtendedColumn.date > date) {\r\n        viewScale = this.gantt.options.value('viewScale')\r\n        this.previousColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, from, date, viewScale, this.getColumnsWidth(), undefined, 0, true)\r\n      }\r\n      return true\r\n    } else if (endDate && date >= endDate) {\r\n      let lastExtendedColumn = this.getLastColumn(true)\r\n      if (!lastExtendedColumn || lastExtendedColumn.date < endDate) {\r\n        viewScale = this.gantt.options.value('viewScale')\r\n        this.nextColumns = GanttColumnsManager.GanttColumnGenerator.generate(this.columnBuilder, endDate, date, viewScale, this.getColumnsWidth(), undefined, this.gantt.width, false)\r\n      }\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   *  Returns the number of active headers\r\n   *\r\n   * @returns {number}\r\n   */\r\n  getActiveHeadersCount () {\r\n    return this.headers.length\r\n  }\r\n\r\n  updateVisibleColumns (includeViews) {\r\n    let limitThreshold = this.gantt.options.value('columnLimitThreshold')\r\n\r\n    let i\r\n    if (limitThreshold === undefined || limitThreshold > 0 && this.columns.length >= limitThreshold) {\r\n      this.visibleColumns = GanttColumnsManager.$filter('ganttColumnLimit')(this.columns, this.gantt)\r\n\r\n      this.visibleHeaders = []\r\n      for (i = 0; i < this.headers.length; i++) {\r\n        this.visibleHeaders.push.apply(this.visibleHeaders, GanttColumnsManager.$filter('ganttColumnLimit')(this.headers[i], this.gantt))\r\n      }\r\n    } else {\r\n      this.visibleColumns = this.columns\r\n      this.visibleHeaders = this.headers\r\n    }\r\n\r\n    if (includeViews) {\r\n      for (i = 0; i < this.visibleColumns.length; i++) {\r\n        this.visibleColumns[i].updateView()\r\n      }\r\n      for (i = 0; i < this.visibleHeaders.length; i++) {\r\n        let headerRow = this.visibleHeaders[i]\r\n        for (let headerRowItem of headerRow) {\r\n          headerRowItem.updateView()\r\n        }\r\n      }\r\n    }\r\n\r\n    let currentDateValue = this.gantt.options.value('currentDateValue')\r\n    this.gantt.currentDateManager.setCurrentDate(currentDateValue)\r\n  }\r\n\r\n  getHeaderFormat (unit) {\r\n    let format\r\n    let headersFormats = this.gantt.options.value('headersFormats')\r\n    if (headersFormats !== undefined) {\r\n      format = headersFormats[unit]\r\n    }\r\n    if (format === undefined) {\r\n      let viewScale = this.gantt.options.value('viewScale')\r\n      viewScale = viewScale.trim()\r\n      if (viewScale.charAt(viewScale.length - 1) === 's') {\r\n        viewScale = viewScale.substring(0, viewScale.length - 1)\r\n      }\r\n\r\n      let viewScaleUnit\r\n      let splittedViewScale\r\n\r\n      if (viewScale) {\r\n        splittedViewScale = viewScale.split(' ')\r\n      }\r\n      if (splittedViewScale && splittedViewScale.length > 1) {\r\n        viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n      } else {\r\n        viewScaleUnit = viewScale\r\n      }\r\n\r\n      if (['millisecond', 'second', 'minute', 'hour'].indexOf(viewScaleUnit) > -1) {\r\n        format = this.defaultDayHeadersFormats[unit]\r\n      } else if (['month', 'quarter', 'year'].indexOf(viewScaleUnit) > -1) {\r\n        format = this.defaultYearHeadersFormats[unit]\r\n      }\r\n      if (format === undefined) {\r\n        format = this.defaultHeadersFormats[unit]\r\n      }\r\n    }\r\n    return format\r\n  }\r\n\r\n  getHeaderScale (header) {\r\n    let scale\r\n    let headersScales = this.gantt.options.value('headersScales')\r\n    if (headersScales !== undefined) {\r\n      scale = headersScales[header]\r\n    }\r\n    if (scale === undefined) {\r\n      scale = header\r\n    }\r\n    if (['millisecond', 'second', 'minute', 'hour', 'day', 'week', 'month', 'quarter', 'year'].indexOf(scale) === -1) {\r\n      scale = 'day'\r\n    }\r\n    return scale\r\n  }\r\n\r\n  getDateRange (visibleOnly) {\r\n    let firstColumn\r\n    let lastColumn\r\n\r\n    if (visibleOnly) {\r\n      if (this.visibleColumns && this.visibleColumns.length > 0) {\r\n        firstColumn = this.visibleColumns[0]\r\n        lastColumn = this.visibleColumns[this.visibleColumns.length - 1]\r\n      }\r\n    } else {\r\n      firstColumn = this.getFirstColumn()\r\n      lastColumn = this.getLastColumn()\r\n    }\r\n\r\n    return firstColumn && lastColumn ? [firstColumn.date, lastColumn.endDate] : undefined\r\n  }\r\n}\r\n\r\nexport default function (GanttColumnGenerator: GanttColumnGenerator,\r\n                         GanttColumnBuilder: { new(columnsManager: GanttColumnsManager): GanttColumnBuilder },\r\n                         GanttHeadersGenerator: GanttHeadersGenerator,\r\n                         $filter: IGanttFilterService,\r\n                         ganttLayout: GanttLayout,\r\n                         ganttBinarySearch: GanttBinarySearch) {\r\n  'ngInject'\r\n\r\n  GanttColumnsManager.GanttColumnGenerator = GanttColumnGenerator\r\n  GanttColumnsManager.GanttHeadersGenerator = GanttHeadersGenerator\r\n  GanttColumnsManager.ganttBinarySearch = ganttBinarySearch\r\n  GanttColumnsManager.GanttColumnBuilder = GanttColumnBuilder\r\n  GanttColumnsManager.ganttLayout = ganttLayout\r\n  GanttColumnsManager.$filter = $filter\r\n  return GanttColumnsManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/column/columnsManager.factory.ts","import moment from 'moment'\r\n\r\nimport {GanttApi} from '../api/api.factory'\r\nimport GanttUtils from '../util/utils.service'\r\n\r\nexport class GanttObjectModel {\r\n  static ganttUtils: GanttUtils\r\n\r\n  private api: GanttApi\r\n\r\n  constructor (api: GanttApi) {\r\n    this.api = api\r\n\r\n    this.api.registerEvent('tasks', 'clean')\r\n    this.api.registerEvent('rows', 'clean')\r\n    this.api.registerEvent('timespans', 'clean')\r\n  }\r\n\r\n  cleanTask (model) {\r\n    if (model.id === undefined) {\r\n      model.id = GanttObjectModel.ganttUtils.randomUuid()\r\n    }\r\n\r\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\r\n      model.from = moment(model.from)\r\n    }\r\n\r\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\r\n      model.to = moment(model.to)\r\n    }\r\n\r\n    (this.api as any).tasks.raise.clean(model)\r\n  }\r\n\r\n  cleanRow (model) {\r\n    if (model.id === undefined) {\r\n      model.id = GanttObjectModel.ganttUtils.randomUuid()\r\n    }\r\n\r\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\r\n      model.from = moment(model.from)\r\n    }\r\n\r\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\r\n      model.to = moment(model.to)\r\n    }\r\n\r\n    (this.api as any).rows.raise.clean(model)\r\n  }\r\n\r\n  cleanTimespan (model) {\r\n    if (model.id === undefined) {\r\n      model.id = GanttObjectModel.ganttUtils.randomUuid()\r\n    }\r\n\r\n    if (model.from !== undefined && !moment.isMoment(model.from)) {\r\n      model.from = moment(model.from)\r\n    }\r\n\r\n    if (model.to !== undefined && !moment.isMoment(model.to)) {\r\n      model.to = moment(model.to)\r\n    }\r\n\r\n    (this.api as any).timespans.raise.clean(model)\r\n  }\r\n}\r\n\r\nexport default function (ganttUtils: GanttUtils) {\r\n  'ngInject'\r\n\r\n  GanttObjectModel.ganttUtils = ganttUtils\r\n  return GanttObjectModel\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/model/objectModel.factory.ts","import angular, {IFilterFilterComparatorFunc, ITimeoutService} from 'angular'\r\n\r\nimport moment from 'moment'\r\n\r\nimport GanttArrays from '../util/arrays.service'\r\nimport {GanttRow, GanttRowModel} from './row.factory'\r\nimport {IGanttFilterService} from '../../../index'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttRowsManager {\r\n  static GanttRow: { new(rowsManager: GanttRowsManager, model: GanttRowModel): GanttRow }\r\n  static $filter: IGanttFilterService\r\n  static $timeout: ITimeoutService\r\n  static ganttArrays: GanttArrays\r\n\r\n  gantt: Gantt\r\n  rowsMap: { [id: string]: GanttRow } = {}\r\n  rows: GanttRow[] = []\r\n  sortedRows: GanttRow[] = []\r\n  filteredRows: GanttRow[] = []\r\n  customFilteredRows: GanttRow[] = []\r\n  visibleRows: GanttRow[] = []\r\n  rowsTaskWatchers: { (): void }[] = []\r\n  customRowSorters: { (rows: GanttRow[]): GanttRow[] }[] = []\r\n  customRowFilters: { (rows: GanttRow[]): GanttRow[] }[] = []\r\n\r\n  _defaultFilterImpl: { (sortedRows: GanttRow[], filterRow: GanttRow[], filterRowComparator: (IFilterFilterComparatorFunc<GanttRow> | boolean)): GanttRow[]}\r\n  filterImpl: { (sortedRows: GanttRow[], filterRow: GanttRow[], filterRowComparator: (IFilterFilterComparatorFunc<GanttRow> | boolean)): GanttRow[]}\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n\r\n    this._defaultFilterImpl = (sortedRows: GanttRow[], filterRow: GanttRow[], filterRowComparator: IFilterFilterComparatorFunc<GanttRow>|boolean) => {\r\n      return GanttRowsManager.$filter('filter')(sortedRows, filterRow, filterRowComparator)\r\n    }\r\n    this.filterImpl = this._defaultFilterImpl\r\n\r\n    this.customRowSorters = []\r\n    this.customRowFilters = []\r\n\r\n    this.gantt.$scope.$watchGroup(['filterTask', 'filterTaskComparator'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues) {\r\n        this.updateVisibleTasks()\r\n      }\r\n    })\r\n\r\n    this.gantt.$scope.$watchGroup(['filterRow', 'filterRowComparator'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues) {\r\n        this.updateVisibleRows()\r\n      }\r\n    })\r\n\r\n    this.gantt.$scope.$watch('sortMode', (newValue, oldValue) => {\r\n      if (newValue !== oldValue) {\r\n        this.sortRows()\r\n      }\r\n    })\r\n\r\n    // Listen to vertical scrollbar visibility changes to update columns width\r\n    let _oldVScrollbarVisible = this.gantt.scroll.isVScrollbarVisible()\r\n    this.gantt.$scope.$watchGroup(['maxHeight', 'gantt.rowsManager.visibleRows.length'], (newValue, oldValue) => {\r\n      if (newValue !== oldValue) {\r\n        GanttRowsManager.$timeout(() => {\r\n          let newVScrollbarVisible = this.gantt.scroll.isVScrollbarVisible()\r\n          if (newVScrollbarVisible !== _oldVScrollbarVisible) {\r\n            _oldVScrollbarVisible = newVScrollbarVisible\r\n            this.gantt.columnsManager.updateColumnsMeta()\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    this.gantt.api.registerMethod('rows', 'sort', GanttRowsManager.prototype.sortRows, this)\r\n    this.gantt.api.registerMethod('rows', 'applySort', GanttRowsManager.prototype.applySort, this)\r\n    this.gantt.api.registerMethod('rows', 'refresh', GanttRowsManager.prototype.updateVisibleObjects, this)\r\n\r\n    this.gantt.api.registerMethod('rows', 'removeRowSorter', GanttRowsManager.prototype.removeCustomRowSorter, this)\r\n    this.gantt.api.registerMethod('rows', 'addRowSorter', GanttRowsManager.prototype.addCustomRowSorter, this)\r\n\r\n    this.gantt.api.registerMethod('rows', 'removeRowFilter', GanttRowsManager.prototype.removeCustomRowFilter, this)\r\n    this.gantt.api.registerMethod('rows', 'addRowFilter', GanttRowsManager.prototype.addCustomRowFilter, this)\r\n\r\n    this.gantt.api.registerMethod('rows', 'setFilterImpl', GanttRowsManager.prototype.setFilterImpl, this)\r\n\r\n    this.gantt.api.registerEvent('tasks', 'add')\r\n    this.gantt.api.registerEvent('tasks', 'change')\r\n    this.gantt.api.registerEvent('tasks', 'viewChange')\r\n\r\n    this.gantt.api.registerEvent('tasks', 'beforeRowChange')\r\n    this.gantt.api.registerEvent('tasks', 'beforeViewRowChange')\r\n    this.gantt.api.registerEvent('tasks', 'rowChange')\r\n    this.gantt.api.registerEvent('tasks', 'viewRowChange')\r\n    this.gantt.api.registerEvent('tasks', 'remove')\r\n    this.gantt.api.registerEvent('tasks', 'filter')\r\n\r\n    this.gantt.api.registerEvent('tasks', 'displayed')\r\n\r\n    this.gantt.api.registerEvent('rows', 'add')\r\n    this.gantt.api.registerEvent('rows', 'change')\r\n    this.gantt.api.registerEvent('rows', 'remove')\r\n    this.gantt.api.registerEvent('rows', 'move')\r\n\r\n    this.gantt.api.registerEvent('rows', 'displayed')\r\n\r\n    this.gantt.api.registerEvent('rows', 'filter')\r\n\r\n    this.updateVisibleObjects()\r\n  }\r\n\r\n  resetNonModelLists () {\r\n    this.rows = []\r\n    this.sortedRows = []\r\n    this.filteredRows = []\r\n    this.customFilteredRows = []\r\n    this.visibleRows = []\r\n  }\r\n\r\n  /**\r\n   * Copy to new row (add) or merge with existing (update)\r\n   *\r\n   * @param rowModel\r\n   * @param modelOrderChanged\r\n   * @returns {boolean} true if updated, false if added.\r\n   */\r\n  addRow (rowModel: GanttRowModel, modelOrderChanged): boolean {\r\n    let row\r\n    let i\r\n    let l\r\n    let isUpdate = false\r\n\r\n    this.gantt.objectModel.cleanRow(rowModel)\r\n\r\n    if (rowModel.id in this.rowsMap) {\r\n      row = this.rowsMap[rowModel.id]\r\n\r\n      if (modelOrderChanged) {\r\n        this.rows.push(row)\r\n        this.sortedRows.push(row)\r\n        this.filteredRows.push(row)\r\n        this.customFilteredRows.push(row)\r\n        this.visibleRows.push(row)\r\n      }\r\n\r\n      if (row.model === rowModel) {\r\n        return\r\n      }\r\n\r\n      let toRemoveIds = GanttRowsManager.ganttArrays.getRemovedIds(rowModel.tasks, row.model.tasks)\r\n      for (i = 0, l = toRemoveIds.length; i < l; i++) {\r\n        let toRemoveId = toRemoveIds[i]\r\n        row.removeTask(toRemoveId)\r\n      }\r\n\r\n      row.model = rowModel\r\n      isUpdate = true\r\n    } else {\r\n      row = new GanttRowsManager.GanttRow(this, rowModel)\r\n      this.rowsMap[rowModel.id] = row\r\n      this.rows.push(row)\r\n      this.sortedRows.push(row)\r\n      this.filteredRows.push(row)\r\n      this.customFilteredRows.push(row)\r\n      this.visibleRows.push(row)\r\n    }\r\n\r\n    if (rowModel.tasks !== undefined && rowModel.tasks.length > 0) {\r\n      for (i = 0, l = rowModel.tasks.length; i < l; i++) {\r\n        let taskModel = rowModel.tasks[i]\r\n        row.addTask(taskModel)\r\n      }\r\n\r\n      row.updateVisibleTasks()\r\n    }\r\n\r\n    if (isUpdate) {\r\n      (this.gantt.api as any).rows.raise.change(row)\r\n    } else {\r\n      (this.gantt.api as any).rows.raise.add(row)\r\n    }\r\n\r\n    if (!isUpdate) {\r\n      let watcher = this.gantt.$scope.$watchCollection(() => {\r\n        return rowModel.tasks\r\n      }, (newTasks, oldTasks) => {\r\n        if (newTasks !== oldTasks) {\r\n          let i\r\n          let l\r\n\r\n          let toRemoveIds = GanttRowsManager.ganttArrays.getRemovedIds(newTasks, oldTasks)\r\n          for (i = 0, l = toRemoveIds.length; i < l; i++) {\r\n            let toRemove = toRemoveIds[i]\r\n            row.removeTask(toRemove)\r\n          }\r\n\r\n          if (newTasks !== undefined) {\r\n            for (i = 0, l = newTasks.length; i < l; i++) {\r\n              let toAdd = newTasks[i]\r\n              row.addTask(toAdd)\r\n            }\r\n\r\n            row.updateVisibleTasks()\r\n          }\r\n        }\r\n      })\r\n\r\n      this.rowsTaskWatchers.push(watcher)\r\n    }\r\n\r\n    return isUpdate\r\n  }\r\n\r\n  removeRow (rowId): GanttRow {\r\n    if (rowId in this.rowsMap) {\r\n      delete this.rowsMap[rowId]\r\n\r\n      let removedRow\r\n\r\n      let indexOf = GanttRowsManager.ganttArrays.indexOfId(this.rows, rowId, ['model', 'id'])\r\n      if (indexOf > -1) {\r\n        removedRow = this.rows.splice(indexOf, 1)[0] // Remove from array\r\n        let unregisterFunction = this.rowsTaskWatchers.splice(indexOf, 1)[0] // Remove watcher\r\n        if (unregisterFunction) {\r\n          unregisterFunction()\r\n        }\r\n      }\r\n\r\n      GanttRowsManager.ganttArrays.removeId(this.sortedRows, rowId, ['model', 'id'])\r\n      GanttRowsManager.ganttArrays.removeId(this.filteredRows, rowId, ['model', 'id'])\r\n      GanttRowsManager.ganttArrays.removeId(this.customFilteredRows, rowId, ['model', 'id'])\r\n      GanttRowsManager.ganttArrays.removeId(this.visibleRows, rowId, ['model', 'id']);\r\n\r\n      (this.gantt.api as any).rows.raise.remove(removedRow)\r\n      return removedRow\r\n    }\r\n\r\n    return undefined\r\n  }\r\n\r\n  removeAll () {\r\n    this.rowsMap = {}\r\n    this.rows = []\r\n    this.sortedRows = []\r\n    this.filteredRows = []\r\n    this.customFilteredRows = []\r\n    this.visibleRows = []\r\n\r\n    for (let unregisterFunction of this.rowsTaskWatchers) {\r\n      unregisterFunction()\r\n    }\r\n    this.rowsTaskWatchers = []\r\n  }\r\n\r\n  sortRows () {\r\n    let expression = this.gantt.options.value('sortMode')\r\n\r\n    if (expression !== undefined) {\r\n      let reverse = false\r\n      if ((typeof expression === 'string' || expression instanceof String) && expression.charAt(0) === '-') {\r\n        reverse = true\r\n        expression = expression.substr(1)\r\n      }\r\n\r\n      let angularOrderBy = GanttRowsManager.$filter('orderBy')\r\n      this.sortedRows = angularOrderBy(this.rows, expression, reverse)\r\n    } else {\r\n      this.sortedRows = this.rows.slice()\r\n    }\r\n\r\n    this.sortedRows = this.applyCustomRowSorters(this.sortedRows)\r\n\r\n    this.updateVisibleRows()\r\n  }\r\n\r\n  removeCustomRowSorter (sorterFunction: { (rows: GanttRow[]): GanttRow[] }) {\r\n    let i = this.customRowSorters.indexOf(sorterFunction)\r\n    if (i > -1) {\r\n      this.customRowSorters.splice(i, 1)\r\n    }\r\n  }\r\n\r\n  addCustomRowSorter (sorterFunction: { (rows: GanttRow[]): GanttRow[] }) {\r\n    this.customRowSorters.push(sorterFunction)\r\n  }\r\n\r\n  applyCustomRowSorters (rows: GanttRow[]) {\r\n    let sortedRows = rows\r\n    for (let customRowSorter of this.customRowSorters) {\r\n      sortedRows = customRowSorter(sortedRows)\r\n    }\r\n    return sortedRows\r\n  }\r\n\r\n  /**\r\n   * Applies current view sort to data model.\r\n   */\r\n  applySort () {\r\n    let data = this.gantt.$scope.data\r\n    data.splice(0, data.length) // empty data.\r\n    let rows = []\r\n    for (let row of this.sortedRows) {\r\n      data.push(row.model)\r\n      rows.push(row)\r\n    }\r\n\r\n    this.rows = rows\r\n  }\r\n\r\n  moveRow (row, targetRow) {\r\n    let sortMode = this.gantt.options.value('sortMode')\r\n    if (sortMode !== undefined) {\r\n      // Apply current sort to model\r\n      this.applySort()\r\n      this.gantt.options.set('sortMode', undefined)\r\n    }\r\n\r\n    let targetRowIndex = this.rows.indexOf(targetRow)\r\n    let rowIndex = this.rows.indexOf(row)\r\n\r\n    if (targetRowIndex > -1 && rowIndex > -1 && targetRowIndex !== rowIndex) {\r\n      GanttRowsManager.ganttArrays.moveToIndex(this.rows, rowIndex, targetRowIndex)\r\n      GanttRowsManager.ganttArrays.moveToIndex(this.rowsTaskWatchers, rowIndex, targetRowIndex)\r\n      GanttRowsManager.ganttArrays.moveToIndex(this.gantt.$scope.data, rowIndex, targetRowIndex);\r\n\r\n      (this.gantt.api as any).rows.raise.change(row);\r\n      (this.gantt.api as any).rows.raise.move(row, rowIndex, targetRowIndex)\r\n\r\n      this.updateVisibleObjects()\r\n      this.sortRows()\r\n    }\r\n  }\r\n\r\n  updateVisibleObjects () {\r\n    this.updateVisibleRows()\r\n    this.updateVisibleTasks()\r\n  }\r\n\r\n  updateVisibleRows () {\r\n    let oldFilteredRows = this.filteredRows\r\n    let filterRow = this.gantt.options.value('filterRow')\r\n    if (filterRow) {\r\n      if (typeof(filterRow) === 'object') {\r\n        filterRow = {model: filterRow}\r\n      }\r\n\r\n      let filterRowComparator = this.gantt.options.value('filterRowComparator')\r\n      if (typeof(filterRowComparator) === 'function') {\r\n        // fix issue this.gantt is undefined\r\n\r\n        let gantt = this.gantt\r\n        filterRowComparator = (actual, expected) => {\r\n          // fix actual.model is undefined\r\n          return gantt.options.value('filterRowComparator')(actual, expected)\r\n        }\r\n      }\r\n\r\n      this.filteredRows = this.filterImpl(this.sortedRows, filterRow, filterRowComparator)\r\n    } else {\r\n      this.filteredRows = this.sortedRows.slice(0)\r\n    }\r\n\r\n    let raiseEvent = !angular.equals(oldFilteredRows, this.filteredRows)\r\n    this.customFilteredRows = this.applyCustomRowFilters(this.filteredRows)\r\n\r\n    // TODO: Implement rowLimit like columnLimit to enhance performance for gantt with many rows\r\n    this.visibleRows = this.customFilteredRows;\r\n\r\n    (this.gantt.api as any).rows.raise.displayed(this.sortedRows, this.filteredRows, this.visibleRows)\r\n\r\n    if (raiseEvent) {\r\n      (this.gantt.api as any).rows.raise.filter(this.sortedRows, this.filteredRows)\r\n    }\r\n  }\r\n\r\n  removeCustomRowFilter (filterFunction: { (rows: GanttRow[]): GanttRow[] }) {\r\n    let i = this.customRowFilters.indexOf(filterFunction)\r\n    if (i > -1) {\r\n      this.customRowFilters.splice(i, 1)\r\n    }\r\n  }\r\n\r\n  addCustomRowFilter (filterFunction: { (rows: GanttRow[]): GanttRow[] }) {\r\n    this.customRowFilters.push(filterFunction)\r\n  }\r\n\r\n  applyCustomRowFilters (rows: GanttRow[]) {\r\n    let filteredRows = rows\r\n    for (let customRowFilter of this.customRowFilters) {\r\n      filteredRows = customRowFilter(filteredRows)\r\n    }\r\n    return filteredRows\r\n  }\r\n\r\n  setFilterImpl (filterImpl) {\r\n    if (!filterImpl) {\r\n      this.filterImpl = this._defaultFilterImpl\r\n    } else {\r\n      this.filterImpl = filterImpl\r\n    }\r\n  }\r\n\r\n  updateVisibleTasks () {\r\n    let oldFilteredTasks = []\r\n    let filteredTasks = []\r\n    let tasks = []\r\n    let visibleTasks = []\r\n\r\n    for (let row of this.rows) {\r\n      oldFilteredTasks = oldFilteredTasks.concat(row.filteredTasks)\r\n      row.updateVisibleTasks()\r\n      filteredTasks = filteredTasks.concat(row.filteredTasks)\r\n      visibleTasks = visibleTasks.concat(row.visibleTasks)\r\n      tasks = tasks.concat(row.tasks)\r\n    }\r\n\r\n    (this.gantt.api as any).tasks.raise.displayed(tasks, filteredTasks, visibleTasks)\r\n\r\n    let filterEvent = !angular.equals(oldFilteredTasks, filteredTasks)\r\n\r\n    if (filterEvent) {\r\n      (this.gantt.api as any).tasks.raise.filter(tasks, filteredTasks, visibleTasks)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the position/size of all tasks in the Gantt\r\n   */\r\n  updateTasksPosAndSize () {\r\n    for (let row of this.rows) {\r\n      row.updateTasksPosAndSize()\r\n    }\r\n  }\r\n\r\n  getExpandedFrom (from?: moment.Moment) {\r\n    from = from ? moment(from) : from\r\n\r\n    let minRowFrom = from\r\n    for (let row of this.rows) {\r\n      if (minRowFrom === undefined || minRowFrom > row.from) {\r\n        minRowFrom = row.from\r\n      }\r\n    }\r\n    if (minRowFrom && (!from || minRowFrom < from)) {\r\n      return minRowFrom\r\n    }\r\n    return from\r\n  }\r\n\r\n  getExpandedTo (to?: moment.Moment) {\r\n    to = to ? moment(to) : to\r\n\r\n    let maxRowTo = to\r\n    for (let row of this.rows) {\r\n      if (maxRowTo === undefined || maxRowTo < row.to) {\r\n        maxRowTo = row.to\r\n      }\r\n    }\r\n    let toDate = this.gantt.options.value('toDate')\r\n    if (maxRowTo && (!toDate || maxRowTo > toDate)) {\r\n      return maxRowTo\r\n    }\r\n    return to\r\n  }\r\n\r\n  getDefaultFrom () {\r\n    let defaultFrom\r\n    for (let row of this.rows) {\r\n      if (defaultFrom === undefined || row.from < defaultFrom) {\r\n        defaultFrom = row.from\r\n      }\r\n    }\r\n    return defaultFrom\r\n  }\r\n\r\n  getDefaultTo () {\r\n    let defaultTo\r\n    for (let row of this.rows) {\r\n      if (defaultTo === undefined || row.to > defaultTo) {\r\n        defaultTo = row.to\r\n      }\r\n    }\r\n    return defaultTo\r\n  }\r\n}\r\n\r\nexport default function (GanttRow: { new(rowsManager: GanttRowsManager, model: GanttRowModel): GanttRow },\r\n                         ganttArrays: GanttArrays,\r\n                         $filter: IGanttFilterService,\r\n                         $timeout: ITimeoutService) {\r\n  'ngInject'\r\n\r\n  GanttRowsManager.GanttRow = GanttRow\r\n  GanttRowsManager.$filter = $filter\r\n  GanttRowsManager.$timeout = $timeout\r\n  GanttRowsManager.ganttArrays = ganttArrays\r\n  return GanttRowsManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/row/rowsManager.factory.ts","import {GanttBodyColumns} from './bodyColumns.factory'\r\nimport {GanttBodyRows} from './bodyRows.factory'\r\nimport {GanttBodyBackground} from './bodyBackground.factory'\r\nimport {GanttBodyForeground} from './bodyForeground.factory'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttBody {\r\n  static GanttBodyColumns: { new(GanttBody): GanttBodyColumns }\r\n  static GanttBodyRows: { new(GanttBody): GanttBodyRows }\r\n  static GanttBodyBackground: { new(GanttBody): GanttBodyBackground }\r\n  static GanttBodyForeground: { new(GanttBody): GanttBodyForeground }\r\n\r\n  private gantt: Gantt\r\n\r\n  private background: GanttBodyBackground\r\n  private foreground: GanttBodyForeground\r\n  private columns: GanttBodyColumns\r\n  private rows: GanttBodyRows\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n\r\n    this.background = new GanttBody.GanttBodyBackground(this)\r\n    this.foreground = new GanttBody.GanttBodyForeground(this)\r\n    this.columns = new GanttBody.GanttBodyColumns(this)\r\n    this.rows = new GanttBody.GanttBodyRows(this)\r\n  }\r\n}\r\n\r\nexport default function (GanttBodyColumns: { new(GanttBody): GanttBodyColumns },\r\n                         GanttBodyRows: { new(GanttBody): GanttBodyRows },\r\n                         GanttBodyBackground: { new(GanttBody): GanttBodyBackground },\r\n                         GanttBodyForeground: { new(GanttBody): GanttBodyForeground }) {\r\n  'ngInject'\r\n\r\n  GanttBody.GanttBodyColumns = GanttBodyColumns\r\n  GanttBody.GanttBodyRows = GanttBodyRows\r\n  GanttBody.GanttBodyBackground = GanttBodyBackground\r\n  GanttBody.GanttBodyForeground = GanttBodyForeground\r\n\r\n  return GanttBody\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/template/body.factory.ts","import {IAugmentedJQuery} from 'angular'\r\nimport {GanttHeaderColumns} from './headerColumns.factory'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttHeader {\r\n  static GanttHeaderColumns: { new(gantt: Gantt): GanttHeaderColumns }\r\n\r\n  gantt: Gantt\r\n  columns: GanttHeaderColumns\r\n\r\n  $element: IAugmentedJQuery\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n    this.columns = new GanttHeader.GanttHeaderColumns(this.gantt)\r\n  }\r\n\r\n  getHeight () {\r\n    return this.$element[0].offsetHeight\r\n  }\r\n}\r\n\r\nexport default function (GanttHeaderColumns: { new(element: Gantt): GanttHeaderColumns }) {\r\n  'ngInject'\r\n\r\n  GanttHeader.GanttHeaderColumns = GanttHeaderColumns\r\n  return GanttHeader\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/template/header.factory.ts","import {IAugmentedJQuery} from 'angular'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttScroll {\r\n  $element: IAugmentedJQuery\r\n  gantt: Gantt\r\n\r\n  cachedScrollLeft: number\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n\r\n    this.gantt.api.registerEvent('scroll', 'scroll')\r\n\r\n    this.gantt.api.registerMethod('scroll', 'to', this.scrollTo, this)\r\n    this.gantt.api.registerMethod('scroll', 'toDate', this.scrollToDate, this)\r\n    this.gantt.api.registerMethod('scroll', 'left', this.scrollToLeft, this)\r\n    this.gantt.api.registerMethod('scroll', 'right', this.scrollToRight, this)\r\n\r\n    this.gantt.api.registerMethod('scroll', 'setWidth', this.setWidth, this)\r\n  }\r\n\r\n  getScrollLeft () {\r\n    if (this.$element === undefined) {\r\n      return undefined\r\n    } else {\r\n      if (this.cachedScrollLeft === undefined) {\r\n        this.cachedScrollLeft = this.$element[0].scrollLeft\r\n      }\r\n\r\n      return this.cachedScrollLeft\r\n    }\r\n  }\r\n\r\n  getScrollWidth () {\r\n    return this.$element === undefined ? undefined : this.$element[0].scrollWidth\r\n  }\r\n\r\n  getWidth () {\r\n    return this.$element === undefined ? undefined : this.$element[0].offsetWidth\r\n  }\r\n\r\n  setWidth (width) {\r\n    if (this.$element[0]) {\r\n      // TODO: Implement this properly\r\n      // this.$element[0].offsetWidth = width;\r\n    }\r\n  }\r\n\r\n  getBordersWidth () {\r\n    if (this.$element === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    if (this.$element[0].clientWidth) {\r\n      return this.$element[0].offsetWidth - this.$element[0].clientWidth\r\n    } else {\r\n      // fix for IE11\r\n      let borderLeft = window.getComputedStyle(this.$element[0]).getPropertyValue('border-left-width') ? window.getComputedStyle(this.$element[0]).getPropertyValue('border-left-width').match(/\\d+/)[0] : '0'\r\n      let borderRight = window.getComputedStyle(this.$element[0]).getPropertyValue('border-right-width') ? window.getComputedStyle(this.$element[0]).getPropertyValue('border-right-width').match(/\\d+/)[0] : '0'\r\n\r\n      return parseInt(borderLeft, 10) + parseInt(borderRight, 10)\r\n    }\r\n  }\r\n\r\n  getBordersHeight () {\r\n    return this.$element === undefined ? undefined : (this.$element[0].offsetHeight - this.$element[0].clientHeight)\r\n  }\r\n\r\n  isVScrollbarVisible () {\r\n    if (this.$element !== undefined) {\r\n      return this.$element[0].scrollHeight > this.$element[0].offsetHeight\r\n    }\r\n  }\r\n\r\n  isHScrollbarVisible () {\r\n    if (this.$element !== undefined) {\r\n      return this.$element[0].scrollWidth > this.$element[0].offsetWidth\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scroll to a position\r\n   *\r\n   * @param {number} position Position to scroll to.\r\n   */\r\n  scrollTo (position) {\r\n    this.$element[0].scrollLeft = position\r\n    this.$element.triggerHandler('scroll')\r\n  }\r\n\r\n  /**\r\n   * Scroll to the left side\r\n   *\r\n   * @param {number} offset Offset to scroll.\r\n   */\r\n  scrollToLeft (offset) {\r\n    this.$element[0].scrollLeft -= offset\r\n    this.$element.triggerHandler('scroll')\r\n  }\r\n\r\n  /**\r\n   * Scroll to the right side\r\n   *\r\n   * @param {number} offset Offset to scroll.\r\n   */\r\n  scrollToRight (offset) {\r\n    this.$element[0].scrollLeft += offset\r\n    this.$element.triggerHandler('scroll')\r\n  }\r\n\r\n  /**\r\n   * Scroll to a date\r\n   *\r\n   * @param {moment} date moment to scroll to.\r\n   */\r\n  scrollToDate (date) {\r\n    let position = this.gantt.getPositionByDate(date)\r\n\r\n    if (position !== undefined) {\r\n      this.$element[0].scrollLeft = position - this.$element[0].offsetWidth / 2\r\n    }\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttScroll\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/scroll.factory.ts","import {IAugmentedJQuery} from 'angular'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttSide {\r\n  private $element: IAugmentedJQuery\r\n\r\n  private gantt: Gantt\r\n\r\n  constructor (gantt: Gantt) {\r\n    this.gantt = gantt\r\n  }\r\n\r\n  getWidth () {\r\n    if (this.gantt.options.value('showSide')) {\r\n      let width = this.gantt.options.value('sideWidth')\r\n      if (width === undefined && this.$element !== undefined) {\r\n        if (this.$element.css('width') !== undefined) {\r\n          this.$element.css('width', '')\r\n        }\r\n      }\r\n      if (this.$element !== undefined) {\r\n        width = this.$element[0].offsetWidth\r\n      }\r\n      if (width !== undefined) {\r\n        return width\r\n      }\r\n    }\r\n    return 0\r\n  }\r\n\r\n  show (value) {\r\n    if (this.$element !== undefined) {\r\n      this.$element.toggleClass('ng-hide', !value)\r\n    }\r\n  }\r\n\r\n  isShown () {\r\n    if (this.$element !== undefined) {\r\n      return !this.$element.hasClass('ng-hide')\r\n    }\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttSide\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/side.factory.ts","import {Timespan, TimespanModel} from './timespan.factory'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class GanttTimespansManager {\r\n  static GanttTimespan: { new(gantt: Gantt, model: TimespanModel): Timespan }\r\n\r\n  private gantt: Gantt\r\n  private timespansMap: {} = {}\r\n  private timespans: Timespan[] = []\r\n\r\n  constructor (gantt) {\r\n    this.gantt = gantt\r\n\r\n    this.gantt.$scope.$watchCollection('timespans', (newValue: TimespanModel[]) => {\r\n      this.clearTimespans()\r\n      this.loadTimespans(newValue)\r\n    })\r\n\r\n    this.gantt.api.registerMethod('timespans', 'load', this.loadTimespans, this)\r\n    this.gantt.api.registerMethod('timespans', 'remove', this.removeTimespans, this)\r\n    this.gantt.api.registerMethod('timespans', 'clear', this.clearTimespans, this)\r\n\r\n    this.gantt.api.registerEvent('timespans', 'add')\r\n    this.gantt.api.registerEvent('timespans', 'remove')\r\n    this.gantt.api.registerEvent('timespans', 'change')\r\n  }\r\n\r\n  /**\r\n   * Adds or updates timespans\r\n   * @param timespans\r\n   */\r\n  loadTimespans (timespans: TimespanModel | TimespanModel[]) {\r\n    if (!Array.isArray(timespans)) {\r\n      timespans = timespans !== undefined ? [timespans] : []\r\n    }\r\n\r\n    this.gantt.$scope.timespans = timespans\r\n    // tslint:disable:one-variable-per-declaration\r\n    for (let i = 0, l = timespans.length; i < l; i++) {\r\n      let timespanModel = timespans[i]\r\n      this.gantt.objectModel.cleanTimespan(timespanModel)\r\n      this.loadTimespan(timespanModel)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds a timespan or merges the timespan if there is already one with the same id\r\n   * @param timespanModel\r\n   * @returns {boolean}\r\n   */\r\n  loadTimespan (timespanModel: TimespanModel) {\r\n    // Copy to new timespan (add) or merge with existing (update)\r\n    let timespan: Timespan\r\n    let isUpdate = false\r\n\r\n    if (timespanModel.id in this.timespansMap) {\r\n      timespan = this.timespansMap[timespanModel.id]\r\n      timespan.model = timespanModel\r\n      isUpdate = true;\r\n      (this.gantt.api as any).timespans.raise.change(timespan)\r\n    } else {\r\n      timespan = new GanttTimespansManager.GanttTimespan(this.gantt, timespanModel)\r\n      this.timespansMap[timespanModel.id] = timespan\r\n      this.timespans.push(timespan);\r\n      (this.gantt.api as any).timespans.raise.add(timespan)\r\n    }\r\n\r\n    timespan.updatePosAndSize()\r\n    return isUpdate\r\n  }\r\n\r\n  removeTimespans (timespans: TimespanModel | TimespanModel[]) {\r\n    if (!Array.isArray(timespans)) {\r\n      timespans = [timespans]\r\n    }\r\n\r\n    for (let i = 0, l = timespans.length; i < l; i++) {\r\n      let timespanData = timespans[i]\r\n      this.removeTimespan(timespanData.id)\r\n    }\r\n  }\r\n\r\n  removeTimespan (timespanId: string) {\r\n    if (timespanId in this.timespansMap) {\r\n      delete this.timespansMap[timespanId] // Remove from map\r\n\r\n      let removedTimespan\r\n      let timespan\r\n      for (let i = this.timespans.length - 1; i >= 0; i--) {\r\n        timespan = this.timespans[i]\r\n        if (timespan.model.id === timespanId) {\r\n          removedTimespan = timespan\r\n          this.timespans.splice(i, 1) // Remove from array\r\n          break\r\n        }\r\n      }\r\n\r\n      (this.gantt.api as any).timespans.raise.remove(removedTimespan)\r\n      return removedTimespan\r\n    }\r\n\r\n    return undefined\r\n  }\r\n\r\n  /**\r\n   * Removes all timespans\r\n   */\r\n  clearTimespans () {\r\n    this.timespansMap = {}\r\n    this.timespans = []\r\n  }\r\n\r\n  updateTimespansPosAndSize () {\r\n    for (let i = 0, l = this.timespans.length; i < l; i++) {\r\n      this.timespans[i].updatePosAndSize()\r\n    }\r\n  }\r\n}\r\n\r\nexport default function (GanttTimespan: { new(gantt: Gantt, model: TimespanModel): Timespan }) {\r\n  'ngInject'\r\n\r\n  GanttTimespansManager.GanttTimespan = GanttTimespan\r\n  return GanttTimespansManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/timespan/timespansManager.factory.ts","import angular from 'angular'\r\n\r\nimport moment from 'moment'\r\nimport groupsDirective from 'plugins/groups/groups.directive';\r\n// import taskContentDirective from 'core/ui/template/taskContent.directive';\r\n\r\nexport default function ($scope, $timeout, $log, ganttUtils, GanttObjectModel, DemoService, ganttMouseOffset, ganttDebounce, $http) {\r\n  'ngInject'\r\n\r\n  // let objectModel\r\n  // let dataToRemove\r\n\r\n  //#region Event handler\r\n  // Event handler\r\n  let preleft = 0\r\n  let initVisibleGanttDataTimer\r\n  let logScrollEvent = function (left, date, direction) {\r\n    return\r\n    console.log(left, 'left')\r\n    console.log(preleft, 'preleft')\r\n    if (preleft !== 0 && date) {\r\n      let second = moment(date.format('YYYY-MM-DD HH:mm:ss')).diff(moment(fromScrollDate), 'second')\r\n      fromScrollDate = moment(fromScrollDate).add(second - 1, 'second').format('YYYY-MM-DD HH:mm:ss')\r\n      toScrollDate = moment(toScrollDate).add(second, 'second').format('YYYY-MM-DD HH:mm:ss')\r\n\r\n      if (initVisibleGanttDataTimer) {\r\n        $timeout.cancel(initVisibleGanttDataTimer)\r\n      }\r\n      initVisibleGanttDataTimer = $timeout(function () {\r\n        $scope.initVisibleGanttData()\r\n      }, 300)\r\n    }\r\n    //#region\r\n    // else {\r\n    //   fromScrollDate = moment($scope.options.fromDate).add(- 1, 'second').format('YYYY-MM-DD HH:mm:ss')\r\n\r\n    //   const scale = document.getElementById('scaleModeStorage').value\r\n    //   let splittedViewScale\r\n    //   let viewScaleValue = 1\r\n    //   let viewScaleUnit = scale\r\n    //   if (scale) {\r\n    //     splittedViewScale = scale.split(' ')\r\n    //   }\r\n    //   if (splittedViewScale && splittedViewScale.length > 1) {\r\n    //     viewScaleValue = splittedViewScale[0]\r\n    //     viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n    //   }\r\n    //   if (viewScaleUnit === 'day') {\r\n    //     toScrollDate = moment($scope.options.fromDate).add(viewScaleValue, 'day').format('YYYY-MM-DD HH:mm:ss')\r\n    //   } else {\r\n    //     toScrollDate = moment($scope.options.fromDate).add(viewScaleValue, 'hour').format('YYYY-MM-DD HH:mm:ss')\r\n    //   }\r\n\r\n    //   if (initVisibleGanttDataTimer) {\r\n    //     $timeout.cancel(initVisibleGanttDataTimer)\r\n    //   }\r\n    //   initVisibleGanttDataTimer = $timeout(function () {\r\n    //     $scope.initVisibleGanttData()\r\n    //   }, 300)\r\n    // }\r\n    //#endregion\r\n    preleft = left\r\n    // if (date !== undefined) {\r\n    //   $log.info('[Event] api.on.scroll: ' + left + ', ' + (date === undefined ? 'undefined' : date.format()) + ', ' + direction)\r\n    // }\r\n  }\r\n\r\n  // Event handler\r\n  let logDataEvent = function (eventName) {\r\n    $log.info('[Event] ' + eventName)\r\n  }\r\n\r\n  let curTask\r\n  let preTask\r\n  // Event handler\r\n  let logTaskEvent = function (eventName, task) {\r\n    $log.info('[Event] ' + eventName + ': ' + task.model.name)\r\n    if (eventName === 'task-click') {\r\n      curTaskId = task.model.id\r\n      curTaskFrom = task.model.from\r\n      curRowName = task.row.model.name\r\n      preTask = curTask\r\n      curTask = task\r\n      if (task.model.childTasks && task.model.childTasks.length > 1) {\r\n        curTaskId = document.getElementById('taskIdStorage').value = ''\r\n      }\r\n      const taskColorMode = document.getElementById('taskColorsStorage').value\r\n      const taskHighlight = document.getElementById('taskHighlightStorage').value\r\n      if (taskHighlight !== '') {\r\n        $scope.initTaskColors()\r\n        $scope.initTaskHighlightColors()\r\n      } else {\r\n        if (curTask.model.color === CellSelectedColor) {\r\n          if (taskColorMode === '1') {\r\n            curTask.model.color = curTask.model.moAheadDelayColor\r\n          } else if (taskColorMode === '2') {\r\n            curTask.model.color = curTask.model.moKitColor\r\n          } else {\r\n            curTask.model.color = curTask.model.moStatusColor\r\n          }\r\n        } else {\r\n          curTask.model.color = CellSelectedColor\r\n        }\r\n        if (preTask && preTask !== curTask) {\r\n          if (taskColorMode === '1') {\r\n            preTask.model.color = preTask.model.moAheadDelayColor\r\n          } else if (taskColorMode === '2') {\r\n            preTask.model.color = preTask.model.moKitColor\r\n          } else {\r\n            preTask.model.color = preTask.model.moStatusColor\r\n          }\r\n        }\r\n      }\r\n\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            task.dependencies = []\r\n          })\r\n        }\r\n      })\r\n      curTask.model.dependencies = curTask.model.tempDependencies\r\n      $scope.initParentDependencies(curTask.model.id)\r\n      $log.info('initParentDependencies ')\r\n      $scope.initChildDependencies(curTask.model.dependencies)\r\n      $log.info('initChildDependencies ')\r\n      $scope.api.dependencies.refresh()\r\n    } else if (eventName === 'tasks.on.moveBegin') {\r\n      $scope.data.forEach(rowData => {\r\n        let curMoResCodePriority = task.model.moResCodePriorities.find(moResCodePriority => moResCodePriority.Key === rowData.name)\r\n        if (curMoResCodePriority) {\r\n          rowData.color = RowSelectedColor\r\n          rowData.priorityTips = curMoResCodePriority.Value\r\n          // $scope.options.timeFramesWorkingMode = 'hidden'\r\n        } else {\r\n          rowData.color = ''\r\n          rowData.priorityTips = ''\r\n        }\r\n      })\r\n    } else if (eventName === 'tasks.on.moveEnd') {\r\n      $scope.data.forEach(rowData => {\r\n        rowData.color = ''\r\n        rowData.priorityTips = ''\r\n        // $scope.options.timeFramesWorkingMode = 'visible'\r\n      })\r\n    }\r\n  }\r\n\r\n  // Event handler\r\n  let logRowEvent = function (eventName, row) {\r\n    $log.info('[Event] ' + eventName + ': ' + row.model.name)\r\n    if ((eventName === 'row-click' || eventName === 'row-label-click')) {\r\n      curRowName = row.model.name\r\n      $scope.initGanttResourceCalendars()\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.name === row.model.name) {\r\n          rowData.color = RowSelectedColor\r\n        } else {\r\n          rowData.color = ''\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // Event handler\r\n  let logTimespanEvent = function (eventName, timespan) {\r\n    $log.info('[Event] ' + eventName + ': ' + timespan.model.name)\r\n  }\r\n\r\n  // Event handler\r\n  let logLabelsEvent = function (eventName, width) {\r\n    $log.info('[Event] ' + eventName + ': ' + width)\r\n  }\r\n\r\n  // Event handler\r\n  let logColumnsGenerateEvent = function (columns, headers) {\r\n    $log.info('[Event] ' + 'columns.on.generate' + ': ' + columns.length + ' column(s), ' + headers.length + ' header(s)')\r\n  }\r\n\r\n  // Event handler\r\n  let logRowsFilterEvent = function (rows, filteredRows) {\r\n    $log.info('[Event] rows.on.filter: ' + filteredRows.length + '/' + rows.length + ' rows displayed.')\r\n  }\r\n\r\n  // Event handler\r\n  let logTasksFilterEvent = function (tasks, filteredTasks) {\r\n    $log.info('[Event] tasks.on.filter: ' + filteredTasks.length + '/' + tasks.length + ' tasks displayed.')\r\n  }\r\n\r\n  // Event handler\r\n  let logReadyEvent = function () {\r\n    $log.info('[Event] core.on.ready')\r\n  }\r\n\r\n  // Event utility function\r\n  let addEventName = function (eventName, func) {\r\n    return function (data) {\r\n      return func(eventName, data)\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  // angular-gantt options\r\n  $scope.options = {\r\n    mode: 'custom',\r\n    scale: 'day',\r\n    sortMode: undefined,\r\n    sideMode: 'Tree',\r\n    daily: false,\r\n    maxHeight: true,\r\n    width: false,\r\n    columnWidth: 400,\r\n    zoom: 1,\r\n    columns: ['model.name', 'from', 'to'],\r\n    treeTableColumns: ['from', 'to'],\r\n    columnsHeaders: { 'model.name': 'Name', 'from': 'From', 'to': 'To' },\r\n    columnsClasses: { 'model.name': 'gantt-column-name', 'from': 'gantt-column-from', 'to': 'gantt-column-to' },\r\n    columnsFormatters: {\r\n      'from': function (from) {\r\n        return from !== undefined ? from.format('lll') : undefined\r\n      },\r\n      'to': function (to) {\r\n        return to !== undefined ? to.format('lll') : undefined\r\n      }\r\n    },\r\n    treeHeaderContent: '<span></span>',\r\n    columnsHeaderContents: {\r\n      'model.name': '<i class=\"fa fa-align-justify\"></i> {{getHeader()}}',\r\n      'from': '<i class=\"fa fa-calendar\"></i> {{getHeader()}}',\r\n      'to': '<i class=\"fa fa-calendar\"></i> {{getHeader()}}'\r\n    },\r\n    autoExpand: 'none',\r\n    taskOutOfRange: 'truncate',\r\n    fromDate: moment(null),\r\n    toDate: null,\r\n    rowContentEnabled: true,\r\n    rowContent: '<lable><font size=\"2\" color=\"red\">{{row.model.priorityTips}}</font></lable>' +\r\n      '{{row.model.name}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>' +\r\n      '<lable style=\"display:{{row.model.publicTimeDisplay}}\"><font size=\"2\" color=\"red\">{{row.model.publicTime}}</font></lable>',\r\n    taskContentEnabled: true,\r\n    taskContent: '<i class=\"fa fa-tasks\"></i> {{task.model.name}}',\r\n    tooltipsContent:\r\n      '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>' +\r\n      '<label>{{task.model.taskTooltipsContent.ITEM_CODE}}</label><br/>' +\r\n      '<label>{{task.model.taskTooltipsContent.DESCRIPTIONS_CN}}</label><br/>' +\r\n      '<label>{{task.model.taskTooltipsContent.DEMAND_DATE}}</label><br/>' +\r\n      '<label>{{task.model.taskTooltipsContent.MO_QTY}}</label><br/>' +\r\n      '<label>{{getFromLabel() + \\' - \\' + getToLabel()}}</label>',\r\n    allowSideResizing: false,\r\n    labelsEnabled: true,\r\n    currentDate: 'none',\r\n    currentDateValue: new Date(),\r\n    draw: false,\r\n    readOnly: false,\r\n    groupDisplayMode: 'group',\r\n    filterTask: '',\r\n    filterRow: '',\r\n    timeFrames: {\r\n      'closed': {\r\n        working: false,\r\n        default: true\r\n      }\r\n    },\r\n    dateFrames: {\r\n    },\r\n    timeFramesWorkingMode: 'visible',\r\n    timeFramesNonWorkingMode: 'visible',\r\n    columnMagnet: '1 minutes',\r\n    timeFramesMagnet: true,\r\n    dependencies: {\r\n      enabled: true,\r\n      conflictChecker: true\r\n    },\r\n    movable: {\r\n      allowRowSwitching: function (task, targetRow) {\r\n        if (task.model.moResCodePriorities) {\r\n          let curMoResCodePriority = task.model.moResCodePriorities.find(moResCodePriority => moResCodePriority.Key === targetRow.model.name)\r\n          if (curMoResCodePriority) {\r\n            return true\r\n          }\r\n        }\r\n\r\n        return false\r\n\r\n        // return task.row.model.name !== 'Milestones' && targetRow.model.name !== 'Milestones'\r\n      }\r\n    },\r\n    corner: {\r\n      headersLabels: function (key) {\r\n        return key.charAt(0).toUpperCase() + key.slice(1)\r\n      },\r\n      headersLabelsTemplates: ''\r\n    },\r\n    targetDataAddRowIndex: undefined,\r\n    canDraw: function (event) {\r\n      let isLeftMouseButton = event.button === 0 || event.button === 1\r\n      return $scope.options.draw && !$scope.options.readOnly && isLeftMouseButton\r\n    },\r\n    drawTaskFactory: function () {\r\n      return {\r\n        id: ganttUtils.randomUuid(),  // Unique id of the task.\r\n        name: 'Drawn task', // Name shown on top of each task.\r\n        color: '#AA8833' // Color of the task in HEX format (Optional).\r\n      }\r\n    },\r\n    api: function (api) {\r\n      // API Object is used to control methods and events from angular-gantt.\r\n      $scope.api = api\r\n\r\n      api.core.on.ready($scope, function () {\r\n        // Log various events to console\r\n        api.scroll.on.scroll($scope, logScrollEvent)\r\n        api.core.on.ready($scope, logReadyEvent)\r\n\r\n        api.data.on.remove($scope, addEventName('data.on.remove', logDataEvent))\r\n        api.data.on.load($scope, addEventName('data.on.load', logDataEvent))\r\n        api.data.on.clear($scope, addEventName('data.on.clear', logDataEvent))\r\n        api.data.on.change($scope, addEventName('data.on.change', logDataEvent))\r\n\r\n        // api.tasks.on.add($scope, addEventName('tasks.on.add', logTaskEvent))\r\n        api.tasks.on.change($scope, addEventName('tasks.on.change', logTaskEvent))\r\n        api.tasks.on.rowChange($scope, addEventName('tasks.on.rowChange', logTaskEvent))\r\n        api.tasks.on.remove($scope, addEventName('tasks.on.remove', logTaskEvent))\r\n\r\n        if (api.tasks.on.moveBegin) {\r\n          api.tasks.on.moveBegin($scope, addEventName('tasks.on.moveBegin', logTaskEvent))\r\n          // api.tasks.on.move($scope, addEventName('tasks.on.move', logTaskEvent));\r\n          api.tasks.on.moveEnd($scope, addEventName('tasks.on.moveEnd', logTaskEvent))\r\n\r\n          api.tasks.on.resizeBegin($scope, addEventName('tasks.on.resizeBegin', logTaskEvent))\r\n          // api.tasks.on.resize($scope, addEventName('tasks.on.resize', logTaskEvent));\r\n          api.tasks.on.resizeEnd($scope, addEventName('tasks.on.resizeEnd', logTaskEvent))\r\n        }\r\n\r\n        if (api.tasks.on.drawBegin) {\r\n          api.tasks.on.drawBegin($scope, addEventName('tasks.on.drawBegin', logTaskEvent))\r\n          // api.tasks.on.draw($scope, addEventName('tasks.on.draw', logTaskEvent));\r\n          api.tasks.on.drawEnd($scope, addEventName('tasks.on.drawEnd', logTaskEvent))\r\n        }\r\n\r\n        // api.rows.on.add($scope, addEventName('rows.on.add', logRowEvent))\r\n        api.rows.on.change($scope, addEventName('rows.on.change', logRowEvent))\r\n        api.rows.on.move($scope, addEventName('rows.on.move', logRowEvent))\r\n        api.rows.on.remove($scope, addEventName('rows.on.remove', logRowEvent))\r\n\r\n        // api.side.on.resizeBegin($scope, addEventName('labels.on.resizeBegin', logLabelsEvent))\r\n        // api.side.on.resize($scope, addEventName('labels.on.resize', logLabelsEvent));\r\n        // api.side.on.resizeEnd($scope, addEventName('labels.on.resizeEnd', logLabelsEvent))\r\n\r\n        // api.timespans.on.add($scope, addEventName('timespans.on.add', logTimespanEvent))\r\n        api.columns.on.generate($scope, logColumnsGenerateEvent)\r\n\r\n        api.rows.on.filter($scope, logRowsFilterEvent)\r\n        api.tasks.on.filter($scope, logTasksFilterEvent)\r\n\r\n        // api.data.on.change($scope, function (newData) {})\r\n\r\n        // When gantt is ready, load data.\r\n        // `data` attribute could have been used too.\r\n        $scope.load()\r\n\r\n        // Add some DOM events\r\n        api.directives.on.new($scope, function (directiveName, directiveScope, element) {\r\n          if (directiveName === 'ganttTask') {\r\n            element.bind('click', function (event) {\r\n              event.stopPropagation()\r\n              logTaskEvent('task-click', directiveScope.task)\r\n            })\r\n            element.bind('mousedown touchstart', function (event) {\r\n              event.stopPropagation()\r\n              $scope.live.row = directiveScope.task.row.model\r\n              if (directiveScope.task.originalModel !== undefined) {\r\n                $scope.live.task = directiveScope.task.originalModel\r\n              } else {\r\n                $scope.live.task = directiveScope.task.model\r\n              }\r\n              $scope.$digest()\r\n            })\r\n          } else if (directiveName === 'ganttRow') {\r\n            element.bind('click', function (event) {\r\n              event.stopPropagation()\r\n              logRowEvent('row-click', directiveScope.row)\r\n            })\r\n            element.bind('mousedown touchstart', function (event) {\r\n              event.stopPropagation()\r\n              $scope.live.row = directiveScope.row.model\r\n              $scope.$digest()\r\n            })\r\n          } else if (directiveName === 'ganttRowLabel') {\r\n            element.bind('click', function () {\r\n              logRowEvent('row-label-click', directiveScope.row)\r\n            })\r\n            element.bind('mousedown touchstart', function () {\r\n              $scope.live.row = directiveScope.row.model\r\n              $scope.$digest()\r\n            })\r\n          }\r\n        })\r\n\r\n        api.tasks.on.rowChange($scope, function (task) {\r\n          $scope.live.row = task.row.model\r\n        })\r\n\r\n        // objectModel = new GanttObjectModel(api)\r\n      })\r\n    }\r\n  }\r\n\r\n  $scope.handleTaskIconClick = function (taskModel) {\r\n    alert('Icon from ' + taskModel.name + ' task has been clicked.')\r\n  }\r\n\r\n  $scope.handleRowIconClick = function (rowModel) {\r\n    alert('Icon from ' + rowModel.name + ' row has been clicked.')\r\n  }\r\n\r\n  $scope.expandAll = function () {\r\n    $scope.api.tree.expandAll()\r\n  }\r\n\r\n  $scope.collapseAll = function () {\r\n    $scope.api.tree.collapseAll()\r\n  }\r\n\r\n  // $scope.$watch('options.sideMode', function (newValue, oldValue) {\r\n  //   if (newValue !== oldValue) {\r\n  //     $scope.api.side.setWidth(undefined)\r\n  //     $timeout(function () {\r\n  //       $scope.api.columns.refresh()\r\n  //     })\r\n  //   }\r\n  // })\r\n\r\n  $scope.canAutoWidth = function (scale) {\r\n    if (scale.match(/.*?hour.*?/) || scale.match(/.*?minute.*?/)) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  $scope.getColumnWidth = function (widthEnabled, scale, zoom) {\r\n    if (!widthEnabled && $scope.canAutoWidth(scale)) {\r\n      return undefined\r\n    }\r\n\r\n    if (scale.match(/.*?week.*?/)) {\r\n      return 150 * zoom\r\n    }\r\n\r\n    if (scale.match(/.*?month.*?/)) {\r\n      return 300 * zoom\r\n    }\r\n\r\n    if (scale.match(/.*?quarter.*?/)) {\r\n      return 500 * zoom\r\n    }\r\n\r\n    if (scale.match(/.*?year.*?/)) {\r\n      return 800 * zoom\r\n    }\r\n\r\n    return 40 * zoom\r\n  }\r\n\r\n  // Reload data action\r\n  $scope.load = function () {\r\n    $scope.data = DemoService.getSampleData()\r\n    // dataToRemove = undefined\r\n\r\n    $scope.timespans = DemoService.getSampleTimespans()\r\n  }\r\n\r\n  $scope.reload = function () {\r\n    $scope.load()\r\n  }\r\n\r\n  // Remove data action\r\n  $scope.remove = function () {\r\n    // $scope.api.data.remove(dataToRemove)\r\n    $scope.api.dependencies.refresh()\r\n  }\r\n\r\n  // Clear data action\r\n  $scope.clear = function () {\r\n    $scope.data = []\r\n  }\r\n  //#region\r\n  // Add data to target row index\r\n  // $scope.addOverlapTaskToTargetRowIndex = function () {\r\n  //   let targetDataAddRowIndex = parseInt($scope.options.targetDataAddRowIndex, 10)\r\n\r\n  //   if (targetDataAddRowIndex) {\r\n  //     let targetRow = $scope.data[$scope.options.targetDataAddRowIndex]\r\n\r\n  //     if (targetRow && targetRow.tasks && targetRow.tasks.length > 0) {\r\n  //       let firstTaskInRow = targetRow.tasks[0]\r\n  //       let copiedColor = firstTaskInRow.color\r\n  //       let firstTaskEndDate = firstTaskInRow.to.toDate()\r\n  //       let overlappingFromDate = new Date(firstTaskEndDate)\r\n\r\n  //       overlappingFromDate.setDate(overlappingFromDate.getDate() - 1)\r\n\r\n  //       let overlappingToDate = new Date(overlappingFromDate)\r\n\r\n  //       overlappingToDate.setDate(overlappingToDate.getDate() + 7)\r\n\r\n  //       targetRow.tasks.push({\r\n  //         'name': 'Overlapping',\r\n  //         'from': overlappingFromDate,\r\n  //         'to': overlappingToDate,\r\n  //         'color': copiedColor\r\n  //       })\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  // Visual two way binding.\r\n  $scope.live = {}\r\n\r\n  let debounceValue = 1000\r\n\r\n  // let listenTaskJson = ganttDebounce(function (taskJson) {\r\n  //   if (taskJson !== undefined) {\r\n  //     let task = angular.fromJson(taskJson)\r\n  //     objectModel.cleanTask(task)\r\n  //     let model = $scope.live.task\r\n  //     angular.merge(model, task)\r\n  //   }\r\n  // }, debounceValue)\r\n  // $scope.$watch('live.taskJson', listenTaskJson)\r\n\r\n  // let listenRowJson = ganttDebounce(function (rowJson) {\r\n  //   if (rowJson !== undefined) {\r\n  //     let row = angular.fromJson(rowJson)\r\n  //     objectModel.cleanRow(row)\r\n  //     let tasks = row.tasks\r\n\r\n  //     delete row.tasks\r\n  //     delete row.drawTask\r\n\r\n  //     let rowModel = $scope.live.row\r\n\r\n  //     angular.merge(rowModel, row)\r\n\r\n  //     let newTasks = {}\r\n  //     let i\r\n  //     let l\r\n\r\n  //     if (tasks !== undefined) {\r\n  //       for (i = 0, l = tasks.length; i < l; i++) {\r\n  //         objectModel.cleanTask(tasks[i])\r\n  //       }\r\n\r\n  //       for (i = 0, l = tasks.length; i < l; i++) {\r\n  //         newTasks[tasks[i].id] = tasks[i]\r\n  //       }\r\n\r\n  //       if (rowModel.tasks === undefined) {\r\n  //         rowModel.tasks = []\r\n  //       }\r\n  //       for (i = rowModel.tasks.length - 1; i >= 0; i--) {\r\n  //         let existingTask = rowModel.tasks[i]\r\n  //         let newTask = newTasks[existingTask.id]\r\n  //         if (newTask === undefined) {\r\n  //           rowModel.tasks.splice(i, 1)\r\n  //         } else {\r\n  //           objectModel.cleanTask(newTask)\r\n  //           angular.merge(existingTask, newTask)\r\n  //           delete newTasks[existingTask.id]\r\n  //         }\r\n  //       }\r\n  //     } else {\r\n  //       delete rowModel.tasks\r\n  //     }\r\n\r\n  //     angular.forEach(newTasks, function (newTask) {\r\n  //       rowModel.tasks.push(newTask)\r\n  //     })\r\n  //   }\r\n  // }, debounceValue)\r\n  // $scope.$watch('live.rowJson', listenRowJson)\r\n\r\n  // $scope.$watchCollection('live.task', function (task) {\r\n  //   $timeout(function () {\r\n  //     $scope.live.taskJson = angular.toJson(task, true)\r\n  //     $scope.live.rowJson = angular.toJson($scope.live.row, true)\r\n  //   })\r\n  // })\r\n\r\n  // $scope.$watchCollection('live.row', function (row) {\r\n  //   $timeout(function () {\r\n  //     $scope.live.rowJson = angular.toJson(row, true)\r\n  //     if (row !== undefined && row.tasks !== undefined && row.tasks.indexOf($scope.live.task) < 0) {\r\n  //       $scope.live.task = row.tasks[0]\r\n  //     }\r\n  //   })\r\n  // })\r\n\r\n  // $scope.$watchCollection('live.row.tasks', function () {\r\n  //   $timeout(function () {\r\n  //     $scope.live.rowJson = angular.toJson($scope.live.row, true)\r\n  //   })\r\n  // })\r\n  //#endregion\r\n  let ganttResourceCalendars\r\n  $scope.initGanttResourceCalendars = function () {\r\n    if (curRowName && ganttResourceCalendars) {\r\n      let curGanttResourceCalendar = ganttResourceCalendars.filter(resCalendar => resCalendar.ResourceCode === curRowName)\r\n      if (curGanttResourceCalendar && curGanttResourceCalendar.length > 0) {\r\n        let timeFrames = {}\r\n        for (let key in curGanttResourceCalendar[0].TimeFrames) {\r\n          timeFrames[key] = {\r\n            start: moment(curGanttResourceCalendar[0].TimeFrames[key].Start, 'HH:mm'),\r\n            end: moment(curGanttResourceCalendar[0].TimeFrames[key].End, 'HH:mm'),\r\n            color: curGanttResourceCalendar[0].TimeFrames[key].Color,\r\n            working: curGanttResourceCalendar[0].TimeFrames[key].Working,\r\n            defualt: curGanttResourceCalendar[0].TimeFrames[key].Defualt\r\n          }\r\n        }\r\n\r\n        let dateFrames = {}\r\n        for (let key in curGanttResourceCalendar[0].DateFrames) {\r\n          let year = key.slice(0, 4)\r\n          let month = key.slice(4, 6)\r\n          let day = key.slice(6, 8)\r\n          dateFrames[key] = {\r\n            date: moment(year + '-' + month + '-' + day, 'YYYY-MM-DD'),\r\n            targets: curGanttResourceCalendar[0].DateFrames[key]\r\n          }\r\n        }\r\n\r\n        $scope.options.timeFrames = timeFrames\r\n        $scope.options.dateFrames = dateFrames\r\n      }\r\n    }\r\n  }\r\n\r\n  let RowSelectedColor\r\n  let CellSelectedColor\r\n  let SameItemCodeColor\r\n  let SameProjectNumColor\r\n  let StandardFalgYColor\r\n  let fromScrollDate\r\n  let toScrollDate\r\n  let scopeData\r\n\r\n  $scope.initGanttData = function () {\r\n    $scope.options.scale = 'day'\r\n    document.getElementById('scaleModeStorage').value = '3 day'\r\n    $scope.options.columnWidth = 400\r\n    $scope.options.filterTask = document.getElementById('filterTasksStorage').value = ''\r\n    $scope.options.filterRow = document.getElementById('filterRowsStorage').value = ''\r\n    document.getElementById('taskTooltipsStorage').value = ''\r\n    $scope.options.taskContent = '<div style=\"text-align:left; font-size:6px\">' +\r\n      '<div style=\"width:1920px;height:5px;background:red;\" ng-if=\"task.model.exception.warningFlag\"></div>' +\r\n      '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>' +\r\n      '<label>{{task.model.from.format(\"YYYY-MM-DD HH:mm:ss\") + \\' - \\' + task.model.to.format(\"YYYY-MM-DD HH:mm:ss\")}}</label>' + '</div>'\r\n\r\n    curRowName = document.getElementById('rowNameStorage').value = ''\r\n    curTaskId = document.getElementById('taskIdStorage').value = ''\r\n    curTaskFrom = document.getElementById('taskFromStorage').value = ''\r\n    $scope.options.timeFrames = {}\r\n    $scope.options.dateFrames = {}\r\n\r\n    document.getElementById('taskHighlightStorage').value = ''\r\n\r\n    let ganttData = JSON.parse(document.getElementById('dataStorage').value)\r\n    $scope.data = ganttData.plantPlatformDataOutputDto.data\r\n    // scopeData = ganttData.plantPlatformDataOutputDto.data\r\n    $scope.options.fromDate = ganttData.dateRange.StartDate\r\n    $scope.options.toDate = ganttData.dateRange.EndDate\r\n    $scope.initScaleMode()\r\n\r\n    ganttResourceCalendars = ganttData.plantPlatformDataOutputDto.GanttResourceCalendars\r\n    RowSelectedColor = ganttData.plantPlatformDataOutputDto.RowSelectedColor\r\n    CellSelectedColor = ganttData.plantPlatformDataOutputDto.CellSelectedColor\r\n    SameItemCodeColor = ganttData.plantPlatformDataOutputDto.SameItemCodeColor\r\n    SameProjectNumColor = ganttData.plantPlatformDataOutputDto.SameProjectNumColor\r\n    StandardFalgYColor = ganttData.plantPlatformDataOutputDto.StandardFalgYColor\r\n  }\r\n\r\n  $scope.mergeGanttData = function () {\r\n    return\r\n    const scale = document.getElementById('scaleModeStorage').value\r\n    let viewScaleValue = 1\r\n    let viewScaleUnit = 'day'\r\n    let splittedViewScale\r\n    if (scale) {\r\n      splittedViewScale = scale.split(' ')\r\n    }\r\n    if (splittedViewScale && splittedViewScale.length > 1) {\r\n      viewScaleValue = splittedViewScale[0]\r\n      viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n    }\r\n\r\n    if (viewScaleUnit !== 'day' || viewScaleValue < 2) {\r\n      return\r\n    }\r\n\r\n    let tempScopeData = []\r\n    let guidSeed = new Date().getTime()\r\n    scopeData.forEach((rowData, rowIndex) => {\r\n      tempScopeData.push(JSON.parse(JSON.stringify(rowData)))\r\n      tempScopeData[rowIndex].tasks = []\r\n      if (rowData.tasks.length > 0) {\r\n        let taskIndex = 0\r\n        for (let i = 0; i < rowData.tasks.length; i++) {\r\n          if (i === 0) {\r\n            tempScopeData[rowIndex].tasks.push(JSON.parse(JSON.stringify(rowData.tasks[i])))\r\n            tempScopeData[rowIndex].tasks[taskIndex].childTasks.push(JSON.parse(JSON.stringify(rowData.tasks[i])))\r\n            taskIndex++\r\n          } else {\r\n            let diffSecond1 = moment(rowData.tasks[i].from).diff(rowData.tasks[i - 1].to, 'second')\r\n            // && fromScrollDate <= rowData.tasks[i - 1].from\r\n            let diffSecond2 = moment(fromScrollDate).diff(rowData.tasks[i - 1].from, 'second')\r\n            if (rowData.tasks[i - 1].movable && rowData.tasks[i].movable\r\n              && rowData.tasks[i - 1].taskTooltipsContent.ITEM_CODE === rowData.tasks[i].taskTooltipsContent.ITEM_CODE\r\n              && rowData.tasks[i - 1].moStatusColor === rowData.tasks[i].moStatusColor\r\n              && diffSecond1 === 0 && diffSecond2 <= 0) {\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].id = guidSeed++\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].name = rowData.tasks[i].taskTooltipsContent.ITEM_CODE + ''\r\n                + (tempScopeData[rowIndex].tasks[taskIndex - 1].childTasks.length + 1)\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].to = rowData.tasks[i].to\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].progress = undefined\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].dependencies = []\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].tempDependencies = []\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.MAKE_ORDER_NUM = tempScopeData[rowIndex].tasks[taskIndex - 1].name\r\n              // tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.ITEM_CODE = tempScopeData[rowIndex].tasks[taskIndex - 1].name\r\n              // tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.DESCRIPTIONS_CN = tempScopeData[rowIndex].tasks[taskIndex - 1].name\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.MO_QTY += rowData.tasks[i].taskTooltipsContent.MO_QTY\r\n              // tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.PROJECT_NUMBER = tempScopeData[rowIndex].tasks[taskIndex - 1].name\r\n              // tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.STANDARD_FLAG = tempScopeData[rowIndex].tasks[taskIndex - 1].name\r\n              // tempScopeData[rowIndex].tasks[taskIndex - 1].moResCodePriorities = []\r\n              tempScopeData[rowIndex].tasks[taskIndex - 1].childTasks.push(JSON.parse(JSON.stringify(rowData.tasks[i])))\r\n              if (moment(rowData.tasks[i].taskTooltipsContent.DEMAND_DATE).diff(rowData.tasks[i - 1].taskTooltipsContent.DEMAND_DATE, 'second') > 0) {\r\n                tempScopeData[rowIndex].tasks[taskIndex - 1].taskTooltipsContent.DEMAND_DATE = rowData.tasks[i].taskTooltipsContent.DEMAND_DATE\r\n              }\r\n            } else {\r\n              tempScopeData[rowIndex].tasks.push(JSON.parse(JSON.stringify(rowData.tasks[i])))\r\n              tempScopeData[rowIndex].tasks[taskIndex].childTasks.push(JSON.parse(JSON.stringify(rowData.tasks[i])))\r\n              taskIndex++\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    scopeData = tempScopeData\r\n  }\r\n\r\n  $scope.splitGanttData = function () {\r\n    return\r\n    let mergeFlag = false\r\n    scopeData.forEach(rowData => {\r\n      rowData.tasks.forEach(task => {\r\n        if (task.childTasks && task.childTasks.length > 0) {\r\n          mergeFlag = true\r\n          return\r\n        }\r\n      })\r\n      if (mergeFlag) {\r\n        return\r\n      }\r\n    })\r\n\r\n    if (!mergeFlag) {\r\n      scopeData.forEach(rowData => {\r\n        rowData.tasks.forEach(task => {\r\n          task.from = moment(task.from)\r\n          task.to = moment(task.to)\r\n        })\r\n      })\r\n    }\r\n\r\n    let tempScopeData = []\r\n    scopeData.forEach((rowData, rowIndex) => {\r\n      tempScopeData.push(JSON.parse(JSON.stringify(rowData)))\r\n      tempScopeData[rowIndex].tasks = []\r\n      rowData.tasks.forEach(task => {\r\n        if (task.childTasks) {\r\n          task.childTasks.forEach(childTask => {\r\n            childTask.visible = true\r\n            let tempChildTask = JSON.parse(JSON.stringify(childTask))\r\n            tempChildTask.visible = true\r\n            tempScopeData[rowIndex].tasks.push(tempChildTask)\r\n          })\r\n        }\r\n      })\r\n    })\r\n    // fromtask\r\n    tempScopeData.forEach(curRow => {\r\n      curRow.tasks.sort((task1, task2) => {\r\n        if (moment(task1.from).diff(task2.from, 'second') >= 0) {\r\n          return 1\r\n        } else {\r\n          return -1\r\n        }\r\n      })\r\n    })\r\n\r\n    if (mergeFlag) {\r\n      scopeData = tempScopeData\r\n    }\r\n  }\r\n\r\n  $scope.initVisibleGanttData = function () {\r\n    return;\r\n    console.log(fromScrollDate)\r\n    console.log(toScrollDate)\r\n    // \r\n    $scope.splitGanttData()\r\n    console.log(scopeData, 'splitGanttData')\r\n    // \r\n    $scope.mergeGanttData()\r\n    console.log(scopeData, 'mergeGanttData')\r\n    let taskCount = 0\r\n    let taskVisibleCount = 0\r\n    scopeData.forEach(rowData => {\r\n      if (rowData.tasks.length > 0) {\r\n        taskCount += rowData.tasks.length\r\n        rowData.tasks.forEach(task => {\r\n          if ((task.from && moment(task.from).isBetween(fromScrollDate, toScrollDate)) || (task.to && moment(task.to).isBetween(fromScrollDate, toScrollDate))) {\r\n            task.visible = true\r\n            taskVisibleCount += 1\r\n          } else {\r\n            task.visible = false\r\n          }\r\n        })\r\n      }\r\n    })\r\n    $scope.data = scopeData\r\n    console.log($scope.data)\r\n    console.log('' + taskCount)\r\n    console.log('' + taskVisibleCount)\r\n  }\r\n\r\n  $scope.getGanttData = function () {\r\n    // \r\n    $scope.splitGanttData()\r\n    document.getElementById('dataStorage').value = JSON.stringify({ data: $scope.data })\r\n  }\r\n\r\n  $scope.setGanttData = function () {\r\n    // let ganttData = JSON.parse(document.getElementById('dataStorage').value)\r\n    // $scope.data = ganttData.plantPlatformDataOutputDto.data\r\n    curRowName = document.getElementById('rowNameStorage').value = ''\r\n    curTaskId = document.getElementById('taskIdStorage').value = ''\r\n    curTaskFrom = document.getElementById('taskFromStorage').value = ''\r\n    $scope.options.timeFrames = {}\r\n    $scope.options.dateFrames = {}\r\n    // scopeData = JSON.parse(document.getElementById('dataStorage').value).plantPlatformDataOutputDto.data\r\n    $scope.data = JSON.parse(document.getElementById('dataStorage').value).plantPlatformDataOutputDto.data\r\n    // $scope.initScaleMode()\r\n    $scope.initTaskColors()\r\n    $scope.initTaskTooltipsDisplay()\r\n  }\r\n\r\n  $scope.initScaleMode = function () {\r\n    const scale = document.getElementById('scaleModeStorage').value\r\n    let splittedViewScale\r\n    let viewScaleValue = 1\r\n    let viewScaleUnit = scale\r\n    preleft = 0\r\n\r\n    fromScrollDate = moment($scope.options.fromDate).add(-1, 'milliseconds').format('YYYY-MM-DD HH:mm:ss')\r\n    if (scale) {\r\n      splittedViewScale = scale.split(' ')\r\n    }\r\n    if (splittedViewScale && splittedViewScale.length > 1) {\r\n      viewScaleValue = splittedViewScale[0]\r\n      viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n    }\r\n    if (viewScaleUnit === 'day') {\r\n      $scope.options.scale = 'day'\r\n      $scope.options.columnWidth = 1200 / viewScaleValue\r\n      toScrollDate = moment($scope.options.fromDate).add(viewScaleValue, 'day').format('YYYY-MM-DD HH:mm:ss')\r\n    } else {\r\n      $scope.options.scale = scale\r\n      $scope.options.columnWidth = 1200\r\n      toScrollDate = moment($scope.options.fromDate).add(viewScaleValue, 'hour').format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n\r\n    if (initVisibleGanttDataTimer) {\r\n      $timeout.cancel(initVisibleGanttDataTimer)\r\n    }\r\n    initVisibleGanttDataTimer = $timeout(function () {\r\n      $scope.initVisibleGanttData()\r\n    }, 50)\r\n  }\r\n\r\n  $scope.initFilterTasks = function () {\r\n    $scope.options.filterTask = document.getElementById('filterTasksStorage').value\r\n  }\r\n\r\n  $scope.initFilterRows = function () {\r\n    $scope.options.filterRow = document.getElementById('filterRowsStorage').value\r\n  }\r\n\r\n  $scope.initTaskTooltipsDisplay = function () {\r\n    const taskTooltipsDisplay = JSON.parse(document.getElementById('taskTooltipsStorage').value).taskTooltipsDisplay\r\n    let taskContent = ''\r\n    let heightInline = 0\r\n    if (taskTooltipsDisplay[0] === 'inline') {\r\n      taskContent = '<label>{{task.model.taskTooltipsContent.MAKE_ORDER_NUM}}</label><br/>'\r\n      heightInline++\r\n    }\r\n\r\n    if (taskTooltipsDisplay[1] === 'inline') {\r\n      taskContent += '<label>{{task.model.taskTooltipsContent.ITEM_CODE}}</label><br/>'\r\n      heightInline++\r\n    }\r\n\r\n    if (taskTooltipsDisplay[2] === 'inline') {\r\n      taskContent += '<label>{{task.model.taskTooltipsContent.DESCRIPTIONS_CN}}</label><br/>'\r\n      heightInline++\r\n    }\r\n\r\n    if (taskTooltipsDisplay[3] === 'inline') {\r\n      taskContent += '<label>{{task.model.taskTooltipsContent.DEMAND_DATE}}</label><br/>'\r\n      heightInline++\r\n    }\r\n\r\n    if (taskTooltipsDisplay[4] === 'inline') {\r\n      taskContent += '<label>{{task.model.taskTooltipsContent.MO_QTY}}</label><br/>'\r\n      heightInline++\r\n    }\r\n\r\n    if (taskTooltipsDisplay[5] === 'inline') {\r\n      taskContent += '<label>{{task.model.from.format(\"YYYY-MM-DD HH:mm:ss\") + \\' - \\' + task.model.to.format(\"YYYY-MM-DD HH:mm:ss\")}}</label>'\r\n      heightInline++\r\n    }\r\n    let height = '3em'\r\n    if (heightInline > 1) {\r\n      height = 2.2 * heightInline + 'em'\r\n    }\r\n    $scope.data.forEach(rowData => {\r\n      if (rowData.children.length === 0) {\r\n        rowData.height = height\r\n      }\r\n    })\r\n\r\n    $scope.options.taskContent = '<div style=\"text-align:left; font-size:6px\"><div style=\"width:1920px;height:5px;background:red;\" ng-if=\"task.model.exception.warningFlag\"></div>'\r\n      + taskContent + '</div>'\r\n  }\r\n\r\n  let curRowName\r\n  $scope.initRowName = function () {\r\n    if (curRowName === undefined) {\r\n      document.getElementById('rowNameStorage').value = ''\r\n    } else {\r\n      document.getElementById('rowNameStorage').value = curRowName\r\n    }\r\n  }\r\n\r\n  $scope.backupRowName = function () {\r\n    document.getElementById('rowNameStorage').value = curRowName = ''\r\n  }\r\n\r\n  let curTaskId\r\n  $scope.initTaskId = function () {\r\n    if (curTaskId === undefined) {\r\n      document.getElementById('taskIdStorage').value = ''\r\n    } else {\r\n      document.getElementById('taskIdStorage').value = curTaskId\r\n    }\r\n  }\r\n\r\n  $scope.backupTaskId = function () {\r\n    document.getElementById('taskIdStorage').value = curTaskId = ''\r\n  }\r\n\r\n  let curTaskFrom\r\n  $scope.initTaskFrom = function () {\r\n    if (curTaskFrom === undefined) {\r\n      document.getElementById('taskFromStorage').value = ''\r\n    } else {\r\n      document.getElementById('taskFromStorage').value = curTaskFrom\r\n    }\r\n  }\r\n\r\n  $scope.backupTaskFrom = function () {\r\n    document.getElementById('taskFromStorage').value = curTaskFrom = ''\r\n  }\r\n\r\n  $scope.initTaskColors = function () {\r\n    const taskColorMode = document.getElementById('taskColorsStorage').value\r\n    if (taskColorMode === '1') {\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            task.color = task.moAheadDelayColor\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                childTask.color = childTask.moAheadDelayColor\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else if (taskColorMode === '2') {\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            task.color = task.moKitColor\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                childTask.color = childTask.moKitColor\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            task.color = task.moStatusColor\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                childTask.color = childTask.moStatusColor\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  $scope.initTaskHighlightColors = function () {\r\n    // '':'0', '':'1',  '':'2'\r\n    const taskHighlight = document.getElementById('taskHighlightStorage').value\r\n    if (taskHighlight === '0' && curTask) {\r\n      curTask.model.color = SameItemCodeColor\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            if (task.taskTooltipsContent.ITEM_CODE === curTask.model.taskTooltipsContent.ITEM_CODE) {\r\n              task.color = curTask.model.color\r\n            }\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                if (childTask.taskTooltipsContent.ITEM_CODE === curTask.model.taskTooltipsContent.ITEM_CODE) {\r\n                  childTask.color = curTask.model.color\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else if (taskHighlight === '1' && curTask) {\r\n      curTask.model.color = SameProjectNumColor\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            if (task.taskTooltipsContent.PROJECT_NUMBER === curTask.model.taskTooltipsContent.PROJECT_NUMBER) {\r\n              task.color = curTask.model.color\r\n            }\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                if (childTask.taskTooltipsContent.PROJECT_NUMBER === curTask.model.taskTooltipsContent.PROJECT_NUMBER) {\r\n                  childTask.color = curTask.model.color\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else if (taskHighlight === '2') {\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            if (task.taskTooltipsContent.STANDARD_FLAG === 'Y') {\r\n              task.color = StandardFalgYColor\r\n            }\r\n\r\n            if (task.childTasks && task.childTasks.length > 0) {\r\n              task.childTasks.forEach(childTask => {\r\n                if (childTask.taskTooltipsContent.STANDARD_FLAG === 'Y') {\r\n                  childTask.color = StandardFalgYColor\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      $scope.initTaskColors()\r\n    }\r\n  }\r\n\r\n  $scope.initParentDependencies = function (curId) {\r\n    if (curId) {\r\n      $scope.data.forEach(rowData => {\r\n        if (rowData.tasks.length > 0) {\r\n          rowData.tasks.forEach(task => {\r\n            if (task.tempDependencies && task.tempDependencies.length > 0) {\r\n              task.tempDependencies.forEach(dep => {\r\n                if (dep.to === curId) {\r\n                  task.dependencies = []\r\n                  task.dependencies.push({ to: curId })\r\n                  $scope.initParentDependencies(task.id)\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  $scope.initChildDependencies = function (dependencies) {\r\n    if (dependencies) {\r\n      dependencies.forEach(dep => {\r\n        $scope.data.forEach(rowData => {\r\n          if (rowData.tasks.length > 0) {\r\n            rowData.tasks.forEach(task => {\r\n              if (dep.to === task.id) {\r\n                task.dependencies = task.tempDependencies\r\n                $scope.initChildDependencies(task.dependencies)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./demo/demo.controller.ts","export default function () {\r\n  'ngInject'\r\n\r\n  return {\r\n    getSampleData: function () {\r\n      return [{ 'name': 'Loading Data', 'publicTimeDisplay': 'none', 'children': [], 'tasks': [], 'height': '5em', 'movable': { 'allowResizing': false } }]\r\n    },\r\n\r\n    getSampleTimespans: function () {\r\n      return []\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./demo/demo.service.ts","import bounds from './bounds'\r\nimport corner from './corner'\r\nimport dependencies from './dependencies'\r\nimport drawtask from './drawtask'\r\nimport groups from './groups'\r\nimport labels from './labels'\r\nimport movable from './movable'\r\nimport overlap from './overlap'\r\nimport progress from './progress'\r\nimport resizeSensor from './resizeSensor'\r\nimport sections from './sections'\r\nimport sortable from './sortable'\r\nimport table from './table'\r\nimport tooltips from './tooltips'\r\nimport tree from './tree'\r\n\r\nexport default {\r\n  bounds: bounds,\r\n  corner: corner,\r\n  dependencies: dependencies,\r\n  drawtask: drawtask,\r\n  groups: groups,\r\n  labels: labels,\r\n  movable: movable,\r\n  overlap: overlap,\r\n  progress: progress,\r\n  resizeSensor: resizeSensor,\r\n  sections: sections,\r\n  sortable: sortable,\r\n  table: table,\r\n  tooltips: tooltips,\r\n  tree: tree\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/index.ts","var map = {\n\t\"./af\": 51,\n\t\"./af.js\": 51,\n\t\"./ar\": 58,\n\t\"./ar-dz\": 52,\n\t\"./ar-dz.js\": 52,\n\t\"./ar-kw\": 53,\n\t\"./ar-kw.js\": 53,\n\t\"./ar-ly\": 54,\n\t\"./ar-ly.js\": 54,\n\t\"./ar-ma\": 55,\n\t\"./ar-ma.js\": 55,\n\t\"./ar-sa\": 56,\n\t\"./ar-sa.js\": 56,\n\t\"./ar-tn\": 57,\n\t\"./ar-tn.js\": 57,\n\t\"./ar.js\": 58,\n\t\"./az\": 59,\n\t\"./az.js\": 59,\n\t\"./be\": 60,\n\t\"./be.js\": 60,\n\t\"./bg\": 61,\n\t\"./bg.js\": 61,\n\t\"./bn\": 62,\n\t\"./bn.js\": 62,\n\t\"./bo\": 63,\n\t\"./bo.js\": 63,\n\t\"./br\": 64,\n\t\"./br.js\": 64,\n\t\"./bs\": 65,\n\t\"./bs.js\": 65,\n\t\"./ca\": 66,\n\t\"./ca.js\": 66,\n\t\"./cs\": 67,\n\t\"./cs.js\": 67,\n\t\"./cv\": 68,\n\t\"./cv.js\": 68,\n\t\"./cy\": 69,\n\t\"./cy.js\": 69,\n\t\"./da\": 70,\n\t\"./da.js\": 70,\n\t\"./de\": 73,\n\t\"./de-at\": 71,\n\t\"./de-at.js\": 71,\n\t\"./de-ch\": 72,\n\t\"./de-ch.js\": 72,\n\t\"./de.js\": 73,\n\t\"./dv\": 74,\n\t\"./dv.js\": 74,\n\t\"./el\": 75,\n\t\"./el.js\": 75,\n\t\"./en-au\": 76,\n\t\"./en-au.js\": 76,\n\t\"./en-ca\": 77,\n\t\"./en-ca.js\": 77,\n\t\"./en-gb\": 78,\n\t\"./en-gb.js\": 78,\n\t\"./en-ie\": 79,\n\t\"./en-ie.js\": 79,\n\t\"./en-nz\": 80,\n\t\"./en-nz.js\": 80,\n\t\"./eo\": 81,\n\t\"./eo.js\": 81,\n\t\"./es\": 83,\n\t\"./es-do\": 82,\n\t\"./es-do.js\": 82,\n\t\"./es.js\": 83,\n\t\"./et\": 84,\n\t\"./et.js\": 84,\n\t\"./eu\": 85,\n\t\"./eu.js\": 85,\n\t\"./fa\": 86,\n\t\"./fa.js\": 86,\n\t\"./fi\": 87,\n\t\"./fi.js\": 87,\n\t\"./fo\": 88,\n\t\"./fo.js\": 88,\n\t\"./fr\": 91,\n\t\"./fr-ca\": 89,\n\t\"./fr-ca.js\": 89,\n\t\"./fr-ch\": 90,\n\t\"./fr-ch.js\": 90,\n\t\"./fr.js\": 91,\n\t\"./fy\": 92,\n\t\"./fy.js\": 92,\n\t\"./gd\": 93,\n\t\"./gd.js\": 93,\n\t\"./gl\": 94,\n\t\"./gl.js\": 94,\n\t\"./gom-latn\": 95,\n\t\"./gom-latn.js\": 95,\n\t\"./he\": 96,\n\t\"./he.js\": 96,\n\t\"./hi\": 97,\n\t\"./hi.js\": 97,\n\t\"./hr\": 98,\n\t\"./hr.js\": 98,\n\t\"./hu\": 99,\n\t\"./hu.js\": 99,\n\t\"./hy-am\": 100,\n\t\"./hy-am.js\": 100,\n\t\"./id\": 101,\n\t\"./id.js\": 101,\n\t\"./is\": 102,\n\t\"./is.js\": 102,\n\t\"./it\": 103,\n\t\"./it.js\": 103,\n\t\"./ja\": 104,\n\t\"./ja.js\": 104,\n\t\"./jv\": 105,\n\t\"./jv.js\": 105,\n\t\"./ka\": 106,\n\t\"./ka.js\": 106,\n\t\"./kk\": 107,\n\t\"./kk.js\": 107,\n\t\"./km\": 108,\n\t\"./km.js\": 108,\n\t\"./kn\": 109,\n\t\"./kn.js\": 109,\n\t\"./ko\": 110,\n\t\"./ko.js\": 110,\n\t\"./ky\": 111,\n\t\"./ky.js\": 111,\n\t\"./lb\": 112,\n\t\"./lb.js\": 112,\n\t\"./lo\": 113,\n\t\"./lo.js\": 113,\n\t\"./lt\": 114,\n\t\"./lt.js\": 114,\n\t\"./lv\": 115,\n\t\"./lv.js\": 115,\n\t\"./me\": 116,\n\t\"./me.js\": 116,\n\t\"./mi\": 117,\n\t\"./mi.js\": 117,\n\t\"./mk\": 118,\n\t\"./mk.js\": 118,\n\t\"./ml\": 119,\n\t\"./ml.js\": 119,\n\t\"./mr\": 120,\n\t\"./mr.js\": 120,\n\t\"./ms\": 122,\n\t\"./ms-my\": 121,\n\t\"./ms-my.js\": 121,\n\t\"./ms.js\": 122,\n\t\"./my\": 123,\n\t\"./my.js\": 123,\n\t\"./nb\": 124,\n\t\"./nb.js\": 124,\n\t\"./ne\": 125,\n\t\"./ne.js\": 125,\n\t\"./nl\": 127,\n\t\"./nl-be\": 126,\n\t\"./nl-be.js\": 126,\n\t\"./nl.js\": 127,\n\t\"./nn\": 128,\n\t\"./nn.js\": 128,\n\t\"./pa-in\": 129,\n\t\"./pa-in.js\": 129,\n\t\"./pl\": 130,\n\t\"./pl.js\": 130,\n\t\"./pt\": 132,\n\t\"./pt-br\": 131,\n\t\"./pt-br.js\": 131,\n\t\"./pt.js\": 132,\n\t\"./ro\": 133,\n\t\"./ro.js\": 133,\n\t\"./ru\": 134,\n\t\"./ru.js\": 134,\n\t\"./sd\": 135,\n\t\"./sd.js\": 135,\n\t\"./se\": 136,\n\t\"./se.js\": 136,\n\t\"./si\": 137,\n\t\"./si.js\": 137,\n\t\"./sk\": 138,\n\t\"./sk.js\": 138,\n\t\"./sl\": 139,\n\t\"./sl.js\": 139,\n\t\"./sq\": 140,\n\t\"./sq.js\": 140,\n\t\"./sr\": 142,\n\t\"./sr-cyrl\": 141,\n\t\"./sr-cyrl.js\": 141,\n\t\"./sr.js\": 142,\n\t\"./ss\": 143,\n\t\"./ss.js\": 143,\n\t\"./sv\": 144,\n\t\"./sv.js\": 144,\n\t\"./sw\": 145,\n\t\"./sw.js\": 145,\n\t\"./ta\": 146,\n\t\"./ta.js\": 146,\n\t\"./te\": 147,\n\t\"./te.js\": 147,\n\t\"./tet\": 148,\n\t\"./tet.js\": 148,\n\t\"./th\": 149,\n\t\"./th.js\": 149,\n\t\"./tl-ph\": 150,\n\t\"./tl-ph.js\": 150,\n\t\"./tlh\": 151,\n\t\"./tlh.js\": 151,\n\t\"./tr\": 152,\n\t\"./tr.js\": 152,\n\t\"./tzl\": 153,\n\t\"./tzl.js\": 153,\n\t\"./tzm\": 155,\n\t\"./tzm-latn\": 154,\n\t\"./tzm-latn.js\": 154,\n\t\"./tzm.js\": 155,\n\t\"./uk\": 156,\n\t\"./uk.js\": 156,\n\t\"./ur\": 157,\n\t\"./ur.js\": 157,\n\t\"./uz\": 159,\n\t\"./uz-latn\": 158,\n\t\"./uz-latn.js\": 158,\n\t\"./uz.js\": 159,\n\t\"./vi\": 160,\n\t\"./vi.js\": 160,\n\t\"./x-pseudo\": 161,\n\t\"./x-pseudo.js\": 161,\n\t\"./yo\": 162,\n\t\"./yo.js\": 162,\n\t\"./zh-cn\": 163,\n\t\"./zh-cn.js\": 163,\n\t\"./zh-hk\": 164,\n\t\"./zh-hk.js\": 164,\n\t\"./zh-tw\": 165,\n\t\"./zh-tw.js\": 165\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 260;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/moment/locale ^\\.\\/.*$\n// module id = 260\n// module chunks = 1","import gantt from '../src'\r\nimport angular from 'angular'\r\n\r\nimport ngAnimate from 'angular-animate'\r\nimport ngStrap from 'angular-strap'\r\n\r\nimport demoController from './demo.controller'\r\nimport demoService from './demo.service'\r\n\r\nimport plugins from '../src/plugins'\r\n\r\nrequire('bootstrap/dist/css/bootstrap.css')\r\nrequire('font-awesome/css/font-awesome.css')\r\nrequire('./demo.css')\r\n\r\nconst demoModule = 'gantt.demo'\r\nangular\r\n  .module(demoModule, [gantt, ngStrap, ngAnimate, plugins.bounds, plugins.corner,\r\n    plugins.dependencies, plugins.drawtask, plugins.groups, plugins.labels,\r\n    plugins.movable, plugins.overlap, plugins.progress,\r\n    plugins.resizeSensor, plugins.sections, plugins.sortable,\r\n    plugins.table, plugins.tooltips, plugins.tree])\r\n  .service('DemoService', demoService)\r\n  .controller('DemoCtrl', demoController)\r\n  .config(['$compileProvider', function ($compileProvider) {\r\n    $compileProvider.debugInfoEnabled(false) // Remove debug info (angularJS >= 1.3)\r\n  }])\r\n\r\nexport default demoModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./demo/index.ts","export default function (Gantt, ganttEnableNgAnimate, $timeout, $templateCache) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    transclude: true,\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'template/gantt.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template !== undefined) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    scope: {\r\n      sortMode: '=?',\r\n      filterTask: '=?',\r\n      filterTaskComparator: '=?',\r\n      filterRow: '=?',\r\n      filterRowComparator: '=?',\r\n      viewScale: '=?',\r\n      columnWidth: '=?',\r\n      expandToFit: '=?',\r\n      shrinkToFit: '=?',\r\n      showSide: '=?',\r\n      allowSideResizing: '=?',\r\n      fromDate: '=?',\r\n      toDate: '=?',\r\n      currentDateValue: '=?',\r\n      currentDate: '=?',\r\n      daily: '=?',\r\n      autoExpand: '=?',\r\n      taskOutOfRange: '=?',\r\n      taskContent: '=?',\r\n      rowContent: '=?',\r\n      maxHeight: '=?',\r\n      sideWidth: '=?',\r\n      headers: '=?',\r\n      headersFormats: '=?',\r\n      headersScales: '=?',\r\n      timeFrames: '=?',\r\n      dateFrames: '=?',\r\n      timeFramesWorkingMode: '=?',\r\n      timeFramesNonWorkingMode: '=?',\r\n      timespans: '=?',\r\n      columnMagnet: '=?',\r\n      shiftColumnMagnet: '=?',\r\n      timeFramesMagnet: '=?',\r\n      data: '=?',\r\n      api: '=?',\r\n      options: '=?'\r\n    },\r\n    controller: function ($scope, $element) {\r\n      'ngInject'\r\n      for (let option in $scope.options) {\r\n        $scope[option] = $scope.options[option]\r\n      }\r\n\r\n      // Disable animation if ngAnimate is present, as it drops down performance.\r\n      ganttEnableNgAnimate($element, false)\r\n\r\n      $scope.gantt = new Gantt($scope, $element)\r\n      this.gantt = $scope.gantt\r\n    },\r\n    link: function (scope, element) {\r\n      scope.gantt.api.directives.raise.new('gantt', scope, element)\r\n      scope.$on('$destroy', function () {\r\n        scope.gantt.api.directives.raise.destroy('gantt', scope, element)\r\n      })\r\n\r\n      $timeout(function () {\r\n        scope.gantt.initialized()\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/gantt.directive.ts","import moment from 'moment'\r\n\r\nimport {GanttColumn} from './column.factory'\r\nimport {GanttCalendar, TimeFramesDisplayMode} from '../calendar/calendar.factory'\r\nimport {GanttColumnsManager} from './columnsManager.factory'\r\n\r\nexport class GanttColumnBuilder {\r\n  static GanttColumn: {\r\n    new(date: moment.Moment,\r\n        endDate: moment.Moment,\r\n        left: number,\r\n        width: number,\r\n        calendar: GanttCalendar,\r\n        timeFramesWorkingMode?: TimeFramesDisplayMode,\r\n        timeFramesNonWorkingMode?: TimeFramesDisplayMode): GanttColumn\r\n  }\r\n\r\n  private columnsManager: GanttColumnsManager // TODO: type!\r\n\r\n  // Builder for columns, based of data given by column generator and columnsManager.\r\n  constructor (columnsManager: GanttColumnsManager) {\r\n    this.columnsManager = columnsManager\r\n  }\r\n\r\n  /**\r\n   * Builds a new column.\r\n   *\r\n   * @param date\r\n   * @param endDate\r\n   * @param left\r\n   * @param width\r\n   * @returns {GanttColumn}\r\n   */\r\n  newColumn (date, endDate, left, width) {\r\n    let calendar = this.columnsManager.gantt.calendar\r\n    let timeFramesWorkingMode = this.columnsManager.gantt.options.value('timeFramesWorkingMode')\r\n    let timeFramesNonWorkingMode = this.columnsManager.gantt.options.value('timeFramesNonWorkingMode')\r\n\r\n    return new GanttColumn(date, endDate, left, width, calendar, timeFramesWorkingMode, timeFramesNonWorkingMode)\r\n  }\r\n}\r\n\r\nexport default function (GanttColumn: {\r\n  new(date: moment.Moment,\r\n      endDate: moment.Moment,\r\n      left: number,\r\n      width: number,\r\n      calendar: GanttCalendar,\r\n      timeFramesWorkingMode?: TimeFramesDisplayMode,\r\n      timeFramesNonWorkingMode?: TimeFramesDisplayMode): GanttColumn\r\n}) {\r\n  'ngInject'\r\n\r\n  GanttColumnBuilder.GanttColumn = GanttColumn\r\n  return GanttColumnBuilder\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/column/columnBuilder.factory.ts","import moment, {unitOfTime} from 'moment'\r\nimport {GanttColumnBuilder} from './columnBuilder.factory'\r\nimport DurationConstructor = moment.unitOfTime.DurationConstructor\r\n\r\n/**\r\n * Columns are generated including or excluding the to date.\r\n * If the To date is the first day of month and the time is 00:00 then no new column is generated for this month.\r\n */\r\nexport default class GanttColumnGenerator {\r\n  private isToDateToExclude (to: moment.Moment, value: unitOfTime.DurationConstructor, unit: unitOfTime.StartOf) {\r\n    return moment(to).add(value, unit).startOf(unit) === to\r\n  }\r\n\r\n  private getFirstValue (unit: unitOfTime.All) {\r\n    if (['hour', 'minute', 'second', 'millisecond'].indexOf(unit) >= 0) {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  private ensureNoUnitOverflow (unit: unitOfTime.All, startDate: moment.Moment, endDate: moment.Moment) {\r\n    let v1 = startDate.get(unit)\r\n    let v2 = endDate.get(unit)\r\n    let firstValue = this.getFirstValue(unit)\r\n    if (firstValue !== undefined && v2 !== firstValue && v2 < v1) {\r\n      endDate.set(unit, firstValue)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generates one column for each time unit between the given from and to date.\r\n   *\r\n   * @param builder\r\n   * @param from\r\n   * @param to\r\n   * @param viewScale\r\n   * @param columnWidth\r\n   * @param maximumWidth\r\n   * @param leftOffset\r\n   * @param reverse\r\n   * @returns {Array}\r\n   */\r\n  generate (builder: GanttColumnBuilder, from: moment.Moment, to: moment.Moment, viewScale: string, columnWidth: number, maximumWidth?: number, leftOffset?: number, reverse?: boolean) {\r\n    if (!to && !maximumWidth) {\r\n      throw new Error('to or maximumWidth must be defined')\r\n    }\r\n\r\n    viewScale = viewScale.trim()\r\n    if (viewScale.charAt(viewScale.length - 1) === 's') {\r\n      viewScale = viewScale.substring(0, viewScale.length - 1)\r\n    }\r\n    let viewScaleValue: unitOfTime.DurationConstructor\r\n    let viewScaleUnit: unitOfTime.StartOf\r\n    let splittedViewScale: string[]\r\n\r\n    if (viewScale) {\r\n      splittedViewScale = viewScale.split(' ')\r\n    }\r\n    if (splittedViewScale && splittedViewScale.length > 1) {\r\n      viewScaleValue = parseFloat(splittedViewScale[0]) as any\r\n      viewScaleUnit = splittedViewScale[splittedViewScale.length - 1] as unitOfTime.StartOf\r\n    } else {\r\n      viewScaleValue = 1 as any\r\n      viewScaleUnit = viewScale as unitOfTime.StartOf\r\n    }\r\n\r\n    let excludeTo = false\r\n    from = moment(from).startOf(viewScaleUnit)\r\n    if (to) {\r\n      excludeTo = this.isToDateToExclude(to, viewScaleValue, viewScaleUnit)\r\n      to = moment(to).startOf(viewScaleUnit)\r\n    }\r\n\r\n    let left = 0\r\n    let date = moment(from).startOf(viewScaleUnit)\r\n    if (reverse) {\r\n      date.subtract(viewScaleValue, viewScaleUnit)\r\n      left -= columnWidth\r\n    }\r\n    let generatedCols = []\r\n\r\n    while (true) {\r\n      if (maximumWidth && Math.abs(left) > maximumWidth + columnWidth) {\r\n        break\r\n      }\r\n\r\n      let startDate = moment(date)\r\n      let endDate = moment(startDate).add(viewScaleValue, viewScaleUnit)\r\n      this.ensureNoUnitOverflow(viewScaleUnit, startDate, endDate)\r\n\r\n      let column = builder.newColumn(startDate, endDate, leftOffset ? left + leftOffset : left, columnWidth)\r\n\r\n      if (!column.cropped) {\r\n        generatedCols.push(column)\r\n        if (reverse) {\r\n          left -= columnWidth\r\n        } else {\r\n          left += columnWidth\r\n        }\r\n      }\r\n      if (to) {\r\n        if (reverse) {\r\n          if (excludeTo && date < to || !excludeTo && date <= to) {\r\n            break\r\n          }\r\n        } else {\r\n          if (excludeTo && date > to || !excludeTo && date >= to) {\r\n            break\r\n          }\r\n        }\r\n      }\r\n      if (reverse) {\r\n        date.subtract(viewScaleValue, viewScaleUnit)\r\n        this.ensureNoUnitOverflow(viewScaleUnit, date, startDate)\r\n      } else {\r\n        date.add(viewScaleValue, viewScaleUnit)\r\n        this.ensureNoUnitOverflow(viewScaleUnit, startDate, date)\r\n      }\r\n    }\r\n\r\n    if (reverse) {\r\n      if (this.isToDateToExclude(from, viewScaleValue, viewScaleUnit)) {\r\n        generatedCols.shift()\r\n      }\r\n      generatedCols.reverse()\r\n    }\r\n\r\n    return generatedCols\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/column/columnGenerator.service.ts","import moment from 'moment'\r\n\r\nimport {GanttColumnHeader} from './columnHeader.factory'\r\nimport {GanttColumnsManager} from './columnsManager.factory'\r\n\r\nexport default class GanttHeadersGenerator {\r\n  generateHeaders (columnsManager: GanttColumnsManager, headerName: string) {\r\n    let generatedHeaders = []\r\n    let header\r\n\r\n    let viewScale = headerName // columnsManager.getHeaderScale(headerName)\r\n    let viewScaleValue\r\n    let viewScaleUnit\r\n    let splittedViewScale\r\n\r\n    if (viewScale) {\r\n      splittedViewScale = viewScale.split(' ')\r\n    }\r\n    if (splittedViewScale && splittedViewScale.length > 1) {\r\n      viewScaleValue = parseFloat(splittedViewScale[0])\r\n      viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n    } else {\r\n      viewScaleValue = 1\r\n      viewScaleUnit = viewScale\r\n    }\r\n\r\n    if (columnsManager.columns.length > 0) {\r\n      let currentColumn = columnsManager.columns[0]\r\n      let currentDate = moment(currentColumn.date).startOf(viewScaleUnit)\r\n\r\n      let maximumDate = moment(columnsManager.columns[columnsManager.columns.length - 1].endDate)\r\n\r\n      while (true) {\r\n        let currentPosition = currentColumn.getPositionByDate(currentDate)\r\n\r\n        let endDate = moment.min(moment(currentDate).add(viewScaleValue, viewScaleUnit), maximumDate)\r\n\r\n        let column = columnsManager.getColumnByDate(endDate)\r\n\r\n        let left = column.getPositionByDate(endDate)\r\n\r\n        let width = left - currentPosition\r\n\r\n        if (width > 0) {\r\n          let labelFormat = this.labelFormat\r\n\r\n          header = new GanttColumnHeader(currentDate, endDate, viewScaleUnit, currentPosition, width, labelFormat, headerName)\r\n          generatedHeaders.push(header)\r\n        }\r\n\r\n        if (endDate.isSame(maximumDate) || endDate.isAfter(maximumDate)) {\r\n          break\r\n        }\r\n\r\n        currentColumn = column\r\n        currentDate = endDate\r\n      }\r\n    }\r\n\r\n    return generatedHeaders\r\n  }\r\n\r\n  labelFormat (columnHeader) {\r\n    let label = columnHeader.date.format('M-D')\r\n    let week = columnHeader.date.format('d')\r\n    switch (week) {\r\n      case '1':\r\n        label += '()'\r\n        break\r\n      case '2':\r\n        label += '()'\r\n        break\r\n      case '3':\r\n        label += '()'\r\n        break\r\n      case '4':\r\n        label += '()'\r\n        break\r\n      case '5':\r\n        label += '()'\r\n        break\r\n      case '6':\r\n        label += '()*'\r\n        break\r\n      case '0':\r\n        label += '()*'\r\n        break\r\n      default:\r\n        label += '()'\r\n        break\r\n    }\r\n\r\n    let splittedViewScale\r\n    let viewScaleValue\r\n    if (columnHeader.name) {\r\n      splittedViewScale = columnHeader.name.split(' ')\r\n    }\r\n    if (splittedViewScale && splittedViewScale.length > 1) {\r\n      viewScaleValue = splittedViewScale[0]\r\n    } else {\r\n      viewScaleValue = 1\r\n    }\r\n\r\n    if (columnHeader.unit === 'hour') {\r\n      label += columnHeader.date.format('HH:mm:ss') + '~' + columnHeader.date.add(viewScaleValue, 'h').format('HH:mm:ss')\r\n    }\r\n    return label\r\n  }\r\n\r\n  generate (columnsManager: GanttColumnsManager) {\r\n    let headerNames = []\r\n    if (columnsManager.gantt.options.value('headers') === undefined) {\r\n      let viewScale = columnsManager.gantt.options.value('viewScale')\r\n      viewScale = viewScale.trim()\r\n      if (viewScale.charAt(viewScale.length - 1) === 's') {\r\n        viewScale = viewScale.substring(0, viewScale.length - 1)\r\n      }\r\n\r\n      let viewScaleUnit\r\n      let splittedViewScale\r\n\r\n      if (viewScale) {\r\n        splittedViewScale = viewScale.split(' ')\r\n      }\r\n      if (splittedViewScale && splittedViewScale.length > 1) {\r\n        viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n      } else {\r\n        viewScaleUnit = viewScale\r\n      }\r\n\r\n      // if (['quarter', 'month'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('year')\r\n      // }\r\n      // if (['day', 'week'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('month')\r\n      // }\r\n      // if (['day'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('week')\r\n      // }\r\n      // if (['hour'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('day')\r\n      // }\r\n      // if (['minute', 'second', 'millisecond'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('hour')\r\n      // }\r\n      // if (['second', 'millisecond'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('minute')\r\n      // }\r\n      // if (['millisecond'].indexOf(viewScaleUnit) > -1) {\r\n      //   headerNames.push('second')\r\n      // }\r\n      headerNames.push(viewScale)\r\n    } else {\r\n      headerNames = columnsManager.gantt.options.value('headers')\r\n    }\r\n\r\n    let headers = []\r\n    for (let headerName of headerNames) {\r\n      headers.push(this.generateHeaders(columnsManager, headerName))\r\n    }\r\n\r\n    return headers\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/column/headersGenerator.service.ts","import angular, {IAugmentedJQuery, IDocumentService, IScope, ITimeoutService} from 'angular'\r\n\r\nimport moment from 'moment'\r\n\r\nimport {GanttApi} from './api/api.factory'\r\nimport {GanttOptions} from './api/options.factory'\r\nimport {GanttCalendar} from './calendar/calendar.factory'\r\nimport {GanttCurrentDateManager} from './calendar/currentDateManager.factory'\r\nimport {GanttObjectModel} from './model/objectModel.factory'\r\nimport {GanttRowsManager} from './row/rowsManager.factory'\r\nimport {GanttColumnsManager} from './column/columnsManager.factory'\r\nimport {GanttTimespansManager} from './timespan/timespansManager.factory'\r\nimport GanttArrays from './util/arrays.service'\r\nimport {GanttScroll} from './template/scroll.factory'\r\nimport {GanttBody} from './template/body.factory'\r\nimport {GanttHeader} from './template/header.factory'\r\nimport {GanttSide} from './template/side.factory'\r\nimport {GanttRowModel} from './row/row.factory'\r\n\r\n// Gantt logic. Manages the columns, rows and sorting functionality.\r\nexport class Gantt {\r\n  static $document: IDocumentService\r\n  static ganttArrays: GanttArrays\r\n  static $timeout: ITimeoutService\r\n\r\n  options: GanttOptions\r\n\r\n  $scope: IScope\r\n  $element: IAugmentedJQuery\r\n\r\n  api: GanttApi\r\n  calendar: GanttCalendar\r\n  objectModel: GanttObjectModel\r\n\r\n  columnMagnetValue: number\r\n  columnMagnetUnit: string\r\n  shiftColumnMagnetValue: number\r\n  shiftColumnMagnetUnit: string\r\n\r\n  shiftKey: boolean\r\n\r\n  scroll: GanttScroll\r\n  body: GanttBody\r\n  header: GanttHeader\r\n  side: GanttSide\r\n\r\n  rowsManager: GanttRowsManager\r\n  columnsManager: GanttColumnsManager\r\n  timespansManager: GanttTimespansManager\r\n  currentDateManager: GanttCurrentDateManager\r\n\r\n  originalWidth: number\r\n  width: number\r\n  rendered = false\r\n  isRefreshingColumns = false\r\n\r\n  constructor ($scope: IScope, $element: IAugmentedJQuery) {\r\n    this.$scope = $scope\r\n    this.$element = $element\r\n\r\n    this.options = new GanttOptions($scope, {\r\n      // tslint:disable:no-empty\r\n      'api': function () {},\r\n      'data': [],\r\n      'timespans': [],\r\n      'viewScale': 'day',\r\n      'columnMagnet': '15 minutes',\r\n      'timeFramesMagnet': true,\r\n      'showSide': true,\r\n      'allowSideResizing': true,\r\n      'currentDate': 'line',\r\n      'currentDateValue': moment,\r\n      'autoExpand': 'none',\r\n      'taskOutOfRange': 'truncate',\r\n      'taskContent': '{{task.model.name}}',\r\n      'rowContent': '{{row.model.name}}',\r\n      'maxHeight': 0,\r\n      'timeFrames': [],\r\n      'dateFrames': [],\r\n      'timeFramesWorkingMode': 'hidden',\r\n      'timeFramesNonWorkingMode': 'visible',\r\n      'taskLimitThreshold': null,\r\n      'columnLimitThreshold': null\r\n    })\r\n\r\n    this.api = new GanttApi(this)\r\n\r\n    this.api.registerEvent('core', 'ready')\r\n    this.api.registerEvent('core', 'rendered')\r\n\r\n    this.api.registerEvent('directives', 'controller')\r\n    this.api.registerEvent('directives', 'preLink')\r\n    this.api.registerEvent('directives', 'postLink')\r\n    this.api.registerEvent('directives', 'new')\r\n    this.api.registerEvent('directives', 'destroy')\r\n\r\n    this.api.registerEvent('data', 'change')\r\n    this.api.registerEvent('data', 'load')\r\n    this.api.registerEvent('data', 'remove')\r\n    this.api.registerEvent('data', 'clear')\r\n\r\n    this.api.registerMethod('core', 'getDateByPosition', this.getDateByPosition, this)\r\n    this.api.registerMethod('core', 'getPositionByDate', this.getPositionByDate, this)\r\n\r\n    this.api.registerMethod('data', 'load', this.loadData, this)\r\n    this.api.registerMethod('data', 'remove', this.removeData, this)\r\n    this.api.registerMethod('data', 'clear', this.clearData, this)\r\n    this.api.registerMethod('data', 'get', this.getData, this)\r\n\r\n    this.calendar = new GanttCalendar()\r\n    this.calendar.registerTimeFrames(this.options.value('timeFrames'))\r\n    this.calendar.registerDateFrames(this.options.value('dateFrames'))\r\n\r\n    this.api.registerMethod('timeframes', 'registerTimeFrames', this.calendar.registerTimeFrames, this.calendar)\r\n    this.api.registerMethod('timeframes', 'clearTimeframes', this.calendar.clearTimeFrames, this.calendar)\r\n    this.api.registerMethod('timeframes', 'registerDateFrames', this.calendar.registerDateFrames, this.calendar)\r\n    this.api.registerMethod('timeframes', 'clearDateFrames', this.calendar.clearDateFrames, this.calendar)\r\n    this.api.registerMethod('timeframes', 'registerTimeFrameMappings', this.calendar.registerTimeFrameMappings, this.calendar)\r\n    this.api.registerMethod('timeframes', 'clearTimeFrameMappings', this.calendar.clearTimeFrameMappings, this.calendar)\r\n\r\n    $scope.$watchGroup(['timeFrames', 'dateFrames'], (newValues, oldValues) => {\r\n      if (newValues !== oldValues) {\r\n        let timeFrames = newValues[0]\r\n        let dateFrames = newValues[1]\r\n\r\n        let oldTimeFrames = oldValues[0]\r\n        let oldDateFrames = oldValues[1]\r\n\r\n        let framesChanged = false\r\n\r\n        if (!angular.equals(timeFrames, oldTimeFrames)) {\r\n          this.calendar.clearTimeFrames()\r\n          this.calendar.registerTimeFrames(timeFrames)\r\n          framesChanged = true\r\n        }\r\n\r\n        if (!angular.equals(dateFrames, oldDateFrames)) {\r\n          this.calendar.clearDateFrames()\r\n          this.calendar.registerDateFrames(dateFrames)\r\n          framesChanged = true\r\n        }\r\n\r\n        if (framesChanged) {\r\n          this.columnsManager.generateColumns()\r\n        }\r\n      }\r\n    })\r\n\r\n    $scope.$watch('columnMagnet', () => {\r\n      let splittedColumnMagnet\r\n      let columnMagnet = this.options.value('columnMagnet')\r\n      if (columnMagnet) {\r\n        splittedColumnMagnet = columnMagnet.trim().split(' ')\r\n      }\r\n      if (splittedColumnMagnet && splittedColumnMagnet.length > 1) {\r\n        this.columnMagnetValue = parseFloat(splittedColumnMagnet[0])\r\n        this.columnMagnetUnit = moment.normalizeUnits(splittedColumnMagnet[splittedColumnMagnet.length - 1])\r\n      } else {\r\n        this.columnMagnetValue = 1\r\n        this.columnMagnetUnit = moment.normalizeUnits(columnMagnet)\r\n      }\r\n    })\r\n\r\n    $scope.$watchGroup(['shiftColumnMagnet', 'viewScale'], () => {\r\n      let splittedColumnMagnet\r\n      let shiftColumnMagnet = this.options.value('shiftColumnMagnet')\r\n      if (shiftColumnMagnet) {\r\n        splittedColumnMagnet = shiftColumnMagnet.trim().split(' ')\r\n      }\r\n      if (splittedColumnMagnet !== undefined && splittedColumnMagnet.length > 1) {\r\n        this.shiftColumnMagnetValue = parseFloat(splittedColumnMagnet[0])\r\n        this.shiftColumnMagnetUnit = moment.normalizeUnits(splittedColumnMagnet[splittedColumnMagnet.length - 1])\r\n      } else {\r\n        this.shiftColumnMagnetValue = 1\r\n        this.shiftColumnMagnetUnit = moment.normalizeUnits(shiftColumnMagnet)\r\n      }\r\n    })\r\n\r\n    Gantt.$document.on('keyup keydown', this.keyHandler)\r\n\r\n    $scope.$on('$destroy', () => {\r\n      Gantt.$document.off('keyup keydown', this.keyHandler)\r\n    })\r\n\r\n    this.scroll = new GanttScroll(this)\r\n    this.body = new GanttBody(this)\r\n    this.header = new GanttHeader(this)\r\n    this.side = new GanttSide(this)\r\n\r\n    this.objectModel = new GanttObjectModel(this.api)\r\n\r\n    this.rowsManager = new GanttRowsManager(this)\r\n    this.columnsManager = new GanttColumnsManager(this)\r\n    this.timespansManager = new GanttTimespansManager(this)\r\n    this.currentDateManager = new GanttCurrentDateManager(this)\r\n\r\n    this.originalWidth = 0\r\n    this.width = 0\r\n\r\n    if (typeof this.$scope.api === 'function') {\r\n      this.$scope.api(this.api)\r\n    }\r\n\r\n    let hasRowModelOrderChanged = (data1, data2) => {\r\n      if (data2 === undefined || data1.length !== data2.length) {\r\n        return true\r\n      }\r\n\r\n      // tslint:disable:one-variable-per-declaration\r\n      for (let i = 0, l = data1.length; i < l; i++) {\r\n        if (data1[i].id !== data2[i].id) {\r\n          return true\r\n        }\r\n      }\r\n\r\n      return false\r\n    }\r\n\r\n    $scope.$watchCollection('data', (newData: GanttRowModel[], oldData: GanttRowModel[]) => {\r\n      if (oldData !== undefined) {\r\n        let toRemoveIds = Gantt.ganttArrays.getRemovedIds(newData, oldData)\r\n        if (toRemoveIds.length === oldData.length) {\r\n          this.rowsManager.removeAll();\r\n\r\n          // DEPRECATED\r\n          (this.api as any).data.raise.clear()\r\n        } else {\r\n          for (let i = 0, l = toRemoveIds.length; i < l; i++) {\r\n            let toRemoveId = toRemoveIds[i]\r\n            this.rowsManager.removeRow(toRemoveId)\r\n          }\r\n\r\n          // DEPRECATED\r\n          let removedRows = []\r\n          for (let i = 0, l = oldData.length; i < l; i++) {\r\n            if (toRemoveIds.indexOf(oldData[i].id) > -1) {\r\n              removedRows.push(oldData[i])\r\n            }\r\n          }\r\n          (this.api as any).data.raise.remove(removedRows)\r\n        }\r\n      }\r\n\r\n      if (newData !== undefined) {\r\n        let modelOrderChanged = hasRowModelOrderChanged(newData, oldData)\r\n\r\n        if (modelOrderChanged) {\r\n          this.rowsManager.resetNonModelLists()\r\n        }\r\n\r\n        for (let j = 0, k = newData.length; j < k; j++) {\r\n          let rowData = newData[j]\r\n          this.rowsManager.addRow(rowData, modelOrderChanged)\r\n        }\r\n\r\n        (this.api as any).data.raise.change(newData, oldData);\r\n\r\n        // DEPRECATED\r\n        (this.api as any).data.raise.load(newData)\r\n      }\r\n    })\r\n  }\r\n\r\n  private keyHandler (e) {\r\n    this.shiftKey = e.shiftKey\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Get the magnet value and unit considering the current gantt state.\r\n   *\r\n   * @returns {[*,*]}\r\n   */\r\n  getMagnetValueAndUnit () {\r\n    if (this.shiftKey) {\r\n      if (this.shiftColumnMagnetValue !== undefined && this.shiftColumnMagnetUnit !== undefined) {\r\n        return [this.shiftColumnMagnetValue, this.shiftColumnMagnetUnit]\r\n      } else {\r\n        let viewScale = this.options.value('viewScale')\r\n        viewScale = viewScale.trim()\r\n        let viewScaleValue\r\n        let viewScaleUnit\r\n        let splittedViewScale\r\n\r\n        if (viewScale) {\r\n          splittedViewScale = viewScale.split(' ')\r\n        }\r\n        if (splittedViewScale && splittedViewScale.length > 1) {\r\n          viewScaleValue = parseFloat(splittedViewScale[0])\r\n          viewScaleUnit = moment.normalizeUnits(splittedViewScale[splittedViewScale.length - 1])\r\n        } else {\r\n          viewScaleValue = 1\r\n          viewScaleUnit = moment.normalizeUnits(viewScale)\r\n        }\r\n        return [viewScaleValue * 0.25, viewScaleUnit]\r\n      }\r\n    } else {\r\n      return [this.columnMagnetValue, this.columnMagnetUnit]\r\n    }\r\n  }\r\n\r\n  // Get the date transformed by magnet feature.\r\n  getMagnetDate (date, disableExpand) {\r\n    if (date === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    if (!moment.isMoment(moment)) {\r\n      date = moment(date)\r\n    }\r\n\r\n    let column = this.columnsManager.getColumnByDate(date, disableExpand)\r\n    let magnetValueAndUnit = this.getMagnetValueAndUnit()\r\n\r\n    let magnetValue = magnetValueAndUnit[0]\r\n    let magnetUnit = magnetValueAndUnit[1]\r\n\r\n    return column.getMagnetDate(date, magnetValue, magnetUnit, this.options.value('timeFramesMagnet'))\r\n  }\r\n\r\n  // Returns the exact column date at the given position x (in em)\r\n  getDateByPosition (x: number, magnet?: boolean, disableExpand?: boolean) {\r\n    let column = this.columnsManager.getColumnByPosition(x, disableExpand)\r\n    if (column !== undefined) {\r\n      let magnetValue\r\n      let magnetUnit\r\n      if (magnet) {\r\n        let magnetValueAndUnit = this.getMagnetValueAndUnit()\r\n        magnetValue = magnetValueAndUnit[0]\r\n        magnetUnit = magnetValueAndUnit[1]\r\n      }\r\n      return column.getDateByPosition(x - column.left, magnetValue, magnetUnit, this.options.value('timeFramesMagnet'))\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  getBodyAvailableWidth () {\r\n    let scrollWidth = this.getWidth() - this.side.getWidth()\r\n    let borderWidth = this.scroll.getBordersWidth()\r\n    let availableWidth = scrollWidth - (borderWidth !== undefined ? this.scroll.getBordersWidth() : 0)\r\n    // Remove 1 pixel because of rounding issue in some cases.\r\n    availableWidth = availableWidth - 1\r\n    return availableWidth\r\n  }\r\n\r\n  // Returns the position inside the Gantt calculated by the given date\r\n  getPositionByDate (date, disableExpand?: boolean) {\r\n    if (date === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    if (!moment.isMoment(moment)) {\r\n      date = moment(date)\r\n    }\r\n\r\n    let column = this.columnsManager.getColumnByDate(date, disableExpand)\r\n    if (column !== undefined) {\r\n      return column.getPositionByDate(date)\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  // DEPRECATED - Use $data instead.\r\n  loadData (data: GanttRowModel | GanttRowModel[]) {\r\n    if (!Array.isArray(data)) {\r\n      data = data !== undefined ? [data] : []\r\n    }\r\n\r\n    if (this.$scope.data === undefined) {\r\n      this.$scope.data = data\r\n    } else {\r\n      for (let i = 0, l = data.length; i < l; i++) {\r\n        let row = data[i]\r\n\r\n        let j = Gantt.ganttArrays.indexOfId(this.$scope.data, row.id)\r\n        if (j > -1) {\r\n          this.$scope.data[j] = row\r\n        } else {\r\n          this.$scope.data.push(row)\r\n        }\r\n      }\r\n    }\r\n\r\n    let w = this.side.getWidth()\r\n    if (w > 0) {\r\n      this.options.set('sideWidth', w)\r\n    }\r\n  }\r\n\r\n  getData () {\r\n    return this.$scope.data\r\n  }\r\n\r\n  // DEPRECATED - Use $data instead.\r\n  removeData (data) {\r\n    if (!Array.isArray(data)) {\r\n      data = data !== undefined ? [data] : []\r\n    }\r\n\r\n    if (this.$scope.data !== undefined) {\r\n      for (let i = 0, l = data.length; i < l; i++) {\r\n        let rowToRemove = data[i]\r\n\r\n        let j = Gantt.ganttArrays.indexOfId(this.$scope.data, rowToRemove.id)\r\n        if (j > -1) {\r\n          if (rowToRemove.tasks === undefined || rowToRemove.tasks.length === 0) {\r\n            // Remove complete row\r\n            this.$scope.data.splice(j, 1)\r\n          } else {\r\n            // Remove single tasks\r\n            let row = this.$scope.data[j]\r\n            for (let ti = 0, tl = rowToRemove.tasks.length; ti < tl; ti++) {\r\n              let taskToRemove = rowToRemove.tasks[ti]\r\n\r\n              let tj = Gantt.ganttArrays.indexOfId(row.tasks, taskToRemove.id)\r\n              if (tj > -1) {\r\n                row.tasks.splice(tj, 1)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // DEPRECATED - Use $data instead.\r\n  clearData () {\r\n    this.$scope.data = undefined\r\n  }\r\n\r\n  getWidth () {\r\n    return this.$scope.ganttElementWidth\r\n  }\r\n\r\n  getHeight () {\r\n    return this.$scope.ganttElementHeight\r\n  }\r\n\r\n  getContainerWidth () {\r\n    return this.$scope.ganttContainerWidth\r\n  }\r\n\r\n  getContainerHeight () {\r\n    return this.$scope.ganttContainerHeight\r\n  }\r\n\r\n  initialized () {\r\n    // Gantt is initialized. Signal that the Gantt is ready.\r\n    (this.api as any).core.raise.ready(this.api)\r\n\r\n    this.rendered = true\r\n    this.columnsManager.generateColumns()\r\n\r\n    Gantt.$timeout(() => {\r\n      let w = this.side.getWidth()\r\n      if (w > 0) {\r\n        this.options.set('sideWidth', w)\r\n      }\r\n      (this.api as any).core.raise.rendered(this.api)\r\n    })\r\n  }\r\n}\r\n\r\nexport default function (GanttApi: { new(gantt: Gantt): GanttApi },\r\n                         GanttOptions: {\r\n                           new(values: { [option: string]: any; },\r\n                               defaultValues: { [option: string]: any; }): GanttOptions\r\n                         },\r\n                         GanttCalendar: { new(): GanttCalendar },\r\n                         GanttScroll: { new(gantt: Gantt): GanttScroll },\r\n                         GanttBody: { new(gantt: Gantt): GanttBody },\r\n                         GanttHeader: { new(gantt: Gantt): GanttHeader },\r\n                         GanttSide: { new(gantt: Gantt): GanttSide },\r\n                         GanttObjectModel: { new(gantt: Gantt): GanttObjectModel },\r\n                         GanttRowsManager: { new(gantt: Gantt): GanttRowsManager },\r\n                         GanttColumnsManager: { new(gantt: Gantt): GanttColumnsManager },\r\n                         GanttTimespansManager: { new(gantt: Gantt): GanttTimespansManager },\r\n                         GanttCurrentDateManager: { new(gantt: Gantt): GanttCurrentDateManager },\r\n                         ganttArrays: GanttArrays,\r\n                         $document: IDocumentService,\r\n                         $timeout: ITimeoutService) {\r\n  'ngInject'\r\n\r\n  Gantt.ganttArrays = ganttArrays\r\n  Gantt.$document = $document\r\n  Gantt.$timeout = $timeout\r\n  return Gantt\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/gantt.factory.ts","import {IScope} from 'angular'\r\n\r\nimport moment from 'moment'\r\nimport {GanttTask, GanttTaskModel} from '../task/task.factory'\r\n\r\nimport {IGanttFilterService} from '../../../index'\r\nimport * as angular from 'angular'\r\nimport {GanttRowsManager} from './rowsManager.factory'\r\n\r\nexport class GanttRowModel {\r\n  id: string\r\n\r\n  tasks: GanttTaskModel[]\r\n}\r\n\r\nexport class GanttRow {\r\n  static GanttTask: {new(row: GanttRow, model: GanttTaskModel): GanttTask}\r\n  static $filter: IGanttFilterService\r\n\r\n  rowsManager: GanttRowsManager\r\n\r\n  model: GanttRowModel\r\n\r\n  from: moment.Moment\r\n  to: moment.Moment\r\n\r\n  tasksMap: { [id: string]: GanttTask }\r\n  tasks: GanttTask[]\r\n  filteredTasks: GanttTask[]\r\n  visibleTasks: GanttTask[]\r\n\r\n  $scope: IScope\r\n\r\n  constructor (rowsManager: GanttRowsManager, model: GanttRowModel) {\r\n    this.rowsManager = rowsManager\r\n    this.model = model\r\n\r\n    this.from = undefined\r\n    this.to = undefined\r\n\r\n    this.tasksMap = {}\r\n    this.tasks = []\r\n    this.filteredTasks = []\r\n    this.visibleTasks = []\r\n  }\r\n\r\n  addTaskImpl (task: GanttTask, viewOnly = false) {\r\n    this.tasksMap[task.model.id] = task\r\n    this.tasks.push(task)\r\n\r\n    if (!viewOnly) {\r\n      if (this.model.tasks === undefined) {\r\n        this.model.tasks = []\r\n      }\r\n      if (this.model.tasks.indexOf(task.model) === -1) {\r\n        this.model.tasks.push(task.model)\r\n      }\r\n    }\r\n  }\r\n\r\n// Adds a task to a specific row. Merges the task if there is already one with the same id\r\n  addTask (taskModel: GanttTaskModel, viewOnly = false) {\r\n    // Copy to new task (add) or merge with existing (update)\r\n    let task\r\n    let isUpdate = false\r\n\r\n    this.rowsManager.gantt.objectModel.cleanTask(taskModel)\r\n    if (taskModel.id in this.tasksMap) {\r\n      task = this.tasksMap[taskModel.id]\r\n      if (task.model === taskModel) {\r\n        return task\r\n      }\r\n      task.model = taskModel\r\n      isUpdate = true\r\n    } else {\r\n      task = new GanttRow.GanttTask(this, taskModel)\r\n      this.addTaskImpl(task, viewOnly)\r\n    }\r\n\r\n    this.sortTasks()\r\n    this.setFromToByTask(task)\r\n\r\n    if (!viewOnly) {\r\n      if (isUpdate) {\r\n        (this.rowsManager.gantt.api as any).tasks.raise.change(task)\r\n      } else {\r\n        (this.rowsManager.gantt.api as any).tasks.raise.add(task)\r\n      }\r\n    }\r\n\r\n    return task\r\n  }\r\n\r\n// Removes the task from the existing row and adds it to he current one\r\n  moveTaskToRow (task: GanttTask, viewOnly = false) {\r\n    (this.rowsManager.gantt.api as any).tasks.raise.beforeViewRowChange(task, this)\r\n    if (!viewOnly) {\r\n      (this.rowsManager.gantt.api as any).tasks.raise.beforeRowChange(task, this)\r\n    }\r\n\r\n    let oldRow = task.row\r\n    oldRow.removeTask(task.model.id, viewOnly, true)\r\n\r\n    task.row = this\r\n    this.addTaskImpl(task, viewOnly)\r\n\r\n    this.sortTasks()\r\n    this.setFromToByTask(task)\r\n\r\n    task.updatePosAndSize()\r\n    this.updateVisibleTasks()\r\n\r\n    oldRow.$scope.$digest()\r\n    task.row.$scope.$digest();\r\n\r\n    (this.rowsManager.gantt.api as any).tasks.raise.viewRowChange(task, oldRow)\r\n    if (!viewOnly) {\r\n      (this.rowsManager.gantt.api as any).tasks.raise.rowChange(task, oldRow)\r\n    }\r\n  }\r\n\r\n  updateVisibleTasks () {\r\n    let filterTask = this.rowsManager.gantt.options.value('filterTask')\r\n    if (filterTask) {\r\n      if (typeof(filterTask) === 'object') {\r\n        filterTask = {model: filterTask}\r\n      }\r\n\r\n      let filterTaskComparator = this.rowsManager.gantt.options.value('filterTaskComparator')\r\n      if (typeof(filterTaskComparator) === 'function') {\r\n        filterTaskComparator = function (actual, expected) {\r\n          return filterTaskComparator(actual.model, expected.model)\r\n        }\r\n      }\r\n\r\n      this.filteredTasks = GanttRow.$filter('filter')(this.tasks, filterTask, filterTaskComparator)\r\n    } else {\r\n      this.filteredTasks = this.tasks.slice(0)\r\n    }\r\n\r\n    let limitThreshold = this.rowsManager.gantt.options.value('taskLimitThreshold')\r\n    if (limitThreshold === undefined || limitThreshold > 0 && this.filteredTasks.length >= limitThreshold) {\r\n      this.visibleTasks = GanttRow.$filter('ganttTaskLimit')(this.filteredTasks, this.rowsManager.gantt)\r\n    } else {\r\n      this.visibleTasks = this.filteredTasks\r\n    }\r\n  }\r\n\r\n  updateTasksPosAndSize () {\r\n    for (let task of this.tasks) {\r\n      task.updatePosAndSize()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove the specified task from the row\r\n   *\r\n   * @param taskId\r\n   * @param viewOnly\r\n   * @param silent\r\n   * @returns {any}\r\n   */\r\n  removeTask (taskId: string, viewOnly: boolean, silent: boolean) {\r\n    if (taskId in this.tasksMap) {\r\n      let removedTask = this.tasksMap[taskId]\r\n      let task\r\n      let i\r\n\r\n      for (i = this.tasks.length - 1; i >= 0; i--) {\r\n        task = this.tasks[i]\r\n        if (task.model.id === taskId) {\r\n          this.tasks.splice(i, 1) // Remove from array\r\n\r\n          // Update earliest or latest date info as this may change\r\n          if (this.from && this.from.isSame(moment(task.model.from)) || this.to && this.to.isSame(moment(task.model.to))) {\r\n            this.setFromTo()\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n\r\n      for (i = this.filteredTasks.length - 1; i >= 0; i--) {\r\n        task = this.filteredTasks[i]\r\n        if (task.model.id === taskId) {\r\n          this.filteredTasks.splice(i, 1) // Remove from filtered array\r\n          break\r\n        }\r\n      }\r\n\r\n      for (i = this.visibleTasks.length - 1; i >= 0; i--) {\r\n        task = this.visibleTasks[i]\r\n        if (task.model.id === taskId) {\r\n          this.visibleTasks.splice(i, 1) // Remove from visible array\r\n          break\r\n        }\r\n      }\r\n\r\n      if (!viewOnly) {\r\n        delete this.tasksMap[taskId] // Remove from map\r\n\r\n        if (this.model.tasks !== undefined) {\r\n          let taskIndex = this.model.tasks.indexOf(removedTask.model)\r\n          if (taskIndex > -1) {\r\n            this.model.tasks.splice(taskIndex, 1)\r\n          }\r\n        }\r\n\r\n        if (!silent) {\r\n          (this.rowsManager.gantt.api as any).tasks.raise.remove(removedTask)\r\n        }\r\n      }\r\n\r\n      return removedTask\r\n    }\r\n  }\r\n\r\n  removeAllTasks () {\r\n    this.from = undefined\r\n    this.to = undefined\r\n\r\n    this.tasksMap = {}\r\n    this.tasks = []\r\n    this.filteredTasks = []\r\n    this.visibleTasks = []\r\n  }\r\n\r\n  /**\r\n   * Calculate the earliest from and latest to date of all tasks in a row\r\n   */\r\n  setFromTo () {\r\n    this.from = undefined\r\n    this.to = undefined\r\n    for (let task of this.tasks) {\r\n      this.setFromToByTask(task)\r\n    }\r\n  }\r\n\r\n  setFromToByTask (task) {\r\n    this.setFromToByValues(task.model.from, task.model.to)\r\n  }\r\n\r\n  setFromToByValues (from, to) {\r\n    if (from !== undefined) {\r\n      if (this.from === undefined) {\r\n        this.from = moment(from)\r\n      } else if (from < this.from) {\r\n        this.from = moment(from)\r\n      }\r\n    }\r\n\r\n    if (to !== undefined) {\r\n      if (this.to === undefined) {\r\n        this.to = moment(to)\r\n      } else if (to > this.to) {\r\n        this.to = moment(to)\r\n      }\r\n    }\r\n  }\r\n\r\n  sortTasks () {\r\n    this.tasks.sort((t1, t2) => {\r\n      return t1.left - t2.left\r\n    })\r\n  }\r\n\r\n  clone () {\r\n    let clone = new GanttRow(this.rowsManager, angular.copy(this.model))\r\n    for (let task of this.tasks) {\r\n      clone.addTask(task.model)\r\n    }\r\n    return clone\r\n  }\r\n}\r\n\r\nexport default function (GanttTask: {new(row: GanttRow, model: GanttTaskModel): GanttTask}, $filter: IGanttFilterService) {\r\n  'ngInject'\r\n\r\n  GanttRow.GanttTask = GanttTask\r\n  GanttRow.$filter = $filter\r\n  return GanttRow\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/logic/row/row.factory.ts","import angular, {IAugmentedJQuery} from 'angular'\r\n\r\nimport moment from 'moment'\r\nimport {GanttRow} from '../row/row.factory'\r\nimport {GanttRowsManager} from '../row/rowsManager.factory'\r\n\r\nexport class GanttTaskModel {\r\n  id: string\r\n  priority: number\r\n\r\n  from: moment.Moment\r\n  to: moment.Moment\r\n}\r\n\r\nexport class GanttTask {\r\n  rowsManager: GanttRowsManager\r\n\r\n  row: GanttRow\r\n  model: GanttTaskModel\r\n\r\n  truncatedLeft: boolean\r\n  truncatedRight: boolean\r\n\r\n  left: number\r\n  width: number\r\n  isMoving: boolean\r\n  modelLeft: number\r\n  modelWidth: number\r\n  truncatedLeftOffset: number\r\n  truncatedRightOffset: number\r\n  $element: IAugmentedJQuery\r\n\r\n  active: boolean\r\n\r\n  constructor (row: GanttRow, model: GanttTaskModel) {\r\n    this.rowsManager = row.rowsManager\r\n    this.row = row\r\n    this.model = model\r\n    this.truncatedLeft = false\r\n    this.truncatedRight = false\r\n  }\r\n\r\n  isMilestone () {\r\n    return !this.model.to || this.model.to.isSame(this.model.from)\r\n  }\r\n\r\n  isOutOfRange () {\r\n    let firstColumn = this.rowsManager.gantt.columnsManager.getFirstColumn()\r\n    let lastColumn = this.rowsManager.gantt.columnsManager.getLastColumn()\r\n\r\n    return (firstColumn === undefined || this.model.to < firstColumn.date ||\r\n    lastColumn === undefined || this.model.from > lastColumn.endDate)\r\n  }\r\n\r\n  // Updates the pos and size of the task according to the from - to date\r\n  updatePosAndSize () {\r\n    let oldViewLeft = this.left\r\n    let oldViewWidth = this.width\r\n    let oldTruncatedRight = this.truncatedRight\r\n    let oldTruncatedLeft = this.truncatedLeft\r\n\r\n    if (!this.isMoving && this.isOutOfRange()) {\r\n      this.modelLeft = undefined\r\n      this.modelWidth = undefined\r\n    } else {\r\n      this.modelLeft = this.rowsManager.gantt.getPositionByDate(this.model.from)\r\n      this.modelWidth = this.rowsManager.gantt.getPositionByDate(this.model.to) - this.modelLeft\r\n    }\r\n\r\n    let lastColumn = this.rowsManager.gantt.columnsManager.getLastColumn()\r\n    let maxModelLeft = lastColumn ? lastColumn.left + lastColumn.width : 0\r\n\r\n    let modelLeft = this.modelLeft\r\n    let modelWidth = this.modelWidth\r\n\r\n    if (this.rowsManager.gantt.options.value('daily')) {\r\n      modelLeft = this.rowsManager.gantt.getPositionByDate(moment(this.model.from).startOf('day'))\r\n      modelWidth = this.rowsManager.gantt.getPositionByDate(moment(this.model.to).endOf('day')) - modelLeft\r\n    }\r\n\r\n    let minModelLeft = -modelWidth\r\n    if (modelLeft < minModelLeft) {\r\n      modelLeft = minModelLeft\r\n    }\r\n\r\n    if (modelLeft > maxModelLeft) {\r\n      modelLeft = maxModelLeft\r\n    }\r\n\r\n    if (modelLeft === undefined || modelWidth === undefined) {\r\n      this.left = undefined\r\n      this.width = undefined\r\n    } else {\r\n      this.left = modelLeft\r\n      this.width = modelWidth\r\n      if (modelLeft < 0) {\r\n        this.truncatedLeft = true\r\n        this.truncatedLeftOffset = -modelLeft\r\n        this.truncatedRight = false\r\n        this.truncatedRightOffset = undefined\r\n      } else if (modelWidth + modelLeft > this.rowsManager.gantt.width) {\r\n        this.truncatedRight = true\r\n        this.truncatedRightOffset = modelWidth + modelLeft - this.rowsManager.gantt.width\r\n        this.truncatedLeft = false\r\n        this.truncatedLeftOffset = undefined\r\n      } else {\r\n        this.truncatedLeft = false\r\n        this.truncatedLeftOffset = undefined\r\n        this.truncatedRight = false\r\n        this.truncatedRightOffset = modelWidth + modelLeft - this.rowsManager.gantt.width\r\n      }\r\n\r\n      if (this.width < 0) {\r\n        this.left = this.left + this.width\r\n        this.width = -this.width\r\n      }\r\n    }\r\n\r\n    this.updateView()\r\n    if (!this.rowsManager.gantt.isRefreshingColumns &&\r\n      (oldViewLeft !== this.left ||\r\n      oldViewWidth !== this.width ||\r\n      oldTruncatedRight !== this.truncatedRight ||\r\n      oldTruncatedLeft !== this.truncatedLeft)) {\r\n      (this.rowsManager.gantt.api as any).tasks.raise.viewChange(this)\r\n    }\r\n  }\r\n\r\n  updateView () {\r\n    if (this.$element) {\r\n      if (this.left === undefined || this.width === undefined) {\r\n        this.$element.css('display', 'none')\r\n      } else {\r\n        this.$element.css({'left': this.left + 'px', 'width': this.width + 'px', 'display': ''})\r\n\r\n        if (this.model.priority > 0) {\r\n          let priority = this.model.priority\r\n          let children = this.$element.children()\r\n          this.$element.css('z-index', priority)\r\n          // tslint:disable:prefer-for-of\r\n          for (let i = 0; i < children.length; i++) {\r\n            angular.element(children[i]).css('z-index', priority)\r\n          }\r\n        }\r\n\r\n        this.$element.toggleClass('gantt-task-milestone', this.isMilestone())\r\n      }\r\n    }\r\n  }\r\n\r\n  getBackgroundElement () {\r\n    if (this.$element !== undefined) {\r\n      let backgroundElement = this.$element[0].querySelector('.gantt-task-background')\r\n      if (backgroundElement !== undefined) {\r\n        return angular.element(backgroundElement)\r\n      }\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  getContentElement () {\r\n    if (this.$element !== undefined) {\r\n      let contentElement = this.$element[0].querySelector('.gantt-task-content')\r\n      if (contentElement !== undefined) {\r\n        return angular.element(contentElement)\r\n      }\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  getForegroundElement () {\r\n    if (this.$element !== undefined) {\r\n      let foregroundElement = this.$element[0].querySelector('.gantt-task-foreground')\r\n      if (foregroundElement !== undefined) {\r\n        return angular.element(foregroundElement)\r\n      }\r\n      return foregroundElement\r\n    }\r\n  }\r\n\r\n  // Expands the start of the task to the specified position (in em)\r\n  setFrom (x: number, magnetEnabled: boolean) {\r\n    this.model.from = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled)\r\n    this.row.setFromTo()\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  // Expands the end of the task to the specified position (in em)\r\n  setTo (x: number, magnetEnabled: boolean) {\r\n    this.model.to = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled)\r\n    this.row.setFromTo()\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  // Moves the task to the specified position (in em)\r\n  moveTo (x: number, magnetEnabled: boolean) {\r\n    let newTaskRight\r\n    let newTaskLeft\r\n    if (x > this.modelLeft) {\r\n      // Driven by right/to side.\r\n      this.model.to = this.rowsManager.gantt.getDateByPosition(x + this.modelWidth, magnetEnabled)\r\n      newTaskRight = this.rowsManager.gantt.getPositionByDate(this.model.to)\r\n      newTaskLeft = newTaskRight - this.modelWidth\r\n      this.model.from = this.rowsManager.gantt.getDateByPosition(newTaskLeft, false)\r\n    } else {\r\n      // Drive by left/from side.\r\n      this.model.from = this.rowsManager.gantt.getDateByPosition(x, magnetEnabled)\r\n      newTaskLeft = this.rowsManager.gantt.getPositionByDate(this.model.from)\r\n      newTaskRight = newTaskLeft + this.modelWidth\r\n      this.model.to = this.rowsManager.gantt.getDateByPosition(newTaskRight, false)\r\n    }\r\n\r\n    this.row.setFromTo()\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  clone () {\r\n    return new GanttTask(this.row, angular.copy(this.model))\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttTask\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/task/task.factory.ts","import {GanttBody} from './body.factory'\r\n\r\nexport class GanttBodyBackground {\r\n  private body: GanttBody\r\n\r\n  constructor (body: GanttBody) {\r\n    this.body = body\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttBodyBackground\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/bodyBackground.factory.ts","import {GanttBody} from './body.factory'\r\n\r\nexport class GanttBodyColumns {\r\n  private body: GanttBody\r\n\r\n  constructor (body: GanttBody) {\r\n    this.body = body\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttBodyColumns\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/bodyColumns.factory.ts","import {GanttBody} from './body.factory'\r\n\r\nexport class GanttBodyForeground {\r\n  private body: GanttBody\r\n\r\n  constructor (body: GanttBody) {\r\n    this.body = body\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttBodyForeground\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/bodyForeground.factory.ts","import {GanttBody} from './body.factory'\r\n\r\nexport class GanttBodyRows {\r\n  private body: GanttBody\r\n\r\n  constructor (body: GanttBody) {\r\n    this.body = body\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttBodyRows\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/bodyRows.factory.ts","import {IAugmentedJQuery} from 'angular'\r\n\r\nexport class GanttHeaderColumns {\r\n  $element: IAugmentedJQuery\r\n\r\n  constructor ($element: IAugmentedJQuery) {\r\n    this.$element = $element\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttHeaderColumns\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/template/headerColumns.factory.ts","import angular, {IAugmentedJQuery} from 'angular'\r\n\r\nimport moment from 'moment'\r\nimport {Gantt} from '../gantt.factory'\r\n\r\nexport class TimespanModel {\r\n  id: string\r\n  from: moment.Moment|Date\r\n  to: moment.Moment|Date\r\n}\r\n\r\nexport class Timespan {\r\n  gantt: Gantt\r\n  model: TimespanModel\r\n\r\n  modelLeft: number\r\n  modelWidth: number\r\n  left: number\r\n  width: number\r\n  truncatedLeft: boolean\r\n  truncatedLeftOffset: number\r\n  truncatedRightOffset: number\r\n  truncatedRight: boolean\r\n  from: moment.Moment\r\n  to: moment.Moment\r\n\r\n  $element: IAugmentedJQuery\r\n\r\n  constructor (gantt, model: TimespanModel) {\r\n    this.gantt = gantt\r\n    this.model = model\r\n  }\r\n\r\n  /**\r\n   * Updates the pos and size of the timespan according to the from - to date\r\n   */\r\n  updatePosAndSize () {\r\n    this.modelLeft = this.gantt.getPositionByDate(this.model.from)\r\n    this.modelWidth = this.gantt.getPositionByDate(this.model.to) - this.modelLeft\r\n\r\n    let lastColumn = this.gantt.columnsManager.getLastColumn()\r\n    let maxModelLeft = lastColumn ? lastColumn.left + lastColumn.width : 0\r\n\r\n    let modelLeft = this.modelLeft\r\n    let modelWidth = this.modelWidth\r\n\r\n    let minModelLeft = -modelWidth\r\n    if (modelLeft < minModelLeft) {\r\n      modelLeft = minModelLeft\r\n    }\r\n\r\n    if (modelLeft > maxModelLeft) {\r\n      modelLeft = maxModelLeft\r\n    }\r\n\r\n    if (modelLeft === undefined || modelWidth === undefined) {\r\n      this.left = undefined\r\n      this.width = undefined\r\n    } else {\r\n      this.left = modelLeft\r\n      this.width = modelWidth\r\n      if (modelLeft < 0) {\r\n        this.truncatedLeft = true\r\n        this.truncatedLeftOffset = -modelLeft\r\n        this.truncatedRight = false\r\n        this.truncatedRightOffset = undefined\r\n      } else if (modelWidth + modelLeft > this.gantt.width) {\r\n        this.truncatedRight = true\r\n        this.truncatedRightOffset = modelWidth + modelLeft - this.gantt.width\r\n        this.truncatedLeft = false\r\n        this.truncatedLeftOffset = undefined\r\n      } else {\r\n        this.truncatedLeft = false\r\n        this.truncatedLeftOffset = undefined\r\n        this.truncatedRight = false\r\n        this.truncatedRightOffset = modelWidth + modelLeft - this.gantt.width\r\n      }\r\n\r\n      if (this.width < 0) {\r\n        this.left = this.left + this.width\r\n        this.width = -this.width\r\n      }\r\n    }\r\n\r\n    this.updateView()\r\n  }\r\n\r\n  updateView () {\r\n    if (this.$element) {\r\n      if (this.left === undefined || this.width === undefined) {\r\n        this.$element.css('display', 'none')\r\n      } else {\r\n        this.$element.css('display', '')\r\n        this.$element.css('left', this.left + 'px')\r\n        this.$element.css('width', this.width + 'px')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Expands the start of the timespan to the specified position (in em)\r\n   * @param x\r\n   */\r\n  setFrom (x: number) {\r\n    this.from = this.gantt.getDateByPosition(x)\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  /**\r\n   * Expands the end of the timespan to the specified position (in em)\r\n   * @param x\r\n   */\r\n  setTo (x: number) {\r\n    this.to = this.gantt.getDateByPosition(x)\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  /**\r\n   * Moves the timespan to the specified position (in em)\r\n   *\r\n   * @param x\r\n   */\r\n  moveTo (x: number) {\r\n    this.from = this.gantt.getDateByPosition(x)\r\n    this.to = this.gantt.getDateByPosition(x + this.width)\r\n    this.updatePosAndSize()\r\n  }\r\n\r\n  clone () {\r\n    return new Timespan(this.gantt, angular.copy(this.model))\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return Timespan\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/timespan/timespan.factory.ts","export default class GanttArrays {\r\n\r\n  moveToIndex (array: any[], oldIndex: number, newIndex: number) {\r\n    if (newIndex >= array.length) {\r\n      let k = newIndex - array.length\r\n      while ((k--) + 1) {\r\n        array.push(undefined)\r\n      }\r\n    }\r\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0])\r\n    return array\r\n  }\r\n\r\n  getRemovedIds<T> (newArray: T[], oldArray: T[], idProperty = 'id') {\r\n    let i\r\n    let l\r\n    let removedIds = []\r\n\r\n    if (oldArray !== undefined) {\r\n      for (i = 0, l = oldArray.length; i < l; i++) {\r\n        removedIds.push(oldArray[i][idProperty])\r\n      }\r\n    }\r\n\r\n    if (newArray !== undefined) {\r\n      for (i = 0, l = newArray.length; i < l; i++) {\r\n        let newObject = newArray[i]\r\n\r\n        if (newObject[idProperty] !== undefined) {\r\n          let newObjectIndex = removedIds.indexOf(newObject[idProperty])\r\n          if (newObjectIndex > -1) {\r\n            removedIds.splice(newObjectIndex, 1)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return removedIds\r\n  }\r\n\r\n  indexOfId<T> (array: T[], value: T, idProperties: string|string[] = 'id') {\r\n    let i\r\n    if (idProperties instanceof Array) {\r\n      for (i = array.length - 1; i >= 0; i--) {\r\n        let arrayValue = array[i]\r\n        // tslint:disable:one-variable-per-declaration\r\n        for (let k = 0, l = idProperties.length; k < l; k++) {\r\n          arrayValue = arrayValue[idProperties[k]]\r\n        }\r\n        if (arrayValue === value) {\r\n          return i\r\n        }\r\n      }\r\n      return -1\r\n    }\r\n    for (i = array.length - 1; i >= 0; i--) {\r\n      if (array[i][idProperties] === value) {\r\n        return i\r\n      }\r\n    }\r\n    return -1\r\n  }\r\n\r\n  removeId<T> (array: T[], value: T, idProperties?: string|string[]) {\r\n    let indexOf = this.indexOfId(array, value, idProperties)\r\n    if (indexOf > -1) {\r\n      return array.splice(indexOf, 1)[0]\r\n    }\r\n  }\r\n\r\n  remove<T> (array: T[], value: T) {\r\n    let index = array.indexOf(value)\r\n    if (index > -1) {\r\n      array.splice(index, 1)\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/util/arrays.service.ts","export default class GanttBinarySearch {\r\n  // Returns the object on the left and right in an array using the given cmp function.\r\n  // The compare function defined which property of the value to compare (e.g.: c => c.left)\r\n\r\n  getIndicesOnly<T, C = number|Date> (input: T[], value: C, comparer: {(T): C}, strict?: boolean) {\r\n    let lo = -1\r\n    let hi = input.length\r\n    while (hi - lo > 1) {\r\n      let mid = Math.floor((lo + hi) / 2)\r\n      if (strict ? comparer(input[mid]) < value : comparer(input[mid]) <= value) {\r\n        lo = mid\r\n      } else {\r\n        hi = mid\r\n      }\r\n    }\r\n    if (!strict && input[lo] !== undefined && comparer(input[lo]) === value) {\r\n      hi = lo\r\n    }\r\n    return [lo, hi]\r\n  }\r\n\r\n  get<T, C = number|Date> (input: T[], value: C, comparer: {(T): C}, strict?: boolean) {\r\n    let res = this.getIndicesOnly(input, value, comparer, strict)\r\n    return [input[res[0]], input[res[1]]]\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/util/binarySearch.service.ts","export class GanttHierarchy {\r\n  private nameToRow = {}\r\n\r\n  private idToRow = {}\r\n\r\n  private nameToChildren = {}\r\n  private idToChildren = {}\r\n\r\n  private nameToParent = {}\r\n  private idToParent = {}\r\n\r\n  private registerChildRow (row, childRow) {\r\n    if (childRow !== undefined) {\r\n      let nameChildren = this.nameToChildren[row.model.name]\r\n      if (nameChildren === undefined) {\r\n        nameChildren = []\r\n        this.nameToChildren[row.model.name] = nameChildren\r\n      }\r\n      nameChildren.push(childRow)\r\n\r\n      let idChildren = this.idToChildren[row.model.id]\r\n      if (idChildren === undefined) {\r\n        idChildren = []\r\n        this.idToChildren[row.model.id] = idChildren\r\n      }\r\n      idChildren.push(childRow)\r\n\r\n      this.nameToParent[childRow.model.name] = row\r\n      this.idToParent[childRow.model.id] = row\r\n    }\r\n  }\r\n\r\n  refresh (rows) {\r\n    this.nameToRow = {}\r\n    this.idToRow = {}\r\n\r\n    this.nameToChildren = {}\r\n    this.idToChildren = {}\r\n\r\n    this.nameToParent = {}\r\n    this.idToParent = {}\r\n\r\n    let row\r\n\r\n    for (let i = 0; i < rows.length; i++) {\r\n      row = rows[i]\r\n      this.nameToRow[row.model.name] = row\r\n      this.idToRow[row.model.id] = row\r\n    }\r\n\r\n    for (let i = 0; i < rows.length; i++) {\r\n      row = rows[i]\r\n      if (row.model.parent !== undefined) {\r\n        let parentRow = this.nameToRow[row.model.parent]\r\n        if (parentRow === undefined) {\r\n          parentRow = this.idToRow[row.model.parent]\r\n        }\r\n\r\n        if (parentRow !== undefined) {\r\n          this.registerChildRow(parentRow, row)\r\n        }\r\n      }\r\n\r\n      if (row.model.children !== undefined) {\r\n        let children = row.model.children\r\n        for (let childRowNameOrId of children) {\r\n          let childRow = this.nameToRow[childRowNameOrId]\r\n          if (childRow === undefined) {\r\n            childRow = this.idToRow[childRowNameOrId]\r\n          }\r\n\r\n          if (childRow !== undefined) {\r\n            this.registerChildRow(row, childRow)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let rootRows = []\r\n    for (let i = 0; i < rows.length; i++) {\r\n      row = rows[i]\r\n      if (this.parent(row) === undefined) {\r\n        rootRows.push(row)\r\n      }\r\n    }\r\n\r\n    return rootRows\r\n  }\r\n\r\n  children (row) {\r\n    let children = this.idToChildren[row.model.id]\r\n    return children\r\n  }\r\n\r\n  descendants (row) {\r\n    let descendants = []\r\n\r\n    let children = this.children(row)\r\n    descendants.push.apply(descendants, children)\r\n    if (children !== undefined) {\r\n      for (let child of children) {\r\n        let childDescendants = this.descendants(child)\r\n        descendants.push.apply(descendants, childDescendants)\r\n      }\r\n    }\r\n\r\n    return descendants\r\n  }\r\n\r\n  parent (row) {\r\n    let parent = this.idToParent[row.model.id]\r\n    return parent\r\n  }\r\n\r\n  ancestors (row) {\r\n    let ancestors = []\r\n\r\n    let parent = this.parent(row)\r\n    while (parent !== undefined) {\r\n      ancestors.push(parent)\r\n      parent = this.parent(parent)\r\n    }\r\n\r\n    return ancestors\r\n  }\r\n}\r\n\r\nexport default function GanttHierarchyFactory () {\r\n  'ngInject'\r\n\r\n  return GanttHierarchy\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/util/hierarchy.factory.ts","import angular from 'angular'\r\n\r\nexport default class GanttUtils {\r\n  seedId = new Date().getTime()\r\n\r\n  createBoundedWrapper (object: any, method: Function) {\r\n    return function () {\r\n      return method.apply(object, arguments)\r\n    }\r\n  }\r\n\r\n  firstProperty (objects: Array<any>, propertyName: string, defaultValue: any) {\r\n    // tslint:disable:one-variable-per-declaration\r\n    for (let i = 0, l = objects.length; i < l; i++) {\r\n      let object = objects[i]\r\n      if (object !== undefined && propertyName in object) {\r\n        if (object[propertyName] !== undefined) {\r\n          return object[propertyName]\r\n        }\r\n      }\r\n    }\r\n    return defaultValue\r\n  }\r\n\r\n  angularIndexOf (arr: Array<any>, obj: any): number {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (angular.equals(arr[i], obj)) {\r\n        return i\r\n      }\r\n    }\r\n    return -1\r\n  }\r\n\r\n  random4 (): string {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1)\r\n  }\r\n\r\n  randomUuid (): string {\r\n    return this.random4() + this.random4() + '-' + this.random4() + '-' + this.random4() + '-' +\r\n      this.random4() + '-' + this.random4() + this.random4() + this.random4()\r\n  }\r\n\r\n  newId (): number {\r\n    return this.seedId += 1\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/logic/util/utils.service.ts","import GanttBinarySearch from '../../logic/util/binarySearch.service'\r\nimport {GanttColumn} from '../../logic/column/column.factory'\r\nimport {Gantt} from '../../logic/gantt.factory'\r\nimport {GanttColumnHeader} from '../../logic/column/columnHeader.factory'\r\n\r\nexport interface IFilterGanttColumnLimit {\r\n  (array: GanttColumn[]|GanttColumnHeader[], gantt: Gantt): GanttColumn[]|GanttColumnHeader[]\r\n}\r\n\r\nexport default function (ganttBinarySearch: GanttBinarySearch) {\r\n  'ngInject'\r\n\r\n  // Returns only the columns which are visible on the screen\r\n  let leftComparator = function (c) {\r\n    return c.left\r\n  }\r\n\r\n  return function (input: GanttColumn[], gantt: Gantt): GanttColumn[] { // TODO: type\r\n    let scrollLeft = gantt.scroll.getScrollLeft()\r\n    let scrollContainerWidth = gantt.getWidth() - gantt.side.getWidth()\r\n\r\n    if (scrollContainerWidth > 0) {\r\n      let start = ganttBinarySearch.getIndicesOnly(input, scrollLeft, leftComparator)[0]\r\n      let end = ganttBinarySearch.getIndicesOnly(input, scrollLeft + scrollContainerWidth, leftComparator)[1]\r\n      return input.slice(start, end)\r\n    } else {\r\n      return input.slice()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/limit/columnLimit.filter.ts","import {GanttTask} from '../../logic/task/task.factory'\r\nimport {Gantt} from '../../logic/gantt.factory'\r\n\r\nexport interface IFilterGanttTaskLimit {\r\n  (array: GanttTask[], gantt: Gantt): GanttTask[]\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  // Returns only the tasks which are visible on the screen\r\n  // Use the task width and position to decide if a task is still visible\r\n\r\n  return function (input: GanttTask[], gantt: Gantt): GanttTask[] { // TODO: type\r\n    let firstColumn = gantt.columnsManager.getFirstColumn()\r\n    let lastColumn = gantt.columnsManager.getLastColumn()\r\n\r\n    if (firstColumn !== undefined && lastColumn !== undefined) {\r\n      let fromDate = firstColumn.date\r\n      let toDate = lastColumn.endDate\r\n\r\n      let res: GanttTask[] = []\r\n\r\n      let scrollLeft = gantt.scroll.getScrollLeft()\r\n      let scrollContainerWidth = gantt.getWidth() - gantt.side.getWidth()\r\n\r\n      // tslint:disable:one-variable-per-declaration\r\n      for (let i = 0, l = input.length; i < l; i++) {\r\n        let task = input[i]\r\n\r\n        if (task.active) {\r\n          res.push(task)\r\n        } else {\r\n          // If the task can be drawn with gantt columns only.\r\n          if (task.model.to >= fromDate && task.model.from <= toDate) {\r\n\r\n            if (task.left === undefined) {\r\n              task.updatePosAndSize()\r\n            }\r\n\r\n            // If task has a visible part on the screen\r\n            if (!scrollContainerWidth ||\r\n              task.left >= scrollLeft && task.left <= scrollLeft + scrollContainerWidth ||\r\n              task.left + task.width >= scrollLeft && task.left + task.width <= scrollLeft + scrollContainerWidth ||\r\n              task.left < scrollLeft && task.left + task.width > scrollLeft + scrollContainerWidth) {\r\n\r\n              res.push(task)\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return res\r\n    } else {\r\n      return input.splice(0)\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/limit/taskLimit.filter.ts","export default function ($document, $parse, $timeout, ganttMouseOffset) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    require: '^gantt',\r\n    scope: {\r\n      targetElement: '=ganttResizer',\r\n      enabled: '@?ganttResizerEnabled'\r\n    },\r\n    link: function ($scope, $element, $attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n      let eventTopic = $attrs.ganttResizerEventTopic\r\n\r\n      if ($scope.enabled === undefined) {\r\n        $scope.enabled = true\r\n      }\r\n\r\n      function getWidth () {\r\n        return ganttCtrl.gantt.options.value($attrs.resizerWidth)\r\n      }\r\n\r\n      function setWidth (width) {\r\n        if (width !== getWidth()) {\r\n          ganttCtrl.gantt.options.set($attrs.resizerWidth, width)\r\n\r\n          if (eventTopic !== undefined) {\r\n            api[eventTopic].raise.resize(width)\r\n          }\r\n\r\n          $timeout(function () {\r\n            ganttCtrl.gantt.columnsManager.updateColumnsMeta()\r\n          })\r\n        }\r\n      }\r\n\r\n      function dblclick (event) {\r\n        event.preventDefault()\r\n        setWidth(undefined)\r\n      }\r\n\r\n      function mousemove (event) {\r\n        $scope.$evalAsync(function () {\r\n          let offset = ganttMouseOffset.getOffsetForElement($scope.targetElement[0], event)\r\n          let maxWidth = ganttCtrl.gantt.getWidth() - ganttCtrl.gantt.scroll.getBordersWidth()\r\n          let width = Math.min(Math.max(offset.x, 0), maxWidth)\r\n          setWidth(width)\r\n        })\r\n      }\r\n\r\n      function mouseup () {\r\n        if (eventTopic !== undefined) {\r\n          api[eventTopic].raise.resizeEnd(getWidth())\r\n        }\r\n        $document.unbind('mousemove', mousemove)\r\n        $document.unbind('mouseup', mouseup)\r\n      }\r\n\r\n      function mousedown (event) {\r\n        event.preventDefault()\r\n\r\n        if (eventTopic !== undefined) {\r\n          api[eventTopic].raise.resizeBegin(getWidth())\r\n        }\r\n        $document.on('mousemove', mousemove)\r\n        $document.on('mouseup', mouseup)\r\n      }\r\n\r\n      $attrs.$observe('ganttResizerEnabled', function (value) {\r\n        $scope.enabled = $parse(value)()\r\n      })\r\n\r\n      $scope.$watch('enabled', function (value) {\r\n        if (value === undefined) {\r\n          value = true\r\n        }\r\n\r\n        $element.toggleClass('gantt-resizer-enabled', value)\r\n\r\n        if (value) {\r\n          $element.on('dblclick', dblclick)\r\n          $element.on('mousedown', mousedown)\r\n        } else {\r\n          $element.off('dblclick', dblclick)\r\n          $element.off('mousedown', mousedown)\r\n        }\r\n      })\r\n\r\n      $scope.$watch(function () {\r\n        return getWidth()\r\n      }, function (newValue, oldValue) {\r\n        if (newValue !== oldValue) {\r\n          $scope.targetElement.css('width', newValue + 'px')\r\n          // Setting width again is required when min-width of max-width is set on targetElement.\r\n          // This avoid going to a smaller or bigger value than targetElement capabilities.\r\n          // Call of 'offsetWidth' is slow. Behaviour needs to be improved.\r\n          if ($scope.targetElement[0].offsetWidth > 0) {\r\n            setWidth($scope.targetElement[0].offsetWidth)\r\n          }\r\n        }\r\n      })\r\n\r\n      if (eventTopic) {\r\n        api.registerEvent(eventTopic, 'resize')\r\n        api.registerEvent(eventTopic, 'resizeBegin')\r\n        api.registerEvent(eventTopic, 'resizeEnd')\r\n        api.registerMethod(eventTopic, 'setWidth', setWidth, this)\r\n        api.registerMethod(eventTopic, 'getWidth', getWidth, this)\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/resizer/resizer.directive.ts","export default function () {\r\n  'ngInject'\r\n  // The element with this attribute will scroll at the same time as the scrollSender element\r\n\r\n  return {\r\n    restrict: 'A',\r\n    require: '^ganttScrollManager',\r\n    link: function (scope, element, attrs, ganttScrollManagerCtrl) {\r\n      ganttScrollManagerCtrl.registerHorizontalReceiver(element)\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/scroll/horizontalScrollReceiver.directive.ts","export default function () {\r\n  'ngInject'\r\n  // The element with this attribute will scroll at the same time as the scrollSender element\r\n\r\n  return {\r\n    restrict: 'A',\r\n    scope: {},\r\n    controller: function ($scope) {\r\n      'ngInject'\r\n      $scope.horizontal = []\r\n      $scope.vertical = []\r\n\r\n      this.registerVerticalReceiver = function (element) {\r\n        element.css('position', 'relative')\r\n        $scope.vertical.push(element[0])\r\n      }\r\n\r\n      this.registerHorizontalReceiver = function (element) {\r\n        element.css('position', 'relative')\r\n        $scope.horizontal.push(element[0])\r\n      }\r\n\r\n      this.getHorizontalRecievers = function () {\r\n        return $scope.horizontal\r\n      }\r\n\r\n      this.getVerticalRecievers = function () {\r\n        return $scope.vertical\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/scroll/scrollManager.directive.ts","export default function () {\r\n  'ngInject'\r\n  // Updates the element which are registered for the horizontal or vertical scroll event\r\n\r\n  return {\r\n    restrict: 'A',\r\n    require: ['^gantt', '^ganttScrollManager'],\r\n    link: function (scope, element, attrs, controllers) {\r\n      let el = element[0]\r\n\r\n      let updateListeners = function () {\r\n        let i\r\n        let l\r\n\r\n        let vertical = controllers[1].getVerticalRecievers()\r\n        for (i = 0, l = vertical.length; i < l; i++) {\r\n          let vElement = vertical[i]\r\n          if (vElement.parentNode.scrollTop !== el.scrollTop) {\r\n            vElement.parentNode.scrollTop = el.scrollTop\r\n          }\r\n        }\r\n\r\n        let horizontal = controllers[1].getHorizontalRecievers()\r\n        for (i = 0, l = horizontal.length; i < l; i++) {\r\n          let hElement = horizontal[i]\r\n          if (hElement.parentNode.scrollLeft !== el.scrollLeft) {\r\n            hElement.parentNode.scrollLeft = el.scrollLeft\r\n          }\r\n        }\r\n      }\r\n\r\n      element.bind('scroll', updateListeners)\r\n\r\n      scope.$watch(function () {\r\n        return controllers[0].gantt.width\r\n      }, function (newValue, oldValue) {\r\n        if (newValue !== oldValue) {\r\n          let horizontal = controllers[1].getHorizontalRecievers()\r\n          // tslint:disable:one-variable-per-declaration\r\n          for (let i = 0, l = horizontal.length; i < l; i++) {\r\n            let hElement = horizontal[i]\r\n            hElement.style.width = newValue + 'px'\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/scroll/scrollSender.directive.ts","import moment from 'moment'\r\nimport { ITimeoutService } from 'angular'\r\nimport { GanttDebounce } from '../util/debounce.factory'\r\nimport { GanttDirectiveBuilder } from '../util/directiveBuilder.factory'\r\n\r\nexport default function (GanttDirectiveBuilder: { new(directiveName: string, templateUrl?: string, require?: string | string[], restrict?: string): GanttDirectiveBuilder },\r\n  $timeout: ITimeoutService,\r\n  ganttDebounce: GanttDebounce) {\r\n  'ngInject'\r\n\r\n  let builder = new GanttDirectiveBuilder('ganttScrollable')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.scroll.$element = $element\r\n    let lastScrollLeft\r\n    let autoExpandTimer\r\n\r\n    let autoExpandColumns = function (el, date, direction) {\r\n      let autoExpand = $scope.gantt.options.value('autoExpand')\r\n      if (autoExpand !== 'both' && autoExpand !== true && autoExpand !== direction) {\r\n        return\r\n      }\r\n\r\n      let from\r\n      let to\r\n\r\n      let viewScale = $scope.gantt.options.value('viewScale')\r\n      viewScale = viewScale.trim()\r\n      if (viewScale.charAt(viewScale.length - 1) === 's') {\r\n        viewScale = viewScale.substring(0, viewScale.length - 1)\r\n      }\r\n      let viewScaleValue\r\n      let viewScaleUnit\r\n      let splittedViewScale\r\n\r\n      if (viewScale) {\r\n        splittedViewScale = viewScale.split(' ')\r\n      }\r\n      if (splittedViewScale && splittedViewScale.length > 1) {\r\n        viewScaleValue = parseFloat(splittedViewScale[0])\r\n        viewScaleUnit = splittedViewScale[splittedViewScale.length - 1]\r\n      } else {\r\n        viewScaleValue = 1\r\n        viewScaleUnit = viewScale\r\n      }\r\n\r\n      if (direction === 'left') {\r\n        from = moment(date).add(-5 * viewScaleValue, viewScaleUnit)\r\n        $scope.fromDate = from\r\n      } else {\r\n        to = moment(date).add(5 * viewScaleValue, viewScaleUnit)\r\n        $scope.toDate = to\r\n      }\r\n\r\n      $scope.gantt.api.scroll.raise.scroll(el.scrollLeft, date, direction)\r\n    }\r\n    $element.bind('scroll', ganttDebounce(function () {\r\n      let el = $element[0]\r\n      let currentScrollLeft = el.scrollLeft\r\n      let direction\r\n      let date\r\n\r\n      $scope.gantt.scroll.cachedScrollLeft = currentScrollLeft\r\n      // $scope.gantt.columnsManager.updateVisibleColumns()\r\n      // $scope.gantt.rowsManager.updateVisibleObjects()\r\n\r\n      // if (currentScrollLeft < lastScrollLeft && currentScrollLeft === 0) {\r\n      //   direction = 'left'\r\n      //   date = $scope.gantt.columnsManager.from\r\n      // } else if (currentScrollLeft > lastScrollLeft && el.offsetWidth + currentScrollLeft >= el.scrollWidth - 1) {\r\n      //   direction = 'right'\r\n      //   date = $scope.gantt.columnsManager.to\r\n      // }\r\n\r\n      lastScrollLeft = currentScrollLeft\r\n\r\n      // if (date !== undefined) {\r\n      //   if (autoExpandTimer) {\r\n      //     $timeout.cancel(autoExpandTimer)\r\n      //   }\r\n\r\n      //   autoExpandTimer = $timeout(function () {\r\n      //     autoExpandColumns(el, date, direction)\r\n      //   }, 300)\r\n      // } else {\r\n      //   $scope.gantt.api.scroll.raise.scroll(currentScrollLeft)\r\n      // }\r\n      const curScrollDate = $scope.gantt.getDateByPosition(currentScrollLeft)\r\n      $scope.gantt.api.scroll.raise.scroll(currentScrollLeft, curScrollDate)\r\n    }, 5))\r\n\r\n    $scope.getScrollableCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeight = $scope.gantt.options.value('maxHeight')\r\n      if (!maxHeight) {\r\n        maxHeight = $scope.gantt.getContainerHeight()\r\n      }\r\n\r\n      if (maxHeight > 0) {\r\n        css['max-height'] = maxHeight - $scope.gantt.header.getHeight() + 'px'\r\n        css['overflow-y'] = 'auto'\r\n\r\n        if ($scope.gantt.scroll.isVScrollbarVisible()) {\r\n          css['border-right'] = 'none'\r\n        }\r\n      }\r\n\r\n      let columnWidth = this.gantt.options.value('columnWidth')\r\n      let bodySmallerThanGantt = $scope.gantt.width === 0 ? false : $scope.gantt.width < $scope.gantt.getWidth() - $scope.gantt.side.getWidth()\r\n      if (columnWidth !== undefined && bodySmallerThanGantt) {\r\n        css['width'] = ($scope.gantt.width + this.gantt.scroll.getBordersWidth()) + 'px'\r\n      }\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/scroll/scrollable.directive.ts","export default function () {\r\n  'ngInject'\r\n  // The element with this attribute will scroll at the same time as the scrollSender element\r\n\r\n  return {\r\n    restrict: 'A',\r\n    require: '^ganttScrollManager',\r\n    link: function (scope, element, attrs, ganttScrollManagerCtrl) {\r\n      ganttScrollManagerCtrl.registerVerticalReceiver(element)\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/scroll/verticalScrollReceiver.directive.ts","export default function () {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    controller: function ($scope, $element, $attrs) {\r\n      'ngInject'\r\n      let scopeVariable = $attrs.ganttContainerHeightListener\r\n      if (scopeVariable === '') {\r\n        scopeVariable = 'ganttContainerHeight'\r\n      }\r\n\r\n      let effectiveScope = $scope\r\n\r\n      while (scopeVariable.indexOf('$parent.') === 0) {\r\n        scopeVariable = scopeVariable.substring('$parent.'.length)\r\n        effectiveScope = effectiveScope.$parent\r\n      }\r\n\r\n      effectiveScope.$watch(function () {\r\n        let el = $element[0].parentElement ? $element[0].parentElement.parentElement : undefined\r\n        if (el) {\r\n          let height = el.offsetHeight\r\n\r\n          let style = getComputedStyle(el)\r\n          height = height - parseInt(style.marginTop, 10) - parseInt(style.marginBottom, 10)\r\n\r\n          return height\r\n        }\r\n        return 0\r\n      }, function (newValue) {\r\n        if (newValue > 0) {\r\n          effectiveScope[scopeVariable] = newValue\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/size/containerHeightListener.directive.ts","export default function () {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    controller: function ($scope, $element, $attrs) {\r\n      'ngInject'\r\n      let scopeVariable = $attrs.ganttContainerWidthListener\r\n      if (scopeVariable === '') {\r\n        scopeVariable = 'ganttContainerWidth'\r\n      }\r\n\r\n      let effectiveScope = $scope\r\n\r\n      while (scopeVariable.indexOf('$parent.') === 0) {\r\n        scopeVariable = scopeVariable.substring('$parent.'.length)\r\n        effectiveScope = effectiveScope.$parent\r\n      }\r\n\r\n      effectiveScope.$watch(function () {\r\n        let el = $element[0].parentElement ? $element[0].parentElement.parentElement : undefined\r\n        if (el) {\r\n          let width = el.offsetWidth\r\n\r\n          let style = getComputedStyle(el)\r\n          width = width - parseInt(style.marginLeft, 10) - parseInt(style.marginRight, 10)\r\n\r\n          return width\r\n        }\r\n        return 0\r\n      }, function (newValue) {\r\n        if (newValue > 0) {\r\n          effectiveScope[scopeVariable] = newValue\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/size/containerWidthListener.directive.ts","export default function () {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    controller: function ($scope, $element, $attrs) {\r\n      'ngInject'\r\n      let scopeVariable = $attrs.ganttElementHeightListener\r\n      if (scopeVariable === '') {\r\n        scopeVariable = 'ganttElementHeight'\r\n      }\r\n\r\n      let el = $element[0]\r\n      let effectiveScope = $scope\r\n\r\n      while (scopeVariable.indexOf('$parent.') === 0) {\r\n        scopeVariable = scopeVariable.substring('$parent.'.length)\r\n        effectiveScope = effectiveScope.$parent\r\n      }\r\n\r\n      effectiveScope.$watch(function () {\r\n        return el.clientHeight\r\n      }, function (newValue) {\r\n        if (newValue > 0) {\r\n          effectiveScope[scopeVariable] = newValue\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/size/elementHeightListener.directive.ts","export default function () {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'A',\r\n    controller: function ($scope, $element, $attrs) {\r\n      'ngInject'\r\n      let scopeVariable = $attrs.ganttElementWidthListener\r\n      if (scopeVariable === '') {\r\n        scopeVariable = 'ganttElementWidth'\r\n      }\r\n\r\n      let el = $element[0]\r\n      let effectiveScope = $scope\r\n\r\n      while (scopeVariable.indexOf('$parent.') === 0) {\r\n        scopeVariable = scopeVariable.substring('$parent.'.length)\r\n        effectiveScope = effectiveScope.$parent\r\n      }\r\n\r\n      effectiveScope.$watch(function () {\r\n        return el.clientWidth\r\n      }, function (newValue) {\r\n        if (newValue > 0) {\r\n          effectiveScope[scopeVariable] = newValue\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/size/elementWidthListener.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttBody')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.body.$element = $element\r\n    $scope.gantt.body.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/body.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttBodyBackground')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.body.background.$element = $element\r\n    $scope.gantt.body.background.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/bodyBackground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttBodyColumns')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.body.columns.$element = $element\r\n    $scope.gantt.body.background.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/bodyColumns.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttBodyForeground')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.body.foreground.$element = $element\r\n    $scope.gantt.body.foreground.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/bodyForeground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttBodyRows')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.body.rows.$element = $element\r\n    $scope.gantt.body.rows.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/bodyRows.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttColumn')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.column.$element = $element\r\n    $scope.column.$scope = $scope\r\n    $scope.column.updateView()\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/column.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttColumnHeader')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.column.$element = $element\r\n    $scope.column.$scope = $scope\r\n    $scope.column.updateView()\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/columnHeader.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttHeader')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.header.$element = $element\r\n    $scope.gantt.header.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/header.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttHeaderColumns')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.header.columns.$element = $element\r\n    $scope.gantt.header.columns.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/headerColumns.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttRow')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.row.$element = $element\r\n    $scope.row.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/row.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttRowBackground')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/rowBackground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttRowLabel')\r\n  builder.restrict = 'A'\r\n  builder.templateUrl = undefined\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/rowLabel.directive.ts","export default function (GanttDirectiveBuilder, ganttLayout) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttScrollableHeader')\r\n  builder.controller = function ($scope) {\r\n    let scrollBarWidth = ganttLayout.getScrollBarWidth()\r\n    $scope.getScrollableHeaderCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeightActivated = $scope.gantt.scroll.isVScrollbarVisible()\r\n      let vScrollbarWidth = maxHeightActivated ? scrollBarWidth : 0\r\n      let columnWidth = this.gantt.options.value('columnWidth')\r\n      let bodySmallerThanGantt = $scope.gantt.width === 0 ? false : $scope.gantt.width < $scope.gantt.getWidth() - $scope.gantt.side.getWidth()\r\n\r\n      if (columnWidth !== undefined && bodySmallerThanGantt) {\r\n        css['width'] = ($scope.gantt.width - vScrollbarWidth + this.gantt.scroll.getBordersWidth()) + 'px'\r\n      } else if (maxHeightActivated) {\r\n        css['width'] = $scope.gantt.getWidth() - $scope.gantt.side.getWidth() - vScrollbarWidth + 'px'\r\n      }\r\n\r\n      /*\r\n       if (oldMaxHeightActivated !== maxHeightActivated) {\r\n       oldMaxHeightActivated = maxHeightActivated;\r\n       $scope.gantt.columnsManager.updateColumnsMeta();\r\n       }\r\n       */\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/scrollableHeader.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSide')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.gantt.side.$element = $element\r\n    $scope.gantt.side.$scope = $scope\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/side.directive.ts","export default function (GanttDirectiveBuilder, ganttLayout) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSideBackground')\r\n  builder.controller = function ($scope) {\r\n    let hScrollBarHeight = ganttLayout.getScrollBarHeight()\r\n\r\n    $scope.getMaxHeightCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeight = $scope.maxHeight\r\n      if (!maxHeight) {\r\n        maxHeight = $scope.gantt.getContainerHeight()\r\n      }\r\n\r\n      let bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0\r\n      css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px'\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/sideBackground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSideContent')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/sideContent.directive.ts","import moment from 'moment'\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTask')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.task.$element = $element\r\n    $scope.task.$scope = $scope\r\n\r\n    $scope.getTaskContent = function () {\r\n      if ($scope.task.model.content !== undefined) {\r\n        return $scope.task.model.content\r\n      }\r\n      return $scope.task.rowsManager.gantt.options.value('taskContent')\r\n    }\r\n\r\n    $scope.simplifyMoment = function (d) {\r\n      return moment.isMoment(d) ? d.unix() : d\r\n    }\r\n\r\n    $scope.$watchGroup(['simplifyMoment(task.model.from)', 'simplifyMoment(task.model.to)'], function () {\r\n      $scope.task.updatePosAndSize()\r\n    })\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/task.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTaskBackground')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/taskBackground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTaskContent')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/taskContent.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTaskForeground')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/taskForeground.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTimeFrame')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.timeFrame.$element = $element\r\n    $scope.timeFrame.$scope = $scope\r\n    $scope.timeFrame.updateView()\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/timeFrame.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTimespan')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.timespan.$element = $element\r\n    $scope.timespan.$scope = $scope\r\n    $scope.timespan.updateView()\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/template/timespan.directive.ts","import {ITimeoutService} from 'angular'\r\n\r\nexport interface GanttDebounce {\r\n  (fn: any, timeout?: number, invokeApply?: boolean): Function\r\n}\r\n\r\nexport default function ($timeout: ITimeoutService): GanttDebounce {\r\n  'ngInject'\r\n\r\n  function debounce (fn: any, timeout: number, invokeApply = false): Function {\r\n    let nthCall = 0\r\n    return function () {\r\n      let self = this\r\n      let argz = arguments\r\n      nthCall++\r\n      let later = (function (version) {\r\n        return function () {\r\n          if (version === nthCall) {\r\n            return fn.apply(self, argz)\r\n          }\r\n        }\r\n      })(nthCall)\r\n      return $timeout(later, timeout, invokeApply === undefined ? true : invokeApply)\r\n    }\r\n  }\r\n\r\n  return debounce\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/debounce.factory.ts","import {IControllerService, ITemplateCacheService} from 'angular'\r\n\r\nexport class GanttDirectiveBuilder {\r\n  static $templateCache: ITemplateCacheService\r\n\r\n  directiveName: string\r\n  templateUrl: string\r\n  require: string | string[]\r\n  restrict: string\r\n\r\n  controller: IControllerService\r\n  scope: boolean\r\n  transclude: boolean\r\n  replace: boolean\r\n\r\n  constructor (directiveName: string, templateUrl?: string, require: string | string[] = '^gantt', restrict = 'E') {\r\n    this.directiveName = directiveName\r\n    this.templateUrl = templateUrl === undefined ? 'template/' + directiveName + '.tmpl.html' : templateUrl\r\n    this.require = require === undefined ? '^gantt' : require\r\n    this.restrict = restrict === undefined ? 'E' : restrict\r\n    this.scope = false\r\n    this.transclude = true\r\n    this.replace = true\r\n  }\r\n\r\n  build () {\r\n    let directiveName = this.directiveName\r\n    let templateUrl = this.templateUrl\r\n    let controllerFunction = this.controller\r\n\r\n    let directive = {\r\n      restrict: this.restrict,\r\n      require: this.require,\r\n      transclude: this.transclude,\r\n      replace: this.replace,\r\n      scope: this.scope,\r\n      templateUrl: function (tElement, tAttrs) {\r\n        if (tAttrs.templateUrl !== undefined) {\r\n          templateUrl = tAttrs.templateUrl\r\n        }\r\n        if (tAttrs.template !== undefined) {\r\n          GanttDirectiveBuilder.$templateCache.put(templateUrl, tAttrs.template)\r\n        }\r\n        return templateUrl\r\n      },\r\n      compile: function () {\r\n        return {\r\n          pre: function preLink (scope, iElement, iAttrs, controller) {\r\n            scope.gantt.api.directives.raise.preLink(directiveName, scope, iElement, iAttrs, controller)\r\n          },\r\n          post: function postLink (scope, iElement, iAttrs, controller) {\r\n            scope.gantt.api.directives.raise.postLink(directiveName, scope, iElement, iAttrs, controller)\r\n\r\n          }\r\n        }\r\n      },\r\n      controller: function ($scope, $element, $attrs) {\r\n        'ngInject'\r\n        let controller = this\r\n\r\n        if (controllerFunction !== undefined) {\r\n          controllerFunction($scope, $element, $attrs, controller)\r\n        }\r\n\r\n        $scope.gantt.api.directives.raise.controller(directiveName, $scope, $element, $attrs, controller)\r\n        $scope.$on('$destroy', function () {\r\n          $scope.gantt.api.directives.raise.destroy(directiveName, $scope, $element, $attrs, controller)\r\n        })\r\n\r\n        $scope.$applyAsync(function () {\r\n          $scope.gantt.api.directives.raise.new(directiveName, $scope, $element, $attrs, controller)\r\n        })\r\n      }\r\n    }\r\n\r\n    if (!templateUrl) {\r\n      delete directive.templateUrl\r\n      delete directive.replace\r\n      delete directive.transclude\r\n    }\r\n\r\n    return directive\r\n  }\r\n}\r\n\r\nexport default function ($templateCache: ITemplateCacheService) {\r\n  'ngInject'\r\n\r\n  GanttDirectiveBuilder.$templateCache = $templateCache\r\n  return GanttDirectiveBuilder\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/directiveBuilder.factory.ts","import {IDocumentService} from 'angular'\r\n\r\nexport default class GanttDom {\r\n  $document: IDocumentService\r\n\r\n  constructor ($document: IDocumentService) {\r\n    'ngInject'\r\n    this.$document = $document\r\n  }\r\n\r\n  elementFromPoint (x: number, y: number): HTMLElement {\r\n    return this.$document[0].elementFromPoint(x, y) as HTMLElement\r\n  }\r\n\r\n  elementsFromPoint (x: number, y: number, depth?: number): HTMLElement[] {\r\n    let elements: HTMLElement[] = []\r\n    let previousPointerEvents: {value: string, priority: string}[] = []\r\n    let cDepth = 0\r\n    let current: HTMLElement\r\n    let i: number\r\n    let l: number\r\n    let d: {value: string, priority: string}\r\n\r\n    // get all elements via elementFromPoint, and remove them from hit-testing in order\r\n    // tslint:disable:no-conditional-assignment\r\n    while ((current = this.elementFromPoint(x, y)) && elements.indexOf(current) === -1 && current !== null &&\r\n    (depth === undefined || cDepth < depth)) {\r\n\r\n      // push the element and its current style\r\n      elements.push(current)\r\n      previousPointerEvents.push({\r\n        value: current.style.getPropertyValue('visibility'),\r\n        priority: current.style.getPropertyPriority('visibility')\r\n      })\r\n\r\n      // add \"pointer-events: none\", to get to the underlying element\r\n      current.style.setProperty('visibility', 'hidden', 'important')\r\n\r\n      cDepth++\r\n    }\r\n\r\n    // restore the previous pointer-events values\r\n    for (i = 0, l = previousPointerEvents.length; i < l; i++) {\r\n      d = previousPointerEvents[i]\r\n      elements[i].style.setProperty('visibility', d.value ? d.value : '', d.priority)\r\n    }\r\n\r\n    return elements\r\n  }\r\n\r\n  findElementFromPoint (x: number, y: number, checkFunction: {(current: HTMLElement): HTMLElement}): HTMLElement {\r\n    let elements: HTMLElement[] = []\r\n    let previousPointerEvents: {value: string, priority: string}[] = []\r\n    let cDepth = 0\r\n    let current: HTMLElement\r\n    let found: HTMLElement\r\n    let i: number\r\n    let l: number\r\n    let d: {value: string, priority: string}\r\n\r\n    // get all elements via elementFromPoint, and remove them from hit-testing in order\r\n    while ((current = this.elementFromPoint(x, y) as HTMLElement) && elements.indexOf(current) === -1 && current !== null) {\r\n\r\n      // push the element and its current style\r\n      elements.push(current)\r\n      previousPointerEvents.push({\r\n        value: current.style.getPropertyValue('visibility'),\r\n        priority: current.style.getPropertyPriority('visibility')\r\n      })\r\n\r\n      // add \"visibility: hidden\", to get to the underlying element.\r\n      // Would be better with pointer-events: none, but IE<11 doesn't support this.\r\n      current.style.setProperty('visibility', 'hidden', 'important')\r\n\r\n      cDepth++\r\n\r\n      if (checkFunction(current)) {\r\n        found = current\r\n        break\r\n      }\r\n    }\r\n\r\n    // restore the previous pointer-events values\r\n    for (i = 0, l = previousPointerEvents.length; i < l; i++) {\r\n      d = previousPointerEvents[i]\r\n      elements[i].style.setProperty('visibility', d.value ? d.value : '', d.priority)\r\n    }\r\n\r\n    return found\r\n  }\r\n\r\n  isElementVisible (element: HTMLElement) {\r\n    return element.offsetParent !== undefined && element.offsetParent !== null\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/dom.service.ts","import angular from 'angular'\r\n\r\nexport default function ($injector) {\r\n  'ngInject'\r\n\r\n  let ngAnimate: any\r\n  try {\r\n    ngAnimate = $injector.get('$animate')\r\n  } catch (e) {\r\n    // Do nothing\r\n  }\r\n\r\n  if (ngAnimate !== undefined) {\r\n    return function (element, enabled) {\r\n      if (angular.version.major >= 1 && angular.version.minor >= 4) {\r\n        // AngularJS 1.4 breaking change, arguments are flipped.\r\n        ngAnimate.enabled(element, enabled)\r\n      } else {\r\n        ngAnimate.enabled(enabled, element)\r\n      }\r\n    }\r\n  } else {\r\n    // tslint:disable:no-empty\r\n    return function () {}\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/enableNgAnimate.service.ts","export default function ($compile) {\r\n  'ngInject'\r\n\r\n  return {\r\n    restrict: 'A',\r\n    require: '^gantt',\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      scope.scope = ganttCtrl.gantt.$scope.$parent\r\n      scope.$watch(function () {\r\n        return scope.$eval(attrs.ganttBindCompileHtml)\r\n      }, function (value) {\r\n        element.html(value)\r\n        $compile(element.contents())(scope)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/ganttBindCompileHtml.directive.ts","import {IDocumentService} from 'angular'\r\n\r\nimport {GanttColumn} from '../../logic/column/column.factory'\r\n\r\nexport default class GanttLayout {\r\n  private $document: IDocumentService\r\n\r\n  constructor ($document: IDocumentService) {\r\n    'ngInject'\r\n\r\n    this.$document = $document\r\n  }\r\n\r\n  /**\r\n   * Compute the width of scrollbar.\r\n   *\r\n   * @returns {number} width of the scrollbar, in px.\r\n   */\r\n  getScrollBarWidth () {\r\n    let inner = this.$document[0].createElement('p')\r\n    inner.style.width = '100%'\r\n    inner.style.height = '200px'\r\n\r\n    let outer = this.$document[0].createElement('div')\r\n    outer.style.position = 'absolute'\r\n    outer.style.top = '0px'\r\n    outer.style.left = '0px'\r\n    outer.style.visibility = 'hidden'\r\n    outer.style.width = '200px'\r\n    outer.style.height = '150px'\r\n    outer.style.overflow = 'hidden'\r\n    outer.appendChild(inner)\r\n\r\n    this.$document[0].body.appendChild(outer)\r\n\r\n    let w1 = inner.offsetWidth\r\n    outer.style.overflow = 'scroll'\r\n\r\n    let w2 = inner.offsetWidth\r\n    if (w1 === w2) {\r\n      w2 = outer.clientWidth\r\n    }\r\n\r\n    this.$document[0].body.removeChild(outer)\r\n\r\n    return (w1 - w2)\r\n  }\r\n\r\n  /**\r\n   * Compute the height of scrollbar.\r\n   *\r\n   * @returns {number} height of the scrollbar, in px.\r\n   */\r\n  getScrollBarHeight () {\r\n    let inner = this.$document[0].createElement('p')\r\n    inner.style.width = '200px;'\r\n    inner.style.height = '100%'\r\n\r\n    let outer = this.$document[0].createElement('div')\r\n    outer.style.position = 'absolute'\r\n    outer.style.top = '0px'\r\n    outer.style.left = '0px'\r\n    outer.style.visibility = 'hidden'\r\n    outer.style.width = '150px'\r\n    outer.style.height = '200px'\r\n    outer.style.overflow = 'hidden'\r\n    outer.appendChild(inner)\r\n\r\n    this.$document[0].body.appendChild(outer)\r\n\r\n    let h1 = inner.offsetHeight\r\n    outer.style.overflow = 'scroll'\r\n\r\n    let h2 = inner.offsetHeight\r\n    if (h1 === h2) {\r\n      h2 = outer.clientHeight\r\n    }\r\n\r\n    this.$document[0].body.removeChild(outer)\r\n\r\n    return (h1 - h2)\r\n  }\r\n\r\n  setColumnsWidthFactor (columns: GanttColumn[], widthFactor: number, originalLeftOffset = 0) {\r\n    if (!columns) {\r\n      return\r\n    }\r\n\r\n    for (let column of columns) {\r\n      column.left = (widthFactor * (column.originalSize.left + originalLeftOffset)) - originalLeftOffset\r\n      column.width = widthFactor * column.originalSize.width\r\n\r\n      for (let timeFrame of column.timeFrames) {\r\n        timeFrame.left = widthFactor * timeFrame.originalSize.left\r\n        timeFrame.width = widthFactor * timeFrame.originalSize.width\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/util/layout.service.ts","/**\r\n * Mouse button cross browser normalization\r\n */\r\nexport default class GanttMouseButton {\r\n  getButton (e: MouseEvent) {\r\n    e = e || window.event as MouseEvent\r\n\r\n    if (!e.which) {\r\n      if (e.button === undefined) {\r\n        return 1\r\n      }\r\n      return e.button < 2 ? 1 : e.button === 4 ? 2 : 3\r\n    } else {\r\n      return e.which\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/util/mouseButton.service.ts","export default class GanttMouseOffset {\r\n  getTouch (evt: TouchEvent) {\r\n    if (evt.touches !== undefined) {\r\n      return evt.touches[0]\r\n    }\r\n    return evt\r\n  }\r\n  getOffset (evt: MouseEvent) {\r\n    if (evt.offsetX && evt.offsetY) {\r\n      return {x: evt.offsetX, y: evt.offsetY}\r\n    }\r\n    if (evt.layerX && evt.layerY) {\r\n      return {x: evt.layerX, y: evt.layerY}\r\n    }\r\n    return this.getOffsetForElement(evt.target as Element, evt)\r\n  }\r\n  getOffsetForElement (el: Element, evt: MouseEvent) {\r\n    let bb = el.getBoundingClientRect()\r\n    return {x: evt.clientX - bb.left, y: evt.clientY - bb.top}\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/util/mouseOffset.service.ts","import {IAugmentedJQuery, IScope} from 'angular'\r\n\r\n/**\r\n * Auto released the binding when the scope is destroyed.\r\n *\r\n * Use if an event is registered on another element than the scope.\r\n */\r\nexport class GanttSmartEvent {\r\n  $element: IAugmentedJQuery\r\n  event: string\r\n  fn: any\r\n\r\n  constructor ($scope: IScope, $element: IAugmentedJQuery, event: string, fn: any) {\r\n    this.$element = $element\r\n    this.event = event\r\n    this.fn = fn\r\n\r\n    $scope.$on('$destroy', () => {\r\n      this.$element.unbind(this.event, this.fn)\r\n    })\r\n  }\r\n\r\n  bindOnce () {\r\n    this.$element.one(this.event, this.fn)\r\n  }\r\n\r\n  bind () {\r\n    this.$element.bind(this.event, this.fn)\r\n  }\r\n\r\n  unbind () {\r\n    this.$element.unbind(this.event, this.fn)\r\n  }\r\n}\r\n\r\nexport default function () {\r\n  'ngInject'\r\n\r\n  return GanttSmartEvent\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/core/ui/util/smartEvent.factory.ts","import angular from 'angular'\r\n\r\nimport moment from 'moment'\r\n\r\nexport default function ($compile, $document) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.bounds) === 'object') {\r\n        for (let option in scope.options.bounds) {\r\n          scope[option] = scope.options.bounds[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\r\n        if (directiveName === 'ganttTask') {\r\n          let boundsScope = taskScope.$new()\r\n          boundsScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'task.model.est && task.model.lct && pluginScope.enabled')\r\n          let boundsElement = $document[0].createElement('gantt-task-bounds')\r\n          if (attrs.templateUrl !== undefined) {\r\n            angular.element(boundsElement).attr('data-template-url', attrs.templateUrl)\r\n          }\r\n          if (attrs.template !== undefined) {\r\n            angular.element(boundsElement).attr('data-template', attrs.template)\r\n          }\r\n          angular.element(ifElement).append(boundsElement)\r\n          taskElement.append($compile(ifElement)(boundsScope))\r\n        }\r\n      })\r\n\r\n      api.tasks.on.clean(scope, function (model) {\r\n        if (model.est !== undefined && !moment.isMoment(model.est)) {\r\n          model.est = moment(model.est)  // Earliest Start Time\r\n        }\r\n        if (model.lct !== undefined && !moment.isMoment(model.lct)) {\r\n          model.lct = moment(model.lct)  // Latest Completion Time\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/bounds/bounds.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport boundsDirective from './bounds.directive'\r\nimport taskBoundsDirective from './taskBounds.directive'\r\n\r\nconst pluginModule = 'gantt.bounds'\r\n\r\nrequire('./bounds.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttBounds', boundsDirective)\r\n  .directive('ganttTaskBounds', taskBoundsDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/bounds/index.ts","import moment from 'moment'\r\n\r\nrequire('./taskBounds.tmpl.html')\r\n\r\nexport default function ($templateCache) {\r\n  'ngInject'\r\n  // Displays a box representing the earliest allowable start time and latest completion time for a job\r\n\r\n  return {\r\n    restrict: 'E',\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'plugins/bounds/taskBounds.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    replace: true,\r\n    scope: true,\r\n    controller: function ($scope, $element) {\r\n      'ngInject'\r\n      $element.toggleClass('ng-hide', true)\r\n\r\n      $scope.simplifyMoment = function (d) {\r\n        return moment.isMoment(d) ? d.unix() : d\r\n      }\r\n\r\n      $scope.$watchGroup(['simplifyMoment(task.model.est)', 'simplifyMoment(task.model.lct)', 'task.left', 'task.width'], function () {\r\n        let left = $scope.task.rowsManager.gantt.getPositionByDate($scope.task.model.est)\r\n        let right = $scope.task.rowsManager.gantt.getPositionByDate($scope.task.model.lct)\r\n\r\n        $element.css('left', left - $scope.task.left + 'px')\r\n        $element.css('width', right - left + 'px')\r\n\r\n        $element.toggleClass('gantt-task-bounds-in', false)\r\n        $element.toggleClass('gantt-task-bounds-out', false)\r\n        if ($scope.task.model.est === undefined || $scope.task.model.lct === undefined) {\r\n          $element.toggleClass('gantt-task-bounds-in', true)\r\n        } else if ($scope.task.model.est > $scope.task.model.from) {\r\n          $element.toggleClass('gantt-task-bounds-out', true)\r\n        } else if ($scope.task.model.lct < $scope.task.model.to) {\r\n          $element.toggleClass('gantt-task-bounds-out', true)\r\n        } else {\r\n          $element.toggleClass('gantt-task-bounds-in', true)\r\n        }\r\n      })\r\n\r\n      $scope.task.$element.bind('mouseenter', function () {\r\n        $element.toggleClass('ng-hide', false)\r\n      })\r\n\r\n      $scope.task.$element.bind('mouseleave', function () {\r\n        $element.toggleClass('ng-hide', true)\r\n      })\r\n\r\n      $scope.task.rowsManager.gantt.api.directives.raise.new('ganttBounds', $scope, $element)\r\n      $scope.$on('$destroy', function () {\r\n        $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttBounds', $scope, $element)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/bounds/taskBounds.directive.ts","import angular from 'angular'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nrequire('./corner.tmpl.html')\r\n\r\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\r\n  'ngInject'\r\n  // Provides customization for corner area\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      headersLabels: '=?',\r\n      headersLabelsTemplates: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.corner) === 'object') {\r\n        for (let option in scope.options.corner) {\r\n          scope[option] = scope.options.corner[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, sideBackgroundScope, sideBackgroundElement) {\r\n        if (directiveName === 'ganttSideBackground') {\r\n          let cornerScope = sideBackgroundScope.$new()\r\n          cornerScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n          angular.element(ifElement).addClass('gantt-corner-area')\r\n\r\n          let topElement = $document[0].createElement('gantt-corner-area')\r\n          angular.element(ifElement).append(topElement)\r\n\r\n          sideBackgroundElement[0].parentNode.insertBefore($compile(ifElement)(cornerScope)[0], sideBackgroundElement[0].nextSibling)\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/corner/corner.directive.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n\r\n  let builder = new GanttDirectiveBuilder('ganttCornerArea', 'plugins/corner/corner.tmpl.html')\r\n  builder.controller = function ($scope) {\r\n    let headers = $scope.gantt.columnsManager.headers\r\n\r\n    function updateModelWithHeaders (headers) {\r\n      let scopeHeaders = []\r\n      for (let columns of headers) {\r\n        let name = columns[0].name\r\n        let unit = columns[0].unit\r\n        let scopeHeader = {columns: columns, unit: unit, name: name}\r\n        scopeHeaders.push(scopeHeader)\r\n      }\r\n      $scope.headers = scopeHeaders\r\n\r\n    }\r\n\r\n    updateModelWithHeaders(headers)\r\n\r\n    $scope.getLabel = function (header) {\r\n      let label = header.name\r\n\r\n      if ($scope.pluginScope.headersLabels && header.name in $scope.pluginScope.headersLabels) {\r\n        label = $scope.pluginScope.headersLabels[header.name]\r\n        if (typeof(label) === 'function') {\r\n          label = label(header.name, header.unit, header.columns)\r\n        }\r\n      } else if (typeof($scope.pluginScope.headersLabels) === 'function') {\r\n        label = $scope.pluginScope.headersLabels(header.name, header.unit, header.columns)\r\n      }\r\n\r\n      return label\r\n    }\r\n\r\n    $scope.getLabelContent = function (header) {\r\n      let content\r\n      if (content === undefined && $scope.pluginScope.headersLabelsTemplates !== undefined) {\r\n        content = $scope.pluginScope.headersLabelsTemplates\r\n\r\n        if (content !== null && typeof content === 'object' && header.name in content) {\r\n          content = content[header.name]\r\n        }\r\n\r\n        if (typeof content === 'function') {\r\n          content = content(header.name, header.unit, header.columns)\r\n        }\r\n      }\r\n      if (content === undefined) {\r\n        return '{{getLabel(header)}}'\r\n      }\r\n      return content\r\n    }\r\n\r\n    $scope.gantt.api.columns.on.generate($scope, function (columns, headers) {\r\n      updateModelWithHeaders(headers)\r\n    })\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/corner/cornerArea.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport cornerDirective from './corner.directive'\r\nimport cornerAreaDirective from './cornerArea.directive'\r\n\r\nconst pluginModule = 'gantt.corner'\r\n\r\nrequire('./corner.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttCorner', cornerDirective)\r\n  .directive('ganttCornerArea', cornerAreaDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/corner/index.ts","import angular from 'angular'\r\n\r\nexport default function ($timeout, $document, ganttDebounce, GanttDependenciesManager, GanttDependenciesChecker) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      readOnly: '=?',\r\n      jsPlumbDefaults: '=?',\r\n      endpoints: '=?',\r\n      fallbackEndpoints: '=?',\r\n      conflictChecker: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.dependencies) === 'object') {\r\n        for (let option in scope.options.dependencies) {\r\n          scope[option] = scope.options.dependencies[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.readOnly === undefined) {\r\n        scope.readOnly = false\r\n      }\r\n\r\n      if (scope.jsPlumbDefaults === undefined) {\r\n        // https://jsplumbtoolkit.com/community/doc/defaults.html\r\n        scope.jsPlumbDefaults = {\r\n          Endpoint: ['Dot', {radius: 4}],\r\n          EndpointStyle: {fillStyle: '#456', strokeStyle: '#456', lineWidth: 1},\r\n          PaintStyle: {\r\n            strokeWidth: 2,\r\n            stroke: 'rgb(68, 85, 102)'\r\n          },\r\n          Connector: 'Flowchart',\r\n          ConnectionOverlays: [['Arrow', {location: 1, length: 8, width: 8}]]\r\n        }\r\n      }\r\n\r\n      function createLeftOverlay () {\r\n        return angular.element('<span><span class=\"gantt-endpoint-overlay start-endpoint arrow-right\"></span></span>')\r\n      }\r\n\r\n      function createRightOverlay () {\r\n        return angular.element('<span><span class=\"gantt-endpoint-overlay end-endpoint arrow-right\"></span></span>')\r\n      }\r\n\r\n      function createLeftFallbackOverlay () {\r\n        return angular.element('<span><span class=\"gantt-endpoint-overlay start-endpoint fallback-endpoint\"></span></span>')\r\n      }\r\n\r\n      function createRightFallbackOverlay () {\r\n        return angular.element('<span><span class=\"gantt-endpoint-overlay end-endpoint fallback-endpoint\"></span></span>')\r\n      }\r\n\r\n      if (scope.endpoints === undefined) {\r\n        scope.endpoints = [\r\n          {\r\n            anchor: 'Left',\r\n            isSource: false,\r\n            isTarget: true,\r\n            maxConnections: -1,\r\n            cssClass: 'gantt-endpoint start-endpoint target-endpoint',\r\n            overlays: [\r\n              ['Custom', {create: createLeftOverlay}]\r\n            ]\r\n\r\n          },\r\n          {\r\n            anchor: 'Right',\r\n            isSource: true,\r\n            isTarget: false,\r\n            maxConnections: -1,\r\n            cssClass: 'gantt-endpoint end-endpoint source-endpoint',\r\n            overlays: [\r\n              ['Custom', {create: createRightOverlay}]\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n\r\n      if (scope.fallbackEndpoints === undefined) {\r\n        scope.fallbackEndpoints = [\r\n          {\r\n            endpoint: 'Blank',\r\n            anchor: 'Left',\r\n            isSource: false,\r\n            isTarget: true,\r\n            maxConnections: 0,\r\n            cssClass: 'gantt-endpoint start-endpoint fallback-endpoint',\r\n            overlays: [\r\n              ['Custom', {create: createLeftFallbackOverlay}]\r\n            ]\r\n          },\r\n          {\r\n            endpoint: 'Blank',\r\n            anchor: 'Right',\r\n            isSource: true,\r\n            isTarget: false,\r\n            maxConnections: 0,\r\n            cssClass: 'gantt-endpoint end-endpoint fallback-endpoint',\r\n            overlays: [\r\n              ['Custom', {create: createRightFallbackOverlay}]\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n\r\n      if (scope.conflictChecker === undefined) {\r\n        scope.conflictChecker = false\r\n      }\r\n\r\n      let manager = new GanttDependenciesManager(ganttCtrl.gantt, scope, api)\r\n      let checker = new GanttDependenciesChecker(manager, scope, api)\r\n\r\n      scope.$watchGroup(['conflictChecker', 'enabled'], function (newValue, oldValue) {\r\n        if (newValue !== oldValue) {\r\n          let rows = ganttCtrl.gantt.rowsManager.rows\r\n          let allTasks = []\r\n          for (let row of rows) {\r\n            allTasks.push.apply(allTasks, row.tasks)\r\n          }\r\n          if (scope.conflictChecker && scope.enabled) {\r\n            checker.refresh(allTasks)\r\n          } else {\r\n            checker.clear(allTasks)\r\n          }\r\n\r\n        }\r\n      })\r\n\r\n      api.directives.on.new(scope, function (directiveName, directiveScope, directiveElement) {\r\n        if (directiveName === 'ganttBody') {\r\n          manager.plumb.setContainer(directiveElement)\r\n        }\r\n      })\r\n\r\n      api.tasks.on.add(scope, function (task) {\r\n        manager.addDependenciesFromTask(task, true)\r\n      })\r\n\r\n      api.tasks.on.remove(scope, function (task) {\r\n        manager.removeDependenciesFromTask(task)\r\n      })\r\n\r\n      api.tasks.on.displayed(scope, ganttDebounce(function (tasks) {\r\n        manager.setTasks(tasks)\r\n        manager.refresh()\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          checker.refresh(tasks)\r\n        }\r\n      }))\r\n\r\n      api.rows.on.displayed(scope, function () {\r\n        manager.refresh()\r\n      })\r\n\r\n      api.tasks.on.viewChange(scope, function (task) {\r\n        if (task.$element) {\r\n          manager.plumb.revalidate(task.$element[0])\r\n        }\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          checker.refresh([task])\r\n        }\r\n      })\r\n\r\n      api.tasks.on.viewRowChange(scope, function (task) {\r\n        manager.setTask(task)\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          checker.refresh([task])\r\n        }\r\n      })\r\n\r\n      api.dependencies.on.add(scope, function (dependency) {\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          checker.refresh([dependency.getFromTask(), dependency.getToTask()])\r\n        }\r\n      })\r\n\r\n      api.dependencies.on.change(scope, function (dependency) {\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          checker.refresh([dependency.getFromTask(), dependency.getToTask()])\r\n        }\r\n      })\r\n\r\n      api.dependencies.on.remove(scope, function (dependency) {\r\n        if (scope.conflictChecker && scope.enabled) {\r\n          let fromTask = dependency.getFromTask()\r\n          let toTask = dependency.getToTask()\r\n\r\n          if (fromTask && toTask) {\r\n            checker.refresh([fromTask, toTask])\r\n          } else {\r\n\r\n            if (fromTask) {\r\n              checker.removeConflictClass(fromTask)\r\n            } else {\r\n              checker.removeConflictClass(toTask)\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/dependencies/dependencies.directive.ts","export default function () {\r\n  'ngInject'\r\n\r\n  /**\r\n   * Creates a new DependenciesChecker object.\r\n   *\r\n   * @constructor\r\n   */\r\n  let GanttDependenciesChecker = function (manager) {\r\n    function handleTaskConflict (conflictsList, task) {\r\n      if (!(task.model.id in conflictsList) && task.$element) {\r\n        task.$element.addClass('gantt-task-conflict')\r\n        conflictsList[task.model.id] = task\r\n      }\r\n    }\r\n\r\n    function handleTaskNonConflict (conflictsList, allTasks) {\r\n      // tslint:disable:one-variable-per-declaration\r\n      for (let i = 0, l = allTasks.length; i < l; i++) {\r\n        let task = allTasks[i]\r\n        if (!(task.model.id in conflictsList) && task.$element) {\r\n          task.$element.removeClass('gantt-task-conflict')\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Refresh the conflict status of given tasks.\r\n     *\r\n     * @param tasks\r\n     */\r\n    this.refresh = function (tasks) {\r\n      let allTasks = tasks.slice(0)\r\n      let conflictsList = []\r\n\r\n      for (let task of tasks) {\r\n        let taskDependencies = manager.getTaskDependencies(task)\r\n\r\n        for (let dependency of taskDependencies) {\r\n          let fromTask = dependency.getFromTask()\r\n          let toTask = dependency.getToTask()\r\n\r\n          if (!(fromTask in allTasks)) {\r\n            allTasks.push(fromTask)\r\n          }\r\n\r\n          if (!(toTask in allTasks)) {\r\n            allTasks.push(toTask)\r\n          }\r\n\r\n          if (fromTask.model.to > toTask.model.from) {\r\n            handleTaskConflict(conflictsList, fromTask)\r\n            handleTaskConflict(conflictsList, toTask)\r\n          }\r\n        }\r\n      }\r\n\r\n      handleTaskNonConflict(conflictsList, allTasks)\r\n    }\r\n\r\n    this.removeConflictClass = function (task) {\r\n      task.$element.removeClass('gantt-task-conflict')\r\n    }\r\n\r\n    /**\r\n     * Remove the conflict status of given tasks.\r\n     *\r\n     * @param tasks\r\n     */\r\n    this.clear = function (tasks) {\r\n      let allTasks = tasks.slice(0)\r\n      handleTaskNonConflict([], allTasks)\r\n    }\r\n\r\n  }\r\n  return GanttDependenciesChecker\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/dependencies/dependenciesChecker.factory.ts","export default function () {\r\n  'ngInject'\r\n  /**\r\n   * Creates a new DependenciesEvents object.\r\n   *\r\n   * @param manager DependenciesManager object\r\n   * @constructor\r\n   */\r\n  let DependenciesEvents = function (manager) {\r\n    let self = this\r\n\r\n    this.manager = manager\r\n\r\n    // Deny the start of a drag when in readonly\r\n    let denyDragWhenReadOnly = function () {\r\n      return !self.manager.pluginScope.readOnly\r\n    }\r\n\r\n    this.manager.plumb.bind('beforeDrag', denyDragWhenReadOnly)\r\n    this.manager.plumb.bind('beforeStartDetach', denyDragWhenReadOnly)\r\n\r\n    // Deny drop on the same task.\r\n    let denyDropOnSameTask = function (params) {\r\n      return params.sourceId !== params.targetId\r\n    }\r\n\r\n    this.manager.plumb.bind('beforeDrop', denyDropOnSameTask)\r\n\r\n    // Notify the manager that a connection is being created.\r\n    this.manager.plumb.bind('connectionDrag', function (connection) {\r\n      self.manager.setDraggingConnection(connection)\r\n    })\r\n\r\n    this.manager.plumb.bind('connectionDragStop', function () {\r\n      self.manager.setDraggingConnection(undefined)\r\n    })\r\n\r\n    this.manager.plumb.bind('beforeDrop', function () {\r\n      self.manager.setDraggingConnection(undefined)\r\n      return true\r\n    })\r\n\r\n    let createConnection = function (info, mouseEvent) {\r\n      if (mouseEvent) {\r\n        let oldDependency\r\n        if (info.connection.$dependency) {\r\n          oldDependency = info.connection.$dependency\r\n        }\r\n\r\n        let sourceEndpoint = info.sourceEndpoint\r\n        let targetEndpoint = info.targetEndpoint\r\n\r\n        let sourceModel = sourceEndpoint.$task.model\r\n\r\n        let dependenciesModel = sourceModel.dependencies\r\n        if (dependenciesModel === undefined) {\r\n          dependenciesModel = []\r\n          sourceModel.dependencies = dependenciesModel\r\n        }\r\n\r\n        let connectionModel = {to: targetEndpoint.$task.model.id}\r\n        dependenciesModel.push(connectionModel)\r\n\r\n        if (oldDependency) {\r\n          oldDependency.removeFromTaskModel()\r\n          self.manager.removeDependency(oldDependency, true) // Connection will be disconnected later by jsPlumb.\r\n        }\r\n\r\n        let dependency = self.manager.addDependency(sourceEndpoint.$task, connectionModel)\r\n        info.connection.$dependency = dependency\r\n        dependency.connection = info.connection\r\n        dependency.connection.setParameter('from', sourceEndpoint.$task)\r\n        dependency.connection.setParameter('to', targetEndpoint.$task)\r\n        dependency.connection.canvas.setAttribute('data-fromId', sourceEndpoint.$task.model.id)\r\n        dependency.connection.canvas.setAttribute('data-toId', targetEndpoint.$task.model.id)\r\n\r\n        self.manager.api.dependencies.raise.add(dependency)\r\n\r\n      }\r\n    }\r\n\r\n    let updateConnection = function (info, mouseEvent) {\r\n      if (mouseEvent) {\r\n        let oldDependency\r\n        if (info.connection.$dependency) {\r\n          oldDependency = info.connection.$dependency\r\n        }\r\n\r\n        let sourceEndpoint = info.newSourceEndpoint\r\n        let targetEndpoint = info.newTargetEndpoint\r\n\r\n        let sourceModel = sourceEndpoint.$task.model\r\n\r\n        let dependenciesModel = sourceModel.dependencies\r\n        if (dependenciesModel === undefined) {\r\n          dependenciesModel = []\r\n          sourceModel.dependencies = dependenciesModel\r\n        }\r\n\r\n        let connectionModel = {to: targetEndpoint.$task.model.id}\r\n        dependenciesModel.push(connectionModel)\r\n\r\n        if (oldDependency) {\r\n          oldDependency.removeFromTaskModel()\r\n          self.manager.removeDependency(oldDependency, true) // Connection will be disconnected later by jsPlumb.\r\n        }\r\n\r\n        let dependency = self.manager.addDependency(sourceEndpoint.$task, connectionModel)\r\n        info.connection.$dependency = dependency\r\n        dependency.connection = info.connection\r\n        dependency.connection.setParameter('from', sourceEndpoint.$task)\r\n        dependency.connection.setParameter('to', targetEndpoint.$task)\r\n        dependency.connection.canvas.setAttribute('data-fromId', sourceEndpoint.$task.model.id)\r\n        dependency.connection.canvas.setAttribute('data-toId', targetEndpoint.$task.model.id)\r\n\r\n        self.manager.api.dependencies.raise.change(dependency, oldDependency)\r\n      }\r\n    }\r\n\r\n    let deleteConnection = function (info, mouseEvent) {\r\n      if (mouseEvent) {\r\n        let dependency = info.connection.$dependency\r\n\r\n        dependency.removeFromTaskModel()\r\n        self.manager.removeDependency(dependency, true) // Connection will be disconnected later by jsPlumb.\r\n        self.manager.api.dependencies.raise.remove(dependency)\r\n      }\r\n    }\r\n\r\n    this.manager.plumb.bind('connectionMoved', updateConnection)\r\n    this.manager.plumb.bind('connection', createConnection)\r\n    this.manager.plumb.bind('connectionDetached', deleteConnection)\r\n\r\n  }\r\n  return DependenciesEvents\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/dependencies/dependenciesEvents.factory.ts","import jsplumb from 'jsplumb'\r\nimport {GanttTask} from '../../core/logic/task/task.factory'\r\n\r\nexport default function (GanttDependency, GanttDependenciesEvents, GanttDependencyTaskMouseHandler) {\r\n  'ngInject'\r\n\r\n  let DependenciesManager = function (gantt, pluginScope, api) {\r\n    let self = this\r\n\r\n    this.gantt = gantt\r\n    this.pluginScope = pluginScope\r\n    this.api = api\r\n\r\n    this.api.registerEvent('dependencies', 'add')\r\n    this.api.registerEvent('dependencies', 'change')\r\n    this.api.registerEvent('dependencies', 'remove')\r\n\r\n    this.plumb = jsplumb.jsPlumb ? jsplumb.jsPlumb.getInstance() : jsplumb.getInstance() // Workaround for build issue.\r\n    this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults)\r\n\r\n    this.dependenciesFrom = {}\r\n    this.dependenciesTo = {}\r\n\r\n    this.tasksList = []\r\n    this.tasks = {}\r\n\r\n    this.events = new GanttDependenciesEvents(this)\r\n\r\n    this.pluginScope.$watch('enabled', function (newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        self.refresh()\r\n      }\r\n    })\r\n\r\n    this.pluginScope.$watch('readOnly', function (newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        self.setTasks(self.tasksList)\r\n        self.refresh()\r\n      }\r\n    })\r\n\r\n    this.pluginScope.$watch('jsPlumbDefaults', function (newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        self.plumb.importDefaults(newValue)\r\n        self.refresh()\r\n      }\r\n    }, true)\r\n\r\n    /**\r\n     * Add all dependencies defined from a task. Dependencies will be added only if plugin is enabled.\r\n     *\r\n     * @param task\r\n     * @param allowPartial if true, dependency linking to a missing task will still be added.\r\n     */\r\n    this.addDependenciesFromTask = function (task, allowPartial) {\r\n      if (this.pluginScope.enabled) {\r\n        let taskDependencies = task.model.dependencies\r\n\r\n        if (taskDependencies !== undefined && taskDependencies) {\r\n          if (!Array.isArray(taskDependencies)) {\r\n            taskDependencies = [taskDependencies]\r\n            task.model.dependencies = taskDependencies\r\n          }\r\n\r\n          // tslint:disable:one-variable-per-declaration\r\n          for (let i = 0, l = taskDependencies.length; i < l; i++) {\r\n            let dependency = self.addDependency(task, taskDependencies[i], allowPartial)\r\n            if (dependency) {\r\n              dependency.connect()\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Remove all dependencies defined for a task.\r\n     *\r\n     * @param task\r\n     * @param keepConnection if true, dependency will not be disconnected.\r\n     */\r\n    this.removeDependenciesFromTask = function (task, keepConnection) {\r\n      let dependencies = this.getTaskDependencies(task)\r\n\r\n      if (dependencies) {\r\n        for (let dependency of dependencies) {\r\n          if (!keepConnection) {\r\n            dependency.disconnect()\r\n          }\r\n          self.removeDependency(dependency)\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Add definition of a dependency.\r\n     *\r\n     * @param task Task defining the dependency.\r\n     * @param model Model object for the dependency.\r\n     * @param allowPartial if true, dependency linking to a missing task will still be added.\r\n     */\r\n    this.addDependency = function (task, model, allowPartial) {\r\n      let dependency = new GanttDependency(this, task, model)\r\n      let fromTaskId = dependency.getFromTaskId()\r\n      let fromTask = dependency.getFromTask()\r\n      let toTaskId = dependency.getToTaskId()\r\n      let toTask = dependency.getToTask()\r\n      let manager = dependency.manager\r\n\r\n      if (!(fromTaskId in this.dependenciesFrom)) {\r\n        this.dependenciesFrom[fromTaskId] = []\r\n      }\r\n      if (!(toTaskId in this.dependenciesTo)) {\r\n        this.dependenciesTo[toTaskId] = []\r\n      }\r\n\r\n      if (!allowPartial && (!toTask || !fromTask)) {\r\n        // Partial dependency is not allowed, remove it.\r\n        this.removeDependency(dependency, true)\r\n\r\n        manager.api.dependencies.raise.remove(dependency)\r\n\r\n        return null\r\n      } else {\r\n        if (fromTaskId) {\r\n          this.dependenciesFrom[fromTaskId].push(dependency)\r\n        }\r\n\r\n        if (toTaskId) {\r\n          this.dependenciesTo[toTaskId].push(dependency)\r\n        }\r\n      }\r\n\r\n      return dependency\r\n    }\r\n\r\n    /**\r\n     * Remove definition of a dependency\r\n     *\r\n     * @param dependency Dependency object\r\n     * @param keepConnection if true, dependency will not be disconnected.\r\n     */\r\n    this.removeDependency = function (dependency, keepConnection) {\r\n      let fromDependencies = this.dependenciesFrom[dependency.getFromTaskId()]\r\n      let fromRemove = []\r\n      let i\r\n\r\n      if (fromDependencies) {\r\n        for (i = 0; i < fromDependencies.length; i++) {\r\n          if (dependency === fromDependencies[i]) {\r\n            fromRemove.push(dependency)\r\n          }\r\n        }\r\n      }\r\n\r\n      let toDependencies = this.dependenciesTo[dependency.getToTaskId()]\r\n      let toRemove = []\r\n\r\n      if (toDependencies) {\r\n        for (i = 0; i < toDependencies.length; i++) {\r\n          if (dependency === toDependencies[i]) {\r\n            toRemove.push(dependency)\r\n          }\r\n        }\r\n      }\r\n\r\n      for (i = 0; i < fromRemove.length; i++) {\r\n        if (!keepConnection) {\r\n          fromRemove[i].disconnect()\r\n        }\r\n        fromDependencies.splice(fromDependencies.indexOf(dependency), 1)\r\n      }\r\n\r\n      for (i = 0; i < toRemove.length; i++) {\r\n        if (!keepConnection) {\r\n          toRemove[i].disconnect()\r\n        }\r\n        toDependencies.splice(toDependencies.indexOf(dependency), 1)\r\n      }\r\n\r\n      if (this.dependenciesFrom[dependency.getFromTaskId()] &&\r\n        this.dependenciesFrom[dependency.getFromTaskId()].length === 0) {\r\n        delete this.dependenciesFrom[dependency.getFromTaskId()]\r\n      }\r\n\r\n      if (this.dependenciesTo[dependency.getToTaskId()] &&\r\n        this.dependenciesTo[dependency.getToTaskId()].length === 0) {\r\n        delete this.dependenciesTo[dependency.getToTaskId()]\r\n      }\r\n    }\r\n\r\n    this.getTaskDependencies = function (task: GanttTask) {\r\n      let dependencies = []\r\n\r\n      let fromDependencies = self.dependenciesFrom[task.model.id]\r\n      if (fromDependencies) {\r\n        dependencies = dependencies.concat(fromDependencies)\r\n      }\r\n\r\n      let toDependencies = self.dependenciesTo[task.model.id]\r\n      if (toDependencies) {\r\n        dependencies = dependencies.concat(toDependencies)\r\n      }\r\n\r\n      return dependencies\r\n    }\r\n\r\n    this.setDraggingConnection = function (connection) {\r\n      if (connection) {\r\n        self.draggingConnection = connection\r\n        for (let taskId in self.tasks) {\r\n          let task = self.tasks[taskId]\r\n          task.dependencies.mouseHandler.release()\r\n        }\r\n      } else {\r\n        self.draggingConnection = undefined\r\n        for (let taskId in self.tasks) {\r\n          let task = self.tasks[taskId]\r\n          task.dependencies.mouseHandler.install()\r\n        }\r\n      }\r\n    }\r\n\r\n    let isTaskEnabled = function (task) {\r\n      let rowDependencies = task.row.model.dependencies\r\n      if (rowDependencies !== undefined) {\r\n        return rowDependencies !== false\r\n      }\r\n      let taskDependencies = task.model.dependencies\r\n      if (taskDependencies !== undefined) {\r\n        return taskDependencies !== false\r\n      }\r\n      return true\r\n    }\r\n\r\n    let addTaskEndpoints = function (task) {\r\n      if (!task.dependencies) {\r\n        task.dependencies = {}\r\n      }\r\n\r\n      task.dependencies.endpoints = []\r\n\r\n      if (self.pluginScope.endpoints && task.$element) {\r\n        for (let endpoint of self.pluginScope.endpoints) {\r\n          let endpointObject = self.plumb.addEndpoint(task.$element, endpoint)\r\n          endpointObject.setVisible(false, true, true) // hide endpoint\r\n          endpointObject.$task = task\r\n          task.dependencies.endpoints.push(endpointObject)\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    let removeTaskEndpoint = function (task) {\r\n      if (task.dependencies.endpoints) {\r\n        for (let endpointObject of task.dependencies.endpoints) {\r\n          self.plumb.deleteEndpoint(endpointObject)\r\n          endpointObject.$task = undefined\r\n        }\r\n\r\n        task.dependencies.endpoints = undefined\r\n      }\r\n    }\r\n\r\n    let addTaskMouseHandler = function (task) {\r\n      if (!task.dependencies) {\r\n        task.dependencies = {}\r\n      }\r\n\r\n      if (!self.pluginScope.readOnly) {\r\n        task.dependencies.mouseHandler = new GanttDependencyTaskMouseHandler(self, task)\r\n        task.dependencies.mouseHandler.install()\r\n      }\r\n    }\r\n\r\n    let removeTaskMouseHandler = function (task) {\r\n      if (task.dependencies.mouseHandler) {\r\n        task.dependencies.mouseHandler.release()\r\n        task.dependencies.mouseHandler = undefined\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Set tasks objects that can be used to display dependencies.\r\n     *\r\n     * @param tasks\r\n     */\r\n    this.setTasks = function (tasks: GanttTask[]) {\r\n      for (let taskId in self.tasks) {\r\n        let task = self.tasks[taskId]\r\n        removeTaskMouseHandler(task)\r\n        removeTaskEndpoint(task)\r\n      }\r\n\r\n      let newTasks = {}\r\n      let tasksList = []\r\n      for (let task of tasks) {\r\n        if (isTaskEnabled(task)) {\r\n          newTasks[task.model.id] = task\r\n          tasksList.push(task)\r\n          addTaskEndpoints(task)\r\n          addTaskMouseHandler(task)\r\n        }\r\n      }\r\n      self.tasks = newTasks\r\n      self.tasksList = tasks\r\n    }\r\n\r\n    let disconnectTaskDependencies = function (task) {\r\n      let dependencies = self.getTaskDependencies(task)\r\n      if (dependencies) {\r\n        for (let dependency of dependencies) {\r\n          dependency.disconnect()\r\n        }\r\n      }\r\n      return dependencies\r\n    }\r\n\r\n    let connectTaskDependencies = function (task) {\r\n      let dependencies = self.getTaskDependencies(task)\r\n      if (dependencies) {\r\n        for (let dependency of dependencies) {\r\n          dependency.connect()\r\n        }\r\n      }\r\n      return dependencies\r\n    }\r\n\r\n    /**\r\n     * Set task object in replacement of an existing with the same id.\r\n     *\r\n     * @param task\r\n     */\r\n    this.setTask = function (task) {\r\n      self.plumb.setSuspendDrawing(true)\r\n      try {\r\n        let oldTask = self.tasks[task.model.id]\r\n        if (oldTask !== undefined) {\r\n          disconnectTaskDependencies(oldTask)\r\n          removeTaskMouseHandler(oldTask)\r\n          removeTaskEndpoint(oldTask)\r\n        }\r\n        if (isTaskEnabled(task)) {\r\n          self.tasks[task.model.id] = task\r\n          addTaskEndpoints(task)\r\n          addTaskMouseHandler(task)\r\n          connectTaskDependencies(task)\r\n        }\r\n      } finally {\r\n        self.plumb.setSuspendDrawing(false, true)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Retrieve the task from it's id.\r\n     *\r\n     * @param taskId id of the task element to retrieve.\r\n     * @returns {*}\r\n     */\r\n    this.getTask = function (taskId) {\r\n      return self.tasks[taskId]\r\n    }\r\n\r\n    let getSourceEndpoints = function (task) {\r\n      return task.dependencies.endpoints.filter(function (endpoint) {\r\n        return endpoint.isSource\r\n      })\r\n    }\r\n\r\n    let getTargetEndpoints = function (task) {\r\n      return task.dependencies.endpoints.filter(function (endpoint) {\r\n        return endpoint.isTarget\r\n      })\r\n    }\r\n\r\n    /**\r\n     * Connects two tasks together using source endpoint from fromTask and target endpoint from toTask.\r\n     *\r\n     * @param fromTask\r\n     * @param toTask\r\n     * @param model\r\n     * @returns connection object\r\n     */\r\n    this.connect = function (fromTask, toTask, model) {\r\n      let sourceEndpoints = getSourceEndpoints(fromTask)\r\n      let targetEndpoints = getTargetEndpoints(toTask)\r\n      if (sourceEndpoints && targetEndpoints) {\r\n        let sourceEndpoint\r\n        let targetEndpoint\r\n\r\n        if (model.connectParameters && model.connectParameters.sourceEndpointIndex) {\r\n          sourceEndpoint = sourceEndpoints[model.connectParameters.sourceEndpointIndex]\r\n        } else {\r\n          sourceEndpoint = sourceEndpoints[0]\r\n        }\r\n\r\n        if (model.connectParameters && model.connectParameters.targetEndpointIndex) {\r\n          targetEndpoint = targetEndpoints[model.connectParameters.targetEndpointIndex]\r\n        } else {\r\n          targetEndpoint = targetEndpoints[0]\r\n        }\r\n\r\n        let connection = self.plumb.connect({\r\n          source: sourceEndpoint,\r\n          target: targetEndpoint,\r\n          parameters: {\r\n            from: fromTask,\r\n            to: toTask\r\n          }\r\n          // cssClass: 'gantt-endpoint start-endpoint target-endpoint connect-' + fromTask.model.id + '-' + toTask.model.id,\r\n        }, model.connectParameters)\r\n        connection.canvas.setAttribute('data-fromId', fromTask.model.id)\r\n        connection.canvas.setAttribute('data-toId', toTask.model.id)\r\n        return connection\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get all defined dependencies.\r\n     *\r\n     * @returns {Array}\r\n     */\r\n    this.getDependencies = function () {\r\n      let allDependencies = []\r\n\r\n      for (let fromId in this.dependenciesFrom) {\r\n        let dependencies = this.dependenciesFrom[fromId]\r\n        for (let dependency of dependencies) {\r\n          if (!(dependency in allDependencies)) {\r\n            allDependencies.push(dependency)\r\n          }\r\n        }\r\n      }\r\n\r\n      return allDependencies\r\n    }\r\n\r\n    /**\r\n     * Refresh jsplumb status based on tasks dependencies models.\r\n     */\r\n    this.refresh = function (tasks) {\r\n      self.plumb.setSuspendDrawing(true)\r\n\r\n      try {\r\n        let tasksDependencies\r\n        let i\r\n        if (tasks && !Array.isArray(tasks)) {\r\n          tasks = [tasks]\r\n        }\r\n\r\n        if (tasks === undefined) {\r\n          tasks = this.tasks\r\n          tasksDependencies = this.getDependencies()\r\n        } else {\r\n          tasksDependencies = []\r\n          for (let task of tasks) {\r\n            let taskDependencies = self.getTaskDependencies(task)\r\n            for (let taskDependency of taskDependencies) {\r\n              if (!(taskDependency in tasksDependencies)) {\r\n                tasksDependencies.push(taskDependency)\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for (i = 0; i < tasksDependencies.length; i++) {\r\n          self.removeDependency(tasksDependencies[i])\r\n        }\r\n\r\n        for (let taskId in tasks) {\r\n          let task = tasks[taskId]\r\n          self.addDependenciesFromTask(task)\r\n        }\r\n      } finally {\r\n        self.plumb.setSuspendDrawing(false, true)\r\n      }\r\n    }\r\n\r\n    this.api.registerMethod('dependencies', 'refresh', this.refresh, this)\r\n  }\r\n  return DependenciesManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/dependencies/dependenciesManager.factory.ts","import GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, ganttDom) {\r\n  'ngInject'\r\n\r\n  /**\r\n   * Constructor of Dependency object.\r\n   *\r\n   * @param manager Dependency manager used by this dependency\r\n   * @param task Task declaring the dependency\r\n   * @param model model of the dependency\r\n   *\r\n   * @constructor\r\n   *\r\n   * @see https://jsplumbtoolkit.com/community/apidocs/classes/jsPlumb.html#method_connect\r\n   */\r\n  let Dependency = function (manager, task, model) {\r\n    let self = this\r\n\r\n    this.manager = manager\r\n    this.task = task\r\n    this.model = model\r\n    this.connection = undefined\r\n    this.fallbackEndpoints = []\r\n\r\n    /**\r\n     * Check if this dependency is connected.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    this.isConnected = function () {\r\n      if (this.connection) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n\r\n    /**\r\n     * Disconnect this dependency.\r\n     */\r\n    this.disconnect = function () {\r\n      if (this.connection) {\r\n        if (this.connection.endpoints) {\r\n          if (this.manager.plumb.detach) {\r\n            // JSPlumb < 2.4.0\r\n            this.manager.plumb.detach(this.connection)\r\n          } else {\r\n            // JSPlumb >= 2.4.0\r\n            this.manager.plumb.deleteConnection(this.connection)\r\n          }\r\n        }\r\n        this.connection.$dependency = undefined\r\n        this.connection = undefined\r\n      }\r\n\r\n      this.deleteFallbackEndpoints()\r\n    }\r\n\r\n    this.deleteFallbackEndpoints = function () {\r\n      if (this.fallbackEndpoints) {\r\n        for (let fallbackEndpoints of this.fallbackEndpoints) {\r\n          self.manager.plumb.deleteEndpoint(fallbackEndpoints)\r\n        }\r\n        this.fallbackEndpoints = []\r\n      }\r\n    }\r\n\r\n    this.getFromTaskId = function () {\r\n      if (this.model.from !== undefined) {\r\n        return this.model.from\r\n      }\r\n      return this.task.model.id\r\n    }\r\n\r\n    this.getToTaskId = function () {\r\n      if (this.model.to !== undefined) {\r\n        return this.model.to\r\n      }\r\n      return this.task.model.id\r\n    }\r\n\r\n    this.getFromTask = function () {\r\n      if (this.model.from !== undefined) {\r\n        return this.manager.getTask(this.model.from)\r\n      }\r\n      return this.task\r\n    }\r\n\r\n    this.getToTask = function () {\r\n      if (this.model.to !== undefined) {\r\n        return this.manager.getTask(this.model.to)\r\n      }\r\n      return this.task\r\n    }\r\n\r\n    this.removeFromTaskModel = function () {\r\n      let modelIndex = ganttUtils.angularIndexOf(this.task.model.dependencies, this.model)\r\n      if (modelIndex >= 0) {\r\n        this.task.model.dependencies.splice(modelIndex, 1)\r\n      }\r\n      return modelIndex\r\n    }\r\n\r\n    let isTaskVisible = function (task) {\r\n      if (task === undefined || task.$element === undefined) {\r\n        return false\r\n      }\r\n      let element = task.$element[0]\r\n      return ganttDom.isElementVisible(element)\r\n    }\r\n\r\n    /**\r\n     * Connect this dependency if both elements are available.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    this.connect = function () {\r\n      let fromTask = this.getFromTask()\r\n      let toTask = this.getToTask()\r\n\r\n      if (!isTaskVisible(fromTask)) {\r\n        fromTask = undefined\r\n      }\r\n\r\n      if (!isTaskVisible(toTask)) {\r\n        toTask = undefined\r\n      }\r\n\r\n      if (fromTask && toTask) {\r\n        let connection = this.manager.connect(fromTask, toTask, this.model)\r\n        if (connection) {\r\n          connection.$dependency = this\r\n          this.connection = connection\r\n          return true\r\n        }\r\n      }\r\n\r\n      this.deleteFallbackEndpoints()\r\n      if (fromTask !== undefined) {\r\n        let toFallbackEndpoint = this.manager.pluginScope.fallbackEndpoints[1]\r\n        this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(fromTask.$element, toFallbackEndpoint))\r\n      }\r\n      if (toTask !== undefined) {\r\n        let fromFallbackEndpoint = this.manager.pluginScope.fallbackEndpoints[0]\r\n        this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(toTask.$element, fromFallbackEndpoint))\r\n      }\r\n      return false\r\n    }\r\n  }\r\n  return Dependency\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/dependencies/dependency.factory.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport dependenciesDirective from './dependencies.directive'\r\nimport GanttDependenciesEventsFactory from './dependenciesEvents.factory'\r\nimport GanttDependenciesManagerFactory from './dependenciesManager.factory'\r\nimport GanttDependencyTaskMouseHandler from './taskMouseHandler.factory'\r\nimport GanttDependenciesCheckerFactory from './dependenciesChecker.factory'\r\nimport GanttDependencyFactory from './dependency.factory'\r\n\r\nconst pluginModule = 'gantt.dependencies'\r\n\r\nrequire('./dependencies.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttDependencies', dependenciesDirective)\r\n  .factory('GanttDependenciesEvents', GanttDependenciesEventsFactory)\r\n  .factory('GanttDependencyTaskMouseHandler', GanttDependencyTaskMouseHandler)\r\n  .factory('GanttDependenciesManager', GanttDependenciesManagerFactory)\r\n  .factory('GanttDependenciesChecker', GanttDependenciesCheckerFactory)\r\n  .factory('GanttDependency', GanttDependencyFactory)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/dependencies/index.ts","import angular from 'angular'\r\n\r\nexport default function ($timeout) {\r\n  'ngInject'\r\n  let TaskMouseHandler = function (manager, task) {\r\n    let self = this\r\n\r\n    this.manager = manager\r\n    this.task = task\r\n    this.installed = false\r\n    this.elementHandlers = []\r\n\r\n    this.display = true\r\n    this.hideEndpointsPromise = undefined\r\n\r\n    /**\r\n     * Handler for a single DOM element.\r\n     *\r\n     * @param element\r\n     * @constructor\r\n     */\r\n    let ElementHandler = function (element) {\r\n      this.element = element\r\n\r\n      this.mouseExitHandler = function () {\r\n        $timeout.cancel(self.hideEndpointsPromise)\r\n        self.hideEndpointsPromise = $timeout(self.hideEndpoints, 1000, false)\r\n      }\r\n\r\n      this.mouseEnterHandler = function () {\r\n        $timeout.cancel(self.hideEndpointsPromise)\r\n        self.displayEndpoints()\r\n      }\r\n\r\n      this.install = function () {\r\n        this.element.bind('mouseenter', this.mouseEnterHandler)\r\n        this.element.bind('mouseleave', this.mouseExitHandler)\r\n      }\r\n\r\n      this.release = function () {\r\n        this.element.unbind('mouseenter', this.mouseEnterHandler)\r\n        this.element.unbind('mouseleave', this.mouseExitHandler)\r\n        $timeout.cancel(self.hideEndpointsPromise)\r\n      }\r\n\r\n    }\r\n\r\n    /**\r\n     * Install mouse handler for this task, and hide all endpoints.\r\n     */\r\n    this.install = function () {\r\n      if (!self.installed) {\r\n        self.hideEndpoints()\r\n\r\n        if (self.task.getContentElement()) {\r\n          self.elementHandlers.push(new ElementHandler(self.task.getContentElement()))\r\n          for (let endpoint of self.task.dependencies.endpoints) {\r\n            self.elementHandlers.push(new ElementHandler(angular.element(endpoint.canvas)))\r\n          }\r\n\r\n          for (let elementHandler of self.elementHandlers) {\r\n            elementHandler.install()\r\n          }\r\n\r\n          self.installed = true\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Release mouse handler for this task, and display all endpoints.\r\n     */\r\n    this.release = function () {\r\n      if (self.installed) {\r\n        for (let elementHandler of self.elementHandlers) {\r\n          elementHandler.release()\r\n        }\r\n\r\n        self.elementHandlers = []\r\n\r\n        self.displayEndpoints()\r\n        self.installed = false\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Display all endpoints for this task.\r\n     */\r\n    this.displayEndpoints = function () {\r\n      self.display = true\r\n      for (let endpoint of self.task.dependencies.endpoints) {\r\n        endpoint.setVisible(true, true, true)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hide all endpoints for this task.\r\n     */\r\n    this.hideEndpoints = function () {\r\n      for (let endpoint of self.task.dependencies.endpoints) {\r\n        endpoint.setVisible(false, true, true)\r\n      }\r\n      self.display = false\r\n    }\r\n  }\r\n  return TaskMouseHandler\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/dependencies/taskMouseHandler.factory.ts","import moment from 'moment'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nexport default function ($document, ganttMouseOffset, ganttUtils: GanttUtilsService) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      moveThreshold: '=?',\r\n      taskFactory: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.drawtask) === 'object') {\r\n        for (let option in scope.options.drawtask) {\r\n          scope[option] = scope.options.drawtask[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.moveThreshold === undefined) {\r\n        scope.moveThreshold = 0\r\n      }\r\n\r\n      if (scope.taskFactory === undefined) {\r\n        scope.taskFactory = function () {\r\n          return {} // New empty task.\r\n        }\r\n      }\r\n\r\n      api.registerEvent('tasks', 'draw')\r\n      api.registerEvent('tasks', 'drawBegin')\r\n      api.registerEvent('tasks', 'drawEnd')\r\n\r\n      let newTaskModel = function (row) {\r\n        if (row.model.drawTask && typeof(row.model.drawTask.taskFactory) === 'function') {\r\n          return row.model.drawTask.taskFactory()\r\n        } else {\r\n          return scope.taskFactory()\r\n        }\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, directiveScope, element) {\r\n        if (directiveName === 'ganttRow') {\r\n          let addNewTask = function (x) {\r\n            let startDate = api.core.getDateByPosition(x, true)\r\n            let endDate = moment(startDate)\r\n\r\n            let taskModel = newTaskModel(directiveScope.row)\r\n            taskModel.from = startDate\r\n            taskModel.to = endDate\r\n\r\n            let task = directiveScope.row.addTask(taskModel)\r\n            task.isResizing = true\r\n            task.updatePosAndSize()\r\n            directiveScope.row.updateVisibleTasks()\r\n\r\n            directiveScope.row.$scope.$digest()\r\n\r\n            return task\r\n          }\r\n\r\n          let addEventListeners = function (task) {\r\n            let raiseDrawEvent = function () {\r\n              directiveScope.row.rowsManager.gantt.api.tasks.raise.draw(task)\r\n            }\r\n\r\n            directiveScope.row.rowsManager.gantt.api.tasks.raise.drawBegin(task)\r\n\r\n            $document.on('mousemove', raiseDrawEvent)\r\n\r\n            $document.one('mouseup', function () {\r\n              directiveScope.row.rowsManager.gantt.api.tasks.raise.drawEnd(task)\r\n              $document.off('mousemove', raiseDrawEvent)\r\n            })\r\n          }\r\n\r\n          let deferDrawing = function (startX) {\r\n            let moveTrigger = function (evt) {\r\n              let currentX = ganttMouseOffset.getOffset(evt).x\r\n\r\n              if (Math.abs(startX - currentX) >= scope.moveThreshold) {\r\n                element.off('mousemove', moveTrigger)\r\n                let task = addNewTask(startX)\r\n                addEventListeners(task)\r\n              }\r\n            }\r\n\r\n            element.on('mousemove', moveTrigger)\r\n            $document.one('mouseup', function () {\r\n              element.off('mousemove', moveTrigger)\r\n            })\r\n          }\r\n\r\n          let drawHandler = function (evt) {\r\n            let evtTarget = (evt.target ? evt.target : evt.srcElement)\r\n\r\n            let rowDrawTask = directiveScope.row.model.drawTask\r\n\r\n            if (typeof(rowDrawTask) === 'boolean' || typeof(rowDrawTask) === 'function') {\r\n              rowDrawTask = {enabled: rowDrawTask}\r\n            }\r\n\r\n            let enabledValue = ganttUtils.firstProperty([rowDrawTask], 'enabled', scope.enabled)\r\n            let enabled = typeof(enabledValue) === 'function' ? enabledValue(evt, directiveScope.row) : enabledValue\r\n            if (enabled && evtTarget.className.indexOf('gantt-row') > -1) {\r\n              let x = ganttMouseOffset.getOffset(evt).x\r\n\r\n              if (scope.moveThreshold === 0) {\r\n                let task = addNewTask(x)\r\n                addEventListeners(task)\r\n              } else {\r\n                deferDrawing(x)\r\n              }\r\n            }\r\n          }\r\n\r\n          element.on('mousedown', drawHandler)\r\n          directiveScope.drawTaskHandler = drawHandler\r\n        }\r\n      })\r\n\r\n      api.directives.on.destroy(scope, function (directiveName, directiveScope, element) {\r\n        if (directiveName === 'ganttRow') {\r\n          element.off('mousedown', directiveScope.drawTaskHandler)\r\n          delete directiveScope.drawTaskHandler\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/drawtask/drawTask.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport drawTaskDirective from './drawTask.directive'\r\n\r\nconst pluginModule = 'gantt.drawtask'\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttDrawTask', drawTaskDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/drawtask/index.ts","import GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nexport default function ($scope, GanttTaskGroup, ganttUtils: GanttUtilsService) {\r\n  'ngInject'\r\n  let updateTaskGroup = function () {\r\n    let rowGroups = $scope.row.model.groups\r\n\r\n    if (typeof(rowGroups) === 'boolean') {\r\n      rowGroups = {enabled: rowGroups}\r\n    }\r\n\r\n    let enabledValue = ganttUtils.firstProperty([rowGroups], 'enabled', $scope.pluginScope.enabled)\r\n    if (enabledValue) {\r\n      $scope.display = ganttUtils.firstProperty([rowGroups], 'display', $scope.pluginScope.display)\r\n      $scope.taskGroup = new GanttTaskGroup($scope.row, $scope.pluginScope)\r\n\r\n      $scope.row.setFromTo()\r\n      $scope.row.setFromToByValues($scope.taskGroup.from, $scope.taskGroup.to)\r\n    } else {\r\n      $scope.taskGroup = undefined\r\n      $scope.display = undefined\r\n    }\r\n  }\r\n\r\n  $scope.gantt.api.tasks.on.viewChange($scope, function (task) {\r\n    if ($scope.taskGroup !== undefined) {\r\n      if ($scope.taskGroup.tasks.indexOf(task) > -1) {\r\n        updateTaskGroup()\r\n        if (!$scope.$$phase && !$scope.$root.$$phase) {\r\n          $scope.$digest()\r\n        }\r\n      } else {\r\n        let descendants = $scope.pluginScope.hierarchy.descendants($scope.row)\r\n        if (descendants.indexOf(task.row) > -1) {\r\n          updateTaskGroup()\r\n          if (!$scope.$$phase && !$scope.$root.$$phase) {\r\n            $scope.$digest()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  let removeWatch = $scope.pluginScope.$watch('display', updateTaskGroup)\r\n\r\n  $scope.$watchCollection('gantt.rowsManager.filteredRows', updateTaskGroup)\r\n\r\n  $scope.gantt.api.columns.on.refresh($scope, updateTaskGroup)\r\n\r\n  $scope.$on('$destroy', removeWatch)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/groups/group.controller.ts","import angular from 'angular'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\nimport {GanttHierarchy} from '../../core/logic/util/hierarchy.factory'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, GanttHierarchy: { new(): GanttHierarchy; }, $compile, $document) {\r\n  'ngInject'\r\n  // Provides the row sort functionality to any Gantt row\r\n  // Uses the sortableState to share the current row\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      display: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.groups) === 'object') {\r\n        for (let option in scope.options.groups) {\r\n          scope[option] = scope.options.groups[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.display === undefined) {\r\n        scope.display = 'group'\r\n      }\r\n\r\n      scope.hierarchy = new GanttHierarchy()\r\n\r\n      function refresh () {\r\n        scope.hierarchy.refresh(ganttCtrl.gantt.rowsManager.filteredRows)\r\n      }\r\n\r\n      ganttCtrl.gantt.api.registerMethod('groups', 'refresh', refresh, this)\r\n      ganttCtrl.gantt.$scope.$watchCollection('gantt.rowsManager.filteredRows', function () {\r\n        refresh()\r\n      })\r\n\r\n      api.directives.on.new(scope, function (directiveName, rowScope, rowElement) {\r\n        if (directiveName === 'ganttRow') {\r\n          let taskGroupScope = rowScope.$new()\r\n          taskGroupScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n\r\n          let taskGroupElement = $document[0].createElement('gantt-task-group')\r\n          if (attrs.templateUrl !== undefined) {\r\n            angular.element(taskGroupElement).attr('data-template-url', attrs.templateUrl)\r\n          }\r\n          if (attrs.template !== undefined) {\r\n            angular.element(taskGroupElement).attr('data-template', attrs.template)\r\n          }\r\n\r\n          angular.element(ifElement).append(taskGroupElement)\r\n\r\n          rowElement.append($compile(ifElement)(taskGroupScope))\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/groups/groups.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport groupsDirective from './groups.directive'\r\nimport taskGroupDirective from './taskGroup.directive'\r\nimport GanttTaskGroupFactory from './taskGroup.factory'\r\nimport ganttTaskOverviewDirective from './taskOverview.directive'\r\nimport GanttGroupController from './group.controller'\r\n\r\nconst pluginModule = 'gantt.groups'\r\n\r\nrequire('./groups.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttGroups', groupsDirective)\r\n  .directive('ganttTaskGroup', taskGroupDirective)\r\n  .directive('ganttTaskOverview', ganttTaskOverviewDirective)\r\n  .factory('GanttTaskGroup', GanttTaskGroupFactory)\r\n  .controller('GanttGroupController', GanttGroupController)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/groups/index.ts","require('./taskGroup.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n\r\n  let builder = new GanttDirectiveBuilder('ganttTaskGroup', 'plugins/groups/taskGroup.tmpl.html')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/groups/taskGroup.directive.ts","import GanttUtilsService from '../../core/logic/util/utils.service'\r\nimport {GanttTask, GanttTaskModel} from '../../core/logic/task/task.factory'\r\nimport {GanttRow} from '../../core/logic/row/row.factory'\r\n\r\nexport default function (ganttUtils: GanttUtilsService,\r\n                         GanttTask: {new(row: GanttRow, model: GanttTaskModel): GanttTask}) {\r\n  'ngInject'\r\n\r\n  let TaskGroup = function (row, pluginScope) {\r\n    let self = this\r\n\r\n    self.row = row\r\n    self.pluginScope = pluginScope\r\n\r\n    self.descendants = self.pluginScope.hierarchy.descendants(self.row)\r\n\r\n    self.tasks = []\r\n    self.overviewTasks = []\r\n    self.promotedTasks = []\r\n    self.showGrouping = false\r\n\r\n    let groupRowGroups = self.row.model.groups\r\n    if (typeof(groupRowGroups) === 'boolean') {\r\n      groupRowGroups = {enabled: groupRowGroups}\r\n    }\r\n\r\n    let getTaskDisplay = function (task) {\r\n      let taskGroups = task.model.groups\r\n      if (typeof(taskGroups) === 'boolean') {\r\n        taskGroups = {enabled: taskGroups}\r\n      }\r\n\r\n      let rowGroups = task.row.model.groups\r\n      if (typeof(rowGroups) === 'boolean') {\r\n        rowGroups = {enabled: rowGroups}\r\n      }\r\n\r\n      let enabledValue = ganttUtils.firstProperty([taskGroups, rowGroups, groupRowGroups], 'enabled', self.pluginScope.enabled)\r\n\r\n      if (enabledValue) {\r\n        let display = ganttUtils.firstProperty([taskGroups, rowGroups, groupRowGroups], 'display', self.pluginScope.display)\r\n        return display\r\n      }\r\n    }\r\n\r\n    for (let descendant of self.descendants) {\r\n      let tasks = descendant.tasks\r\n\r\n      for (let task of tasks) {\r\n        let taskDisplay = getTaskDisplay(task)\r\n        if (taskDisplay !== undefined) {\r\n          self.tasks.push(task)\r\n          let clone = new GanttTask(self.row, task.model)\r\n\r\n          if (taskDisplay === 'overview') {\r\n            self.overviewTasks.push(clone)\r\n          } else if (taskDisplay === 'promote') {\r\n            self.promotedTasks.push(clone)\r\n          } else {\r\n            self.showGrouping = true\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    self.from = undefined\r\n    if (groupRowGroups) {\r\n      self.from = groupRowGroups.from\r\n    }\r\n    if (self.from === undefined) {\r\n      for (let task of self.tasks) {\r\n        if (self.from === undefined || task.model.from < self.from) {\r\n          self.from = task.model.from\r\n        }\r\n      }\r\n    }\r\n\r\n    self.to = undefined\r\n    if (groupRowGroups) {\r\n      self.to = groupRowGroups.to\r\n    }\r\n    if (self.to === undefined) {\r\n      for (let task of self.tasks) {\r\n        if (self.to === undefined || task.model.to > self.to) {\r\n          self.to = task.model.to\r\n        }\r\n      }\r\n    }\r\n\r\n    if (self.showGrouping) {\r\n      self.left = row.rowsManager.gantt.getPositionByDate(self.from)\r\n      self.width = row.rowsManager.gantt.getPositionByDate(self.to) - self.left\r\n    }\r\n  }\r\n  return TaskGroup\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/groups/taskGroup.factory.ts","require('./taskOverview.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTaskOverview', 'plugins/groups/taskOverview.tmpl.html')\r\n  builder.controller = function ($scope, $element) {\r\n    $scope.task.$element = $element\r\n    $scope.task.$scope = $scope\r\n    $scope.task.updatePosAndSize()\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/groups/taskOverview.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport labelsDirective from './labels.directive'\r\nimport sideContentLabelsDirective from './sideContentLabels.directive'\r\nimport labelHeaderDirective from './labelsHeader.directive'\r\nimport labelsBodyDirective from './labelsBody.directive'\r\n\r\nconst pluginModule = 'gantt.labels'\r\n\r\nrequire('./labels.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttLabels', labelsDirective)\r\n  .directive('ganttSideContentLabels', sideContentLabelsDirective)\r\n  .directive('ganttLabelsHeader', labelHeaderDirective)\r\n  .directive('ganttLabelsBody', labelsBodyDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/labels/index.ts","import angular from 'angular'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, $compile, $document, $log) {\r\n  'ngInject'\r\n  // Provides the row sort functionality to any Gantt row\r\n  // Uses the sortableState to share the current row\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      header: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      $log.warn('Angular Gantt Labels plugin is deprecated. Please use Table plugin instead.')\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.labels) === 'object') {\r\n        for (let option in scope.options.labels) {\r\n          scope[option] = scope.options.labels[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.header === undefined) {\r\n        scope.header = 'Name'\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\r\n        if (directiveName === 'ganttSideContent') {\r\n          let labelsScope = sideContentScope.$new()\r\n          labelsScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n          angular.element(ifElement).addClass('side-element')\r\n\r\n          let labelsElement = $document[0].createElement('gantt-side-content-labels')\r\n          angular.element(ifElement).append(labelsElement)\r\n\r\n          sideContentElement.append($compile(ifElement)(labelsScope))\r\n        }\r\n      })\r\n\r\n      function fitSideWidthToLabels () {\r\n        let labels = ganttCtrl.gantt.side.$element[0].getElementsByClassName('gantt-row-label')\r\n        let newSideWidth = 0\r\n\r\n        for (let label of labels) {\r\n          let width = label.children[0].offsetWidth\r\n          newSideWidth = Math.max(newSideWidth, width)\r\n        }\r\n\r\n        if (newSideWidth >= 0) {\r\n          api.side.setWidth(newSideWidth)\r\n        }\r\n      }\r\n\r\n      api.registerMethod('labels', 'fitSideWidth', fitSideWidthToLabels, this)\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/labels/labels.directive.ts","require('./labelsBody.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder, ganttLayout) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttLabelsBody', 'plugins/labels/labelsBody.tmpl.html')\r\n  builder.controller = function ($scope) {\r\n    let hScrollBarHeight = ganttLayout.getScrollBarHeight()\r\n\r\n    $scope.getLabelsCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeight = $scope.maxHeight\r\n      if (!maxHeight) {\r\n        maxHeight = $scope.gantt.getContainerHeight()\r\n      }\r\n\r\n      let bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0\r\n      css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px'\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/labels/labelsBody.directive.ts","require('./labelsHeader.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttLabelsHeader', 'plugins/labels/labelsHeader.tmpl.html')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/labels/labelsHeader.directive.ts","require('./sideContentLabels.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSideContentLabels', 'plugins/labels/sideContentLabels.tmpl.html')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/labels/sideContentLabels.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport movableDirective from './movable.directive'\r\nimport movableOptionsFactory from './movableOptions.factory'\r\n\r\nconst pluginModule = 'gantt.movable'\r\n\r\nrequire('./movable.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttMovable', movableDirective)\r\n  .factory('ganttMovableOptions', movableOptionsFactory)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/movable/index.ts","import angular, {IAugmentedJQuery, IScope} from 'angular'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\nimport GanttMouseButton from '../../core/ui/util/mouseButton.service'\r\nimport GanttMouseOffset from '../../core/ui/util/mouseOffset.service'\r\nimport {GanttSmartEvent} from '../../core/ui/util/smartEvent.factory'\r\n\r\nexport default function (ganttMouseButton: GanttMouseButton,\r\n                         ganttMouseOffset: GanttMouseOffset,\r\n                         GanttSmartEvent: {new($scope: IScope, $element: IAugmentedJQuery, event: string, fn: any): GanttSmartEvent},\r\n                         ganttMovableOptions, ganttUtils: GanttUtilsService, ganttDom, $window, $document, $timeout) {\r\n  'ngInject'\r\n  // Provides moving and resizing of tasks\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      allowMoving: '=?',\r\n      allowResizing: '=?',\r\n      allowRowSwitching: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.movable) === 'object') {\r\n        for (let option in scope.options.movable) {\r\n          scope[option] = scope.options.movable[option]\r\n        }\r\n      }\r\n\r\n      ganttMovableOptions.initialize(scope)\r\n\r\n      api.registerEvent('tasks', 'move')\r\n      api.registerEvent('tasks', 'moveBegin')\r\n      api.registerEvent('tasks', 'moveEnd')\r\n      api.registerEvent('tasks', 'resize')\r\n      api.registerEvent('tasks', 'resizeBegin')\r\n      api.registerEvent('tasks', 'resizeEnd')\r\n      api.registerEvent('tasks', 'change')\r\n\r\n      let _hasTouch = ('ontouchstart' in $window) || $window.DocumentTouch && $document[0] instanceof $window.DocumentTouch\r\n      let _pressEvents = 'touchstart mousedown'\r\n      let _moveEvents = 'touchmove mousemove'\r\n      let _releaseEvents = 'touchend mouseup'\r\n\r\n      let taskWithSmallWidth = 15\r\n      let resizeAreaWidthBig = 5\r\n      let resizeAreaWidthSmall = 3\r\n      let scrollSpeed = 15\r\n      let scrollTriggerDistance = 5\r\n      let mouseStartOffsetX\r\n      let moveStartX\r\n\r\n      // tslint:disable:no-use-before-declare\r\n      api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\r\n        if (directiveName === 'ganttTask') {\r\n          let windowElement = angular.element($window)\r\n          let ganttBodyElement = taskScope.row.rowsManager.gantt.body.$element\r\n          let ganttScrollElement = taskScope.row.rowsManager.gantt.scroll.$element\r\n\r\n          let taskHasBeenChanged = false\r\n          let taskHasBeenMovedFromAnotherRow = false\r\n          let scrollInterval\r\n\r\n          let foregroundElement = taskScope.task.getForegroundElement()\r\n\r\n          // IE<11 doesn't support `pointer-events: none`\r\n          // So task content element must be added to support moving properly.\r\n          let contentElement = taskScope.task.getContentElement()\r\n\r\n          let onPressEvents = function (evt) {\r\n            evt.preventDefault()\r\n            if (_hasTouch) {\r\n              evt = ganttMouseOffset.getTouch(evt)\r\n            }\r\n            let taskMovable = taskScope.task.model.movable\r\n            let rowMovable = taskScope.task.row.model.movable\r\n\r\n            if (typeof(taskMovable) === 'boolean' || typeof(taskMovable) === 'function') {\r\n              taskMovable = {enabled: taskMovable}\r\n            }\r\n\r\n            if (typeof(rowMovable) === 'boolean' || typeof(rowMovable) === 'function') {\r\n              rowMovable = {enabled: rowMovable}\r\n            }\r\n\r\n            let enabledValue = ganttUtils.firstProperty([taskMovable, rowMovable], 'enabled', scope.enabled)\r\n            let enabled = typeof(enabledValue) === 'function' ? enabledValue(evt, taskScope.task) : enabledValue\r\n            if (enabled) {\r\n              let taskOffsetX = ganttMouseOffset.getOffsetForElement(foregroundElement[0], evt).x\r\n              let mode = getMoveMode(taskOffsetX)\r\n              if (mode !== '' && ganttMouseButton.getButton(evt) === 1) {\r\n                let bodyOffsetX = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt).x\r\n                enableMoveMode(mode, bodyOffsetX)\r\n              }\r\n              taskScope.$digest()\r\n            }\r\n          }\r\n          foregroundElement.on(_pressEvents, onPressEvents)\r\n          contentElement.on(_pressEvents, onPressEvents)\r\n\r\n          let onMousemove = function (evt) {\r\n            let taskMovable = taskScope.task.model.movable\r\n            let rowMovable = taskScope.task.row.model.movable\r\n\r\n            if (typeof(taskMovable) === 'boolean' || typeof(taskMovable) === 'function') {\r\n              taskMovable = {enabled: taskMovable}\r\n            }\r\n\r\n            if (typeof(rowMovable) === 'boolean' || typeof(rowMovable) === 'function') {\r\n              rowMovable = {enabled: rowMovable}\r\n            }\r\n\r\n            let enabledValue = ganttUtils.firstProperty([taskMovable, rowMovable], 'enabled', scope.enabled)\r\n            let enabled = typeof(enabledValue) === 'function' ? enabledValue(evt, taskScope.task) : enabledValue\r\n            if (enabled && !taskScope.task.isMoving) {\r\n              let taskOffsetX = ganttMouseOffset.getOffsetForElement(foregroundElement[0], evt).x\r\n              let mode = getMoveMode(taskOffsetX)\r\n              if (mode !== '' && mode !== 'M') {\r\n                foregroundElement.css('cursor', getCursor(mode))\r\n                contentElement.css('cursor', getCursor(mode))\r\n              } else {\r\n                foregroundElement.css('cursor', '')\r\n                contentElement.css('cursor', '')\r\n              }\r\n            }\r\n          }\r\n          foregroundElement.on('mousemove', onMousemove)\r\n          contentElement.on('mousemove', onMousemove)\r\n\r\n          let handleMove = function (evt) {\r\n            if (taskScope.task.isMoving && !taskScope.destroyed) {\r\n              clearScrollInterval()\r\n              moveTask(evt)\r\n              scrollScreen(evt)\r\n            }\r\n          }\r\n\r\n          let moveTask = function (evt) {\r\n            let oldTaskHasBeenChanged = taskHasBeenChanged\r\n\r\n            let mousePos = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt)\r\n            let x = mousePos.x\r\n            taskScope.task.mouseOffsetX = x\r\n            let taskOutOfRange = taskScope.task.row.rowsManager.gantt.options.value('taskOutOfRange')\r\n\r\n            let taskMovable = taskScope.task.model.movable\r\n            let rowMovable = taskScope.task.row.model.movable\r\n\r\n            if (typeof(taskMovable) === 'boolean' || typeof(taskMovable) === 'function') {\r\n              taskMovable = {enabled: taskMovable}\r\n            }\r\n\r\n            if (typeof(rowMovable) === 'boolean' || typeof(rowMovable) === 'function') {\r\n              rowMovable = {enabled: rowMovable}\r\n            }\r\n\r\n            if (taskScope.task.moveMode === 'M') {\r\n              let allowRowSwitching = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowRowSwitching', scope.allowRowSwitching)\r\n              if (allowRowSwitching) {\r\n                let scrollRect = ganttScrollElement[0].getBoundingClientRect()\r\n                let rowCenterLeft = scrollRect.left + scrollRect.width / 2\r\n                let ganttBody = angular.element($document[0].querySelectorAll('.gantt-body'))\r\n                ganttBody.css('pointer-events', 'auto') // pointer-events must be enabled for following to work.\r\n                let targetRowElement = ganttDom.findElementFromPoint(rowCenterLeft, evt.clientY, function (element) {\r\n                  return angular.element(element).hasClass('gantt-row')\r\n                })\r\n                ganttBody.css('pointer-events', '')\r\n\r\n                let rows = ganttCtrl.gantt.rowsManager.rows\r\n                let targetRow\r\n\r\n                // tslint:disable:one-variable-per-declaration\r\n                for (let i = 0, l = rows.length; i < l; i++) {\r\n                  if (targetRowElement === rows[i].$element[0]) {\r\n                    targetRow = rows[i]\r\n                    break\r\n                  }\r\n                }\r\n\r\n                let sourceRow = taskScope.task.row\r\n\r\n                if (targetRow !== undefined && sourceRow !== targetRow) {\r\n                  if (typeof(allowRowSwitching) !== 'function' || allowRowSwitching(taskScope.task, targetRow)) {\r\n                    targetRow.moveTaskToRow(taskScope.task, true)\r\n                    taskHasBeenChanged = true\r\n                  }\r\n                }\r\n              }\r\n\r\n              let allowMoving = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowMoving', scope.allowMoving)\r\n              if (allowMoving) {\r\n                x = x - mouseStartOffsetX\r\n\r\n                if (taskOutOfRange !== 'truncate') {\r\n                  if (x < 0) {\r\n                    x = 0\r\n                  } else if (x + taskScope.task.width >= taskScope.gantt.width) {\r\n                    x = taskScope.gantt.width - taskScope.task.width\r\n                  }\r\n                }\r\n\r\n                taskScope.task.moveTo(x, true)\r\n                taskScope.$digest()\r\n\r\n                if (taskHasBeenChanged) {\r\n                  taskScope.row.rowsManager.gantt.api.tasks.raise.move(taskScope.task)\r\n                }\r\n                taskHasBeenChanged = true\r\n              }\r\n            } else if (taskScope.task.moveMode === 'E') {\r\n              if (x <= taskScope.task.left) {\r\n                x = taskScope.task.left\r\n                taskScope.task.moveMode = 'W'\r\n                setGlobalCursor(getCursor(taskScope.task.moveMode))\r\n              }\r\n\r\n              if (taskOutOfRange !== 'truncate' && x >= taskScope.gantt.width) {\r\n                x = taskScope.gantt.width\r\n              }\r\n\r\n              taskScope.task.setTo(x, true)\r\n              taskScope.$digest()\r\n\r\n              if (taskHasBeenChanged) {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.resize(taskScope.task)\r\n              }\r\n              taskHasBeenChanged = true\r\n            } else {\r\n              if (x > taskScope.task.left + taskScope.task.width) {\r\n                x = taskScope.task.left + taskScope.task.width\r\n                taskScope.task.moveMode = 'E'\r\n                setGlobalCursor(getCursor(taskScope.task.moveMode))\r\n              }\r\n\r\n              if (taskOutOfRange !== 'truncate' && x < 0) {\r\n                x = 0\r\n              }\r\n\r\n              taskScope.task.setFrom(x, true)\r\n              taskScope.$digest()\r\n\r\n              if (taskHasBeenChanged) {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.resize(taskScope.task)\r\n              }\r\n              taskHasBeenChanged = true\r\n            }\r\n\r\n            if (!oldTaskHasBeenChanged && taskHasBeenChanged && !taskHasBeenMovedFromAnotherRow) {\r\n              if (taskScope.task.moveMode === 'M') {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.moveBegin(taskScope.task)\r\n              } else {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.resizeBegin(taskScope.task)\r\n              }\r\n            }\r\n          }\r\n\r\n          let scrollScreen = function (evt) {\r\n            let mousePos = ganttMouseOffset.getOffsetForElement(ganttBodyElement[0], evt)\r\n            let leftScreenBorder = ganttScrollElement[0].scrollLeft\r\n            let screenWidth = ganttScrollElement[0].offsetWidth\r\n            let scrollWidth = ganttScrollElement[0].scrollWidth\r\n            let rightScreenBorder = leftScreenBorder + screenWidth\r\n            let keepOnScrolling = false\r\n\r\n            if (mousePos.x < moveStartX) {\r\n              // Scroll to the left\r\n              if (leftScreenBorder > 0 && mousePos.x <= leftScreenBorder + scrollTriggerDistance) {\r\n                mousePos.x -= scrollSpeed\r\n                keepOnScrolling = true\r\n                taskScope.row.rowsManager.gantt.api.scroll.left(scrollSpeed)\r\n              }\r\n            } else {\r\n              // Scroll to the right\r\n              if (rightScreenBorder < scrollWidth && mousePos.x >= rightScreenBorder - scrollTriggerDistance) {\r\n                mousePos.x += scrollSpeed\r\n                keepOnScrolling = true\r\n                taskScope.row.rowsManager.gantt.api.scroll.right(scrollSpeed)\r\n              }\r\n            }\r\n\r\n            if (keepOnScrolling) {\r\n              scrollInterval = $timeout(function () {\r\n                handleMove(evt)\r\n              }, 100, true)\r\n            }\r\n          }\r\n\r\n          let clearScrollInterval = function () {\r\n            if (scrollInterval !== undefined) {\r\n              $timeout.cancel(scrollInterval)\r\n              scrollInterval = undefined\r\n            }\r\n          }\r\n\r\n          let getMoveMode = function (x) {\r\n            let distance = 0\r\n\r\n            let taskMovable = taskScope.task.model.movable\r\n            let rowMovable = taskScope.task.row.model.movable\r\n\r\n            if (typeof(taskMovable) === 'boolean') {\r\n              taskMovable = {enabled: taskMovable}\r\n            }\r\n\r\n            if (typeof(rowMovable) === 'boolean') {\r\n              rowMovable = {enabled: rowMovable}\r\n            }\r\n\r\n            let allowResizing = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowResizing', scope.allowResizing)\r\n            let allowRowSwitching = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowRowSwitching', scope.allowRowSwitching)\r\n            let allowMoving = ganttUtils.firstProperty([taskMovable, rowMovable], 'allowMoving', scope.allowMoving)\r\n\r\n            // Define resize&move area. Make sure the move area does not get too small.\r\n            if (allowResizing) {\r\n              distance = foregroundElement[0].offsetWidth < taskWithSmallWidth ? resizeAreaWidthSmall : resizeAreaWidthBig\r\n            }\r\n\r\n            if (allowResizing && x > foregroundElement[0].offsetWidth - distance) {\r\n              return 'E'\r\n            } else if (allowResizing && x < distance) {\r\n              return 'W'\r\n            } else if ((allowMoving || allowRowSwitching) && x >= distance && x <= foregroundElement[0].offsetWidth - distance) {\r\n              return 'M'\r\n            } else {\r\n              return ''\r\n            }\r\n          }\r\n\r\n          let getCursor = function (mode) {\r\n            switch (mode) {\r\n              case 'E':\r\n                return 'e-resize'\r\n              case 'W':\r\n                return 'w-resize'\r\n              case 'M':\r\n                return 'move'\r\n            }\r\n          }\r\n\r\n          let setGlobalCursor = function (cursor) {\r\n            taskElement.css('cursor', cursor)\r\n            angular.element($document[0].body).css({\r\n              '-moz-user-select': cursor === '' ? '' : '-moz-none',\r\n              '-webkit-user-select': cursor === '' ? '' : 'none',\r\n              '-ms-user-select': cursor === '' ? '' : 'none',\r\n              'user-select': cursor === '' ? '' : 'none',\r\n              'cursor': cursor\r\n            })\r\n          }\r\n\r\n          let enableMoveMode = function (mode, x) {\r\n            // Clone taskModel\r\n            if (taskScope.task.originalModel === undefined) {\r\n              taskScope.task.originalRow = taskScope.task.row\r\n              taskScope.task.originalModel = taskScope.task.model\r\n              taskScope.task.model = angular.copy(taskScope.task.originalModel)\r\n            }\r\n\r\n            // Init mouse start variables\r\n            if (!taskHasBeenMovedFromAnotherRow) {\r\n              moveStartX = x\r\n              mouseStartOffsetX = x - taskScope.task.modelLeft\r\n            }\r\n\r\n            // Init task move\r\n            taskHasBeenChanged = false\r\n            taskScope.task.moveMode = mode\r\n            taskScope.task.isMoving = true\r\n            taskScope.task.active = true\r\n\r\n            // Apply CSS style\r\n            let taskElement = taskScope.task.$element\r\n            if (taskScope.task.moveMode === 'M') {\r\n              taskElement.addClass('gantt-task-resizing')\r\n            } else {\r\n              taskElement.addClass('gantt-task-moving')\r\n            }\r\n\r\n            // Add move event handler\r\n            let taskMoveHandler = function (evt) {\r\n              evt.stopImmediatePropagation()\r\n              if (_hasTouch) {\r\n                evt = ganttMouseOffset.getTouch(evt)\r\n              }\r\n\r\n              handleMove(evt)\r\n            }\r\n            let moveSmartEvent = new GanttSmartEvent(taskScope, windowElement, _moveEvents, taskMoveHandler)\r\n            moveSmartEvent.bind()\r\n\r\n            // Remove move event handler on mouse up / touch end\r\n            new GanttSmartEvent(taskScope, windowElement, _releaseEvents, function (evt) {\r\n              if (_hasTouch) {\r\n                evt = ganttMouseOffset.getTouch(evt)\r\n              }\r\n              moveSmartEvent.unbind()\r\n              disableMoveMode()\r\n              taskScope.$digest()\r\n            }).bindOnce()\r\n\r\n            setGlobalCursor(getCursor(mode))\r\n          }\r\n\r\n          let disableMoveMode = function () {\r\n            if (taskScope.task.originalModel !== undefined) {\r\n\r\n              taskScope.task.originalModel.from = taskScope.task.model.from\r\n              taskScope.task.originalModel.to = taskScope.task.model.to\r\n              taskScope.task.originalModel.lct = taskScope.task.model.lct\r\n              taskScope.task.originalModel.est = taskScope.task.model.est\r\n\r\n              taskScope.task.model = taskScope.task.originalModel\r\n              if (taskScope.task.row.model.id !== taskScope.task.originalRow.model.id) {\r\n                let targetRow = taskScope.task.row\r\n                targetRow.removeTask(taskScope.task.model.id, false, true)\r\n                taskScope.task.row = taskScope.task.originalRow\r\n                targetRow.moveTaskToRow(taskScope.task, false)\r\n              }\r\n              delete taskScope.task.originalModel\r\n              delete taskScope.task.originalRow\r\n\r\n              taskScope.$apply()\r\n            }\r\n\r\n            taskHasBeenMovedFromAnotherRow = false\r\n            taskScope.task.isMoving = false\r\n            taskScope.task.active = false\r\n\r\n            // Remove CSS class\r\n            let taskElement = taskScope.task.$element\r\n            taskElement.removeClass('gantt-task-moving')\r\n            taskElement.removeClass('gantt-task-resizing')\r\n\r\n            // Stop any active auto scroll\r\n            clearScrollInterval()\r\n\r\n            // Set mouse cursor back to default\r\n            setGlobalCursor('')\r\n\r\n            // Raise task changed event\r\n            if (taskHasBeenChanged === true) {\r\n              // Raise move end event\r\n              if (taskScope.task.moveMode === 'M') {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.moveEnd(taskScope.task)\r\n              } else {\r\n                taskScope.row.rowsManager.gantt.api.tasks.raise.resizeEnd(taskScope.task)\r\n              }\r\n\r\n              taskHasBeenChanged = false\r\n              taskScope.task.row.sortTasks() // Sort tasks so they have the right z-order\r\n              taskScope.row.rowsManager.gantt.api.tasks.raise.change(taskScope.task)\r\n            }\r\n\r\n            taskScope.task.moveMode = undefined\r\n          }\r\n\r\n          // Stop scroll cycle (if running) when scope is destroyed.\r\n          // This is needed when the task is moved to a new row during scroll because\r\n          // the old scope will continue to scroll otherwise\r\n          taskScope.$on('$destroy', function () {\r\n            taskScope.destroyed = true\r\n            clearScrollInterval()\r\n          })\r\n\r\n          if (taskScope.task.isResizing) {\r\n            taskHasBeenMovedFromAnotherRow = true\r\n            enableMoveMode('E', taskScope.task.mouseOffsetX)\r\n            delete taskScope.task.isResizing\r\n          } else if (taskScope.task.isMoving) {\r\n            // In case the task has been moved to another row a new controller is created by angular.\r\n            // Enable the move mode again if this was the case.\r\n            taskHasBeenMovedFromAnotherRow = true\r\n            enableMoveMode('M', taskScope.task.mouseOffsetX)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/movable/movable.directive.ts","export default function () {\r\n  'ngInject'\r\n  return {\r\n    initialize: function (options) {\r\n      options.enabled = options.enabled !== undefined ? options.enabled : true\r\n      options.allowMoving = options.allowMoving !== undefined ? !!options.allowMoving : true\r\n      options.allowResizing = options.allowResizing !== undefined ? !!options.allowResizing : true\r\n      if (typeof(options.allowRowSwitching) !== 'function') {\r\n        options.allowRowSwitching = options.allowRowSwitching !== undefined ? !!options.allowRowSwitching : true\r\n      }\r\n      return options\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/movable/movableOptions.factory.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport overlapDirective from './overlap.directive'\r\n\r\nconst pluginModule = 'gantt.overlap'\r\n\r\nrequire('./overlap.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttOverlap', overlapDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/overlap/index.ts","import {extendMoment} from 'moment-range/dist/moment-range'\r\nlet moment = extendMoment(require('moment'))\r\n\r\nexport default function ($timeout) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      global: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.overlap) === 'object') {\r\n        for (let option in scope.options.overlap) {\r\n          scope[option] = scope.options.overlap[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.global === undefined) {\r\n        scope.global = false\r\n      }\r\n\r\n      function getStartEnd (task) {\r\n        let start\r\n        let end\r\n\r\n        if (task.model.from.isBefore(task.model.to)) {\r\n          start = task.model.from\r\n          end = task.model.to\r\n        } else {\r\n          start = task.model.to\r\n          end = task.model.from\r\n        }\r\n\r\n        return [start, end]\r\n      }\r\n\r\n      function getRange (task) {\r\n        let startEnd = getStartEnd(task)\r\n        return moment().range(startEnd[0], startEnd[1])\r\n      }\r\n\r\n      function handleTaskOverlap (overlapsList, task) {\r\n        if (!(task.model.id in overlapsList) && task.$element) {\r\n          task.$element.addClass('gantt-task-overlaps')\r\n          overlapsList[task.model.id] = task\r\n        }\r\n      }\r\n\r\n      function handleTaskNonOverlaps (overlapsList, allTasks) {\r\n        // tslint:disable:one-variable-per-declaration\r\n        for (let i = 0, l = allTasks.length; i < l; i++) {\r\n          let task = allTasks[i]\r\n          if (!(task.model.id in overlapsList) && task.$element) {\r\n            task.$element.removeClass('gantt-task-overlaps')\r\n          }\r\n        }\r\n      }\r\n\r\n      function handleOverlaps (tasks) {\r\n        // Assume that tasks are ordered with from date.\r\n        let newOverlapsTasks = {}\r\n\r\n        if (tasks.length > 1) {\r\n          let previousTask = tasks[0]\r\n          let previousRange = getRange(previousTask)\r\n\r\n          for (let i = 1, l = tasks.length; i < l; i++) {\r\n            let task = tasks[i]\r\n            let range = getRange(task)\r\n\r\n            if (range.overlaps(previousRange)) {\r\n              handleTaskOverlap(newOverlapsTasks, task)\r\n              handleTaskOverlap(newOverlapsTasks, previousTask)\r\n            }\r\n\r\n            if (previousTask.left + previousTask.width < task.left + task.width) {\r\n              previousTask = task\r\n              previousRange = range\r\n            }\r\n          }\r\n        }\r\n\r\n        handleTaskNonOverlaps(newOverlapsTasks, tasks)\r\n      }\r\n\r\n      function sortOn (array, supplier) {\r\n        return array.sort(function (a, b) {\r\n          if (supplier(a) < supplier(b)) {\r\n            return -1\r\n          } else if (supplier(a) > supplier(b)) {\r\n            return 1\r\n          }\r\n          return 0\r\n        })\r\n      }\r\n\r\n      function handleGlobalOverlaps (rows) {\r\n        let globalTasks = []\r\n        for (let row of rows) {\r\n          globalTasks.push.apply(globalTasks, row.tasks)\r\n        }\r\n\r\n        globalTasks = sortOn(globalTasks, function (task) {\r\n          return task.model.from\r\n        })\r\n\r\n        handleOverlaps(globalTasks)\r\n      }\r\n\r\n      if (scope.enabled) {\r\n        api.data.on.change(scope, function () {\r\n          $timeout(function () {\r\n            let rows = api.gantt.rowsManager.rows\r\n\r\n            if (scope.global) {\r\n              handleGlobalOverlaps(rows)\r\n            } else {\r\n              for (let row of rows) {\r\n                handleOverlaps(row.tasks)\r\n              }\r\n            }\r\n          })\r\n        })\r\n\r\n        api.tasks.on.change(scope, function (task) {\r\n          if (scope.global) {\r\n            let rows = task.row.rowsManager.rows\r\n            handleGlobalOverlaps(rows)\r\n          } else {\r\n            handleOverlaps(task.row.tasks)\r\n          }\r\n        })\r\n\r\n        api.tasks.on.rowChange(scope, function (task, oldRow) {\r\n          if (scope.global) {\r\n            let rows = task.row.rowsManager.rows\r\n            handleGlobalOverlaps(rows)\r\n          } else {\r\n            handleOverlaps(oldRow.tasks)\r\n            handleOverlaps(task.row.tasks)\r\n          }\r\n        })\r\n\r\n        api.tasks.on.add(scope, function (task) {\r\n          // TODO: Mimicked functionality from api.data.on.change to defer until element creation, but not ideal.  Refactor necessary to raise 'add' event after task is fully drawn.\r\n          $timeout(function () {\r\n            if (scope.global) {\r\n              let rows = task.row.rowsManager.rows\r\n              handleGlobalOverlaps(rows)\r\n            } else {\r\n              handleOverlaps(task.row.tasks)\r\n            }\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/overlap/overlap.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport progressDirective from './progress.directive'\r\nimport taskProgressDirective from './taskProgress.directive'\r\n\r\nconst pluginModule = 'gantt.progress'\r\n\r\nrequire('./progress.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttProgress', progressDirective)\r\n  .directive('ganttTaskProgress', taskProgressDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/progress/index.ts","import angular from 'angular'\r\n\r\nimport moment from 'moment'\r\n\r\nexport default function ($compile, $document) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.progress) === 'object') {\r\n        for (let option in scope.options.progress) {\r\n          scope[option] = scope.options.progress[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\r\n        if (directiveName === 'ganttTaskBackground') {\r\n          let progressScope = taskScope.$new()\r\n          progressScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'task.model.progress !== undefined && pluginScope.enabled')\r\n\r\n          let progressElement = $document[0].createElement('gantt-task-progress')\r\n          if (attrs.templateUrl !== undefined) {\r\n            angular.element(progressElement).attr('data-template-url', attrs.templateUrl)\r\n          }\r\n          if (attrs.template !== undefined) {\r\n            angular.element(progressElement).attr('data-template', attrs.template)\r\n          }\r\n          angular.element(ifElement).append(progressElement)\r\n          taskElement.append($compile(ifElement)(progressScope))\r\n        }\r\n      })\r\n\r\n      api.tasks.on.clean(scope, function (model) {\r\n        if (model.est !== undefined && !moment.isMoment(model.est)) {\r\n          model.est = moment(model.est) // Earliest Start Time\r\n        }\r\n\r\n        if (model.lct !== undefined && !moment.isMoment(model.lct)) {\r\n          model.lct = moment(model.lct) // Latest Completion Time\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/progress/progress.directive.ts","require('./taskProgress.tmpl.html')\r\n\r\nexport default function ($templateCache) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    requires: '^ganttTask',\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'plugins/progress/taskProgress.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template !== undefined) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    replace: true,\r\n    scope: true,\r\n    controller: function ($scope, $element) {\r\n      'ngInject'\r\n      $scope.getClasses = function () {\r\n        let classes = []\r\n\r\n        if (typeof($scope.task.model.progress) === 'object') {\r\n          classes = $scope.task.model.progress.classes\r\n        }\r\n\r\n        return classes\r\n      }\r\n\r\n      $scope.getCss = function () {\r\n        let css = {}\r\n\r\n        let progress\r\n        if ($scope.task.model.progress !== undefined) {\r\n          if (typeof($scope.task.model.progress) === 'object') {\r\n            progress = $scope.task.model.progress\r\n          } else {\r\n            progress = {percent: $scope.task.model.progress}\r\n          }\r\n        }\r\n\r\n        if (progress) {\r\n          if (progress.color) {\r\n            css['background-color'] = progress.color\r\n          } else {\r\n            css['background-color'] = '#6BC443'\r\n          }\r\n\r\n          css['width'] = progress.percent + '%'\r\n        }\r\n\r\n        return css\r\n      }\r\n\r\n      $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskProgress', $scope, $element)\r\n      $scope.$on('$destroy', function () {\r\n        $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskProgress', $scope, $element)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/progress/taskProgress.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport resizeSensorDirective from './resizeSensor.directive'\r\n\r\nconst pluginModule = 'gantt.resizeSensor'\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttResizeSensor', resizeSensorDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/resizeSensor/index.ts","import ElementQueries from 'css-element-queries/src/ElementQueries'\r\nimport ResizeSensor from 'css-element-queries/src/ResizeSensor'\r\n\r\nElementQueries.listen()\r\n\r\nexport default function () {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.resizeSensor) === 'object') {\r\n        for (let option in scope.options.resizeSensor) {\r\n          scope[option] = scope.options.resizeSensor[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      function buildSensors () {\r\n        let ganttElement = ganttCtrl.gantt.$element[0]\r\n        let ganttSensor = new ResizeSensor(ganttElement, function () {\r\n          // See issue #664\r\n          let changed = false\r\n          if (Math.abs(ganttElement.clientWidth - ganttCtrl.gantt.$scope.ganttElementWidth) > 1) {\r\n            ganttCtrl.gantt.$scope.ganttElementWidth = ganttElement.clientWidth\r\n            changed = true\r\n          }\r\n          if (Math.abs(ganttElement.clientHeight - ganttCtrl.gantt.$scope.ganttElementHeight) > 1) {\r\n            ganttCtrl.gantt.$scope.ganttElementHeight = ganttElement.clientHeight\r\n            changed = true\r\n          }\r\n          if (changed) {\r\n            ganttCtrl.gantt.$scope.$apply()\r\n          }\r\n        })\r\n        let containerSensor = new ResizeSensor(ganttElement.parentElement, function () {\r\n          let el = ganttElement.parentElement\r\n          let height = el.offsetHeight\r\n\r\n          let style = getComputedStyle(el)\r\n          height = height - parseInt(style.marginTop, 10) - parseInt(style.marginBottom, 10)\r\n\r\n          ganttCtrl.gantt.$scope.ganttContainerHeight = height\r\n\r\n          let width = el.offsetWidth\r\n\r\n          style = getComputedStyle(el)\r\n          width = width - parseInt(style.marginLeft, 10) - parseInt(style.marginRight, 10)\r\n\r\n          ganttCtrl.gantt.$scope.ganttContainerWidth = width\r\n\r\n          ganttCtrl.gantt.$scope.$apply()\r\n        })\r\n        return [ganttSensor, containerSensor]\r\n      }\r\n\r\n      let rendered = false\r\n      let sensors = []\r\n\r\n      function detach (sensors) {\r\n        for (let i = 0; i < sensors; i++) {\r\n          sensors[i].detach()\r\n        }\r\n      }\r\n\r\n      api.core.on.rendered(scope, function () {\r\n        rendered = true\r\n        detach(sensors)\r\n        if (scope.enabled) {\r\n          ElementQueries.update()\r\n          sensors = buildSensors()\r\n        }\r\n      })\r\n\r\n      scope.$watch('enabled', function (newValue) {\r\n        if (rendered) {\r\n          if (newValue) {\r\n            ElementQueries.update()\r\n            sensors = buildSensors()\r\n          } else if (!newValue) {\r\n            detach(sensors)\r\n            sensors = []\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/resizeSensor/resizeSensor.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport sectionsDirective from './sections.directive'\r\nimport taskSectionDirective from './taskSection.directive'\r\nimport taskSectionsDirective from './taskSections.directive'\r\n\r\nconst pluginModule = 'gantt.sections'\r\n\r\nrequire('./sections.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttSections', sectionsDirective)\r\n  .directive('ganttTaskSection', taskSectionDirective)\r\n  .directive('ganttTaskSections', taskSectionsDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/sections/index.ts","import angular from 'angular'\r\n\r\nexport default function ($compile, $document) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      keepProportions: '=?',\r\n      disableMagnet: '=?',\r\n      disableDaily: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.sections) === 'object') {\r\n        for (let option in scope.options.sections) {\r\n          scope[option] = scope.options.sections[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.keepProportions === undefined) {\r\n        scope.keepProportions = true\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\r\n        if (directiveName === 'ganttTaskForeground') {\r\n          let sectionsScope = taskScope.$new()\r\n          sectionsScope.pluginScope = scope\r\n          sectionsScope.task = taskScope.task\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'task.model.sections !== undefined && pluginScope.enabled')\r\n          angular.element(ifElement).attr('class', 'gantt-task-foreground-sections')\r\n\r\n          let sectionsElement = $document[0].createElement('gantt-task-sections')\r\n\r\n          if (attrs.templateUrl !== undefined) {\r\n            angular.element(sectionsElement).attr('data-template-url', attrs.templateUrl)\r\n          }\r\n          if (attrs.template !== undefined) {\r\n            angular.element(sectionsElement).attr('data-template', attrs.template)\r\n          }\r\n          angular.element(ifElement).append(sectionsElement)\r\n          taskElement.append($compile(ifElement)(sectionsScope))\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/sections/sections.directive.ts","import moment from 'moment'\r\n\r\nrequire('./taskSection.tmpl.html')\r\n\r\nexport default function ($templateCache) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    requires: '^ganttTaskSections',\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'plugins/sections/taskSection.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template !== undefined) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    replace: true,\r\n    scope: {\r\n      section: '=',\r\n      task: '=',\r\n      index: '=',\r\n      options: '=?'\r\n    },\r\n    controller: function ($scope, $element, ganttUtils) {\r\n      'ngInject'\r\n      let fromTask = moment($scope.section.from).isSame(moment($scope.task.model.from))\r\n      let toTask = moment($scope.section.to).isSame(moment($scope.task.model.to))\r\n\r\n      let loadPreviousScope = function () {\r\n        if ($scope.task._movingTaskSections) {\r\n          // We are coming from a task row change\r\n          let sectionScopes = $scope.task._movingTaskSections\r\n          let sectionScope = sectionScopes['$$index_' + $scope.index]\r\n          $scope.section = sectionScope.section\r\n          $scope.sectionCss = sectionScope.sectionCss\r\n          fromTask = sectionScope.fromTask\r\n          toTask = sectionScope.toTask\r\n          delete sectionScopes['$$index_' + $scope.index]\r\n        }\r\n\r\n        let sectionScopesEmpty = true\r\n        for (let property in $scope.task._movingTaskSections) {\r\n          if ($scope.task._movingTaskSections.hasOwnProperty(property)) {\r\n            sectionScopesEmpty = false\r\n            break\r\n          }\r\n        }\r\n\r\n        if (sectionScopesEmpty) {\r\n          delete $scope.task._movingTaskSections\r\n        }\r\n      }\r\n      loadPreviousScope()\r\n\r\n      let getLeft = function () {\r\n        if (fromTask) {\r\n          return 0\r\n        }\r\n\r\n        let gantt = $scope.task.rowsManager.gantt\r\n        let taskLeft = $scope.task.left\r\n\r\n        let from\r\n\r\n        let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet)\r\n\r\n        from = disableMagnet ? $scope.section.from : gantt.getMagnetDate($scope.section.from)\r\n\r\n        let disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily)\r\n        if (!disableDaily && gantt.options.value('daily')) {\r\n          from = moment(from).startOf('day')\r\n        }\r\n\r\n        let sectionLeft = gantt.getPositionByDate(from)\r\n\r\n        return sectionLeft - taskLeft\r\n      }\r\n\r\n      let getRight = function () {\r\n        let keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions)\r\n        if (toTask && keepProportions) {\r\n          return $scope.task.width\r\n        }\r\n\r\n        let gantt = $scope.task.rowsManager.gantt\r\n        let taskLeft = $scope.task.left\r\n\r\n        let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet)\r\n        let to = disableMagnet ? $scope.section.to : gantt.getMagnetDate($scope.section.to)\r\n\r\n        let disableDaily = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableDaily', $scope.$parent.pluginScope.disableDaily)\r\n        if (!disableDaily && gantt.options.value('daily')) {\r\n          to = moment(to).startOf('day')\r\n        }\r\n\r\n        let sectionRight = gantt.getPositionByDate(to)\r\n\r\n        return sectionRight - taskLeft\r\n      }\r\n\r\n      let getRelative = function (position) {\r\n        return position / $scope.task.width * 100\r\n      }\r\n\r\n      let updatePosition = function () {\r\n        let sectionLeft = getLeft()\r\n        let sectionWidth = getRight() - sectionLeft\r\n\r\n        let keepProportions = ganttUtils.firstProperty([$scope.section, $scope.options], 'keepProportions', $scope.$parent.pluginScope.keepProportions)\r\n        if (keepProportions) {\r\n          // Setting left and width as to keep proportions when changing task size.\r\n          // This may somewhat break the magnet feature, but it seems acceptable\r\n          $scope.sectionCss.left = getRelative(sectionLeft) + '%'\r\n          $scope.sectionCss.width = getRelative(sectionWidth) + '%'\r\n        } else {\r\n          $scope.sectionCss.left = sectionLeft + 'px'\r\n          $scope.sectionCss.width = sectionWidth + 'px'\r\n        }\r\n      }\r\n\r\n      let updateCss = function () {\r\n        if ($scope.section.color) {\r\n          $scope.sectionCss['background-color'] = $scope.section.color\r\n        } else {\r\n          $scope.sectionCss['background-color'] = undefined\r\n        }\r\n      }\r\n\r\n      if ($scope.sectionCss === undefined) {\r\n        $scope.sectionCss = {}\r\n        updatePosition()\r\n        updateCss()\r\n      }\r\n\r\n      let taskChangeHandler = function (task) {\r\n        if (task === $scope.task) {\r\n          // Update from/to section model value based on position.\r\n          let gantt = $scope.task.rowsManager.gantt\r\n\r\n          let sectionLeft = $element[0].offsetLeft\r\n\r\n          let disableMagnet = ganttUtils.firstProperty([$scope.section, $scope.options], 'disableMagnet', $scope.$parent.pluginScope.disableMagnet)\r\n\r\n          let from\r\n          if (fromTask) {\r\n            from = $scope.task.model.from\r\n          } else {\r\n            from = gantt.getDateByPosition($scope.task.modelLeft + sectionLeft, !disableMagnet)\r\n          }\r\n\r\n          let to\r\n          if (toTask) {\r\n            to = $scope.task.model.to\r\n          } else {\r\n            let sectionRight = sectionLeft + $element[0].offsetWidth\r\n            to = gantt.getDateByPosition($scope.task.modelLeft + sectionRight, !disableMagnet)\r\n          }\r\n\r\n          $scope.section.from = from\r\n          $scope.section.to = to\r\n\r\n          updatePosition()\r\n        }\r\n      }\r\n\r\n      let taskCleanHandler = function (taskModel) {\r\n        if (taskModel.id === $scope.task.model.id) {\r\n          let model = $scope.section\r\n          if (model.from !== undefined && !moment.isMoment(model.from)) {\r\n            model.from = moment(model.from)\r\n          }\r\n\r\n          if (model.to !== undefined && !moment.isMoment(model.to)) {\r\n            model.to = moment(model.to)\r\n          }\r\n        }\r\n      }\r\n      taskCleanHandler($scope.task.model)\r\n\r\n      $scope.task.rowsManager.gantt.api.tasks.on.clean($scope, taskCleanHandler)\r\n      $scope.task.rowsManager.gantt.api.tasks.on.change($scope, taskChangeHandler)\r\n\r\n      let beforeViewRowChangeHandler = function (task) {\r\n        let sectionScopes = task._movingTaskSections\r\n        if (!sectionScopes) {\r\n          sectionScopes = {}\r\n          task._movingTaskSections = sectionScopes\r\n        }\r\n\r\n        sectionScopes['$$index_' + $scope.index] = {\r\n          'section': $scope.section,\r\n          'sectionCss': $scope.sectionCss,\r\n          'fromTask': fromTask,\r\n          'toTask': toTask\r\n        }\r\n      }\r\n      $scope.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange($scope, beforeViewRowChangeHandler)\r\n\r\n      $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskSection', $scope, $element)\r\n      $scope.$on('$destroy', function () {\r\n        $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskSection', $scope, $element)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/sections/taskSection.directive.ts","require('./taskSections.tmpl.html')\r\n\r\nexport default function ($templateCache) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    requires: '^ganttTask',\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'plugins/sections/taskSections.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template !== undefined) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    replace: true,\r\n    scope: true,\r\n    controller: function ($scope, $element) {\r\n      'ngInject'\r\n      $scope.task.rowsManager.gantt.api.directives.raise.new('ganttTaskSections', $scope, $element)\r\n      $scope.$on('$destroy', function () {\r\n        $scope.task.rowsManager.gantt.api.directives.raise.destroy('ganttTaskSections', $scope, $element)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/sections/taskSections.directive.ts","import angular from 'angular'\r\nimport 'angular-native-dragdrop'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport ganttSortableDirective from './sortable.directive'\r\n\r\nconst pluginModule = 'gantt.sortable'\r\n\r\nrequire('./sortable.css')\r\n\r\nangular.module(pluginModule, ['ang-drag-drop', ganttModule])\r\n  .directive('ganttSortable', ganttSortableDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/sortable/index.ts","import GanttUtilsService from 'core/logic/util/utils.service'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, $compile) {\r\n  'ngInject'\r\n  // Provides the row sort functionality to any Gantt row\r\n  // Uses the sortableState to share the current row\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.sortable) === 'object') {\r\n        for (let option in scope.options.sortable) {\r\n          scope[option] = scope.options.sortable[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, rowScope, rowElement) {\r\n        if (directiveName === 'ganttRowLabel' && rowElement.attr('drag') === undefined) {\r\n          rowScope.checkDraggable = function () {\r\n            let rowSortable = rowScope.row.model.sortable\r\n\r\n            if (typeof(rowSortable) === 'boolean') {\r\n              rowSortable = {enabled: rowSortable}\r\n            }\r\n\r\n            return ganttUtils.firstProperty([rowSortable], 'enabled', scope.enabled)\r\n          }\r\n\r\n          rowScope.onDropSuccess = function () {\r\n            rowScope.$evalAsync()\r\n          }\r\n\r\n          rowScope.onDrop = function (evt, data) {\r\n            let row = rowScope.row.rowsManager.rowsMap[data.id]\r\n            if (row !== rowScope) {\r\n              rowScope.row.rowsManager.moveRow(row, rowScope.row)\r\n              rowScope.$evalAsync()\r\n            }\r\n          }\r\n\r\n          rowElement.attr('ui-draggable', '{{checkDraggable()}}')\r\n          rowElement.attr('drag-channel', '\\'sortable\\'')\r\n          rowElement.attr('ui-on-drop', 'onDrop($event, $data)')\r\n          rowElement.attr('on-drop-success', 'onDropSuccess()')\r\n\r\n          rowElement.attr('drop-channel', '\\'sortable\\'')\r\n          rowElement.attr('drag', 'row.model')\r\n\r\n          $compile(rowElement)(rowScope)\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/sortable/sortable.directive.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport ganttTableDirective from './table.directive'\r\nimport ganttSideContentTable from './sideContentTable.directive'\r\nimport TableColumnController from './tableColumn.controller'\r\nimport TableColumnRowController from './tableColumnRow.controller'\r\n\r\nconst pluginModule = 'gantt.table'\r\n\r\nrequire('./table.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttTable', ganttTableDirective)\r\n  .directive('ganttSideContentTable', ganttSideContentTable)\r\n  .controller('TableColumnController', TableColumnController)\r\n  .controller('TableColumnRowController', TableColumnRowController)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/table/index.ts","require('./sideContentTable.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder, ganttLayout) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSideContentTable', 'plugins/table/sideContentTable.tmpl.html')\r\n  builder.controller = function ($scope) {\r\n    let hScrollBarHeight = ganttLayout.getScrollBarHeight()\r\n\r\n    $scope.getMaxHeightCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeight = $scope.maxHeight\r\n      if (!maxHeight) {\r\n        maxHeight = $scope.gantt.getContainerHeight()\r\n      }\r\n\r\n      let bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0\r\n      css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px'\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/table/sideContentTable.directive.ts","import angular from 'angular'\r\n\r\nimport GanttUtilsService from 'core/logic/util/utils.service'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\r\n  'ngInject'\r\n  // Provides the row sort functionality to any Gantt row\r\n  // Uses the sortableState to share the current row\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      columns: '=?',\r\n      headers: '=?',\r\n      classes: '=?',\r\n      contents: '=?',\r\n      headerContents: '=?',\r\n      formatters: '=?',\r\n      headerFormatter: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.table) === 'object') {\r\n        for (let option in scope.options.table) {\r\n          scope[option] = scope.options.table[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.columns === undefined) {\r\n        scope.columns = ['model.name']\r\n      }\r\n\r\n      if (scope.headers === undefined) {\r\n        scope.headers = {'model.name': 'Name'}\r\n      }\r\n\r\n      if (scope.contents === undefined) {\r\n        scope.contents = {}\r\n      }\r\n\r\n      if (scope.headerContents === undefined) {\r\n        scope.headerContents = {}\r\n      }\r\n\r\n      if (scope.classes === undefined) {\r\n        scope.classes = {}\r\n      }\r\n\r\n      if (scope.formatters === undefined) {\r\n        scope.formatters = {}\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\r\n        if (directiveName === 'ganttSideContent') {\r\n          let tableScope = sideContentScope.$new()\r\n          tableScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n          angular.element(ifElement).addClass('side-element')\r\n\r\n          let tableElement = $document[0].createElement('gantt-side-content-table')\r\n          angular.element(ifElement).append(tableElement)\r\n\r\n          sideContentElement.append($compile(ifElement)(tableScope))\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/table/table.directive.ts","export default function ($scope) {\r\n  'ngInject'\r\n  $scope.getHeader = function () {\r\n    let header = $scope.pluginScope.headers[$scope.column]\r\n    if (header !== undefined) {\r\n      return header\r\n    }\r\n    if ($scope.pluginScope.headerFormatter !== undefined) {\r\n      header = $scope.pluginScope.headerFormatter($scope.column)\r\n    }\r\n    if (header !== undefined) {\r\n      return header\r\n    }\r\n    return header\r\n  }\r\n\r\n  $scope.getHeaderContent = function () {\r\n    let headerContent = $scope.pluginScope.headerContents[$scope.column]\r\n    if (headerContent === undefined) {\r\n      return '{{getHeader()}}'\r\n    }\r\n    return headerContent\r\n  }\r\n\r\n  $scope.getClass = function () {\r\n    return $scope.pluginScope.classes[$scope.column]\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/table/tableColumn.controller.ts","export default function ($scope) {\r\n  'ngInject'\r\n  $scope.getValue = function () {\r\n    let value = $scope.$eval($scope.column, $scope.row)\r\n\r\n    let formatter = $scope.pluginScope.formatters[$scope.column]\r\n    if (formatter !== undefined) {\r\n      value = formatter(value, $scope.column, $scope.row)\r\n    }\r\n\r\n    return value\r\n  }\r\n\r\n  $scope.getRowContent = function () {\r\n    let content\r\n    if ($scope.row.model.columnContents) {\r\n      content = $scope.row.model.columnContents[$scope.column]\r\n    }\r\n    if (content === undefined && $scope.column === 'model.name') {\r\n      content = $scope.row.model.content\r\n    }\r\n    if (content === undefined) {\r\n      content = $scope.pluginScope.contents[$scope.column]\r\n    }\r\n    if (content === undefined && $scope.column === 'model.name') {\r\n      content = $scope.row.rowsManager.gantt.options.value('rowContent')\r\n    }\r\n    if (content === undefined && $scope.pluginScope.content !== undefined) {\r\n      content = $scope.pluginScope.content\r\n    }\r\n    if (content === undefined) {\r\n      return '{{getValue()}}'\r\n    }\r\n    return content\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/table/tableColumnRow.controller.ts","import angular from 'angular'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport ganttTooltipsDirective from './tooltips.directive'\r\nimport ganttTooltipDirective from './tooltip.directive'\r\n\r\nconst pluginModule = 'gantt.tooltips'\r\n\r\nrequire('./tooltips.css')\r\n\r\nangular.module(pluginModule, [ganttModule])\r\n  .directive('ganttTooltips', ganttTooltipsDirective)\r\n  .directive('ganttTooltip', ganttTooltipDirective)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/tooltips/index.ts","import {\r\n  IAugmentedJQuery, ICompileService, IDocumentService, ILogService, IScope, ITemplateCacheService,\r\n  ITimeoutService\r\n} from 'angular'\r\nimport { GanttDebounce } from '../../core/ui/util/debounce.factory'\r\nimport { GanttSmartEvent } from '../../core/ui/util/smartEvent.factory'\r\nimport * as angular from 'angular'\r\n\r\nrequire('./tooltip.tmpl.html')\r\n\r\nexport default function ($log: ILogService,\r\n  $timeout: ITimeoutService,\r\n  $compile: ICompileService,\r\n  $document: IDocumentService,\r\n  $templateCache: ITemplateCacheService,\r\n  ganttDebounce: GanttDebounce,\r\n  GanttSmartEvent: { new($scope: IScope, $element: IAugmentedJQuery, event: string, fn: any): GanttSmartEvent }) {\r\n  'ngInject'\r\n  // This tooltip displays more information about a task\r\n\r\n  return {\r\n    restrict: 'E',\r\n    templateUrl: function (tElement, tAttrs) {\r\n      let templateUrl\r\n      if (tAttrs.templateUrl === undefined) {\r\n        templateUrl = 'plugins/tooltips/tooltip.tmpl.html'\r\n      } else {\r\n        templateUrl = tAttrs.templateUrl\r\n      }\r\n      if (tAttrs.template !== undefined) {\r\n        $templateCache.put(templateUrl, tAttrs.template)\r\n      }\r\n      return templateUrl\r\n    },\r\n    scope: true,\r\n    replace: true,\r\n    controller: function ($scope, $element, ganttUtils) {\r\n      'ngInject'\r\n      let bodyElement = angular.element($document[0].body)\r\n      let parentElement = $scope.task.$element\r\n      let showTooltipPromise\r\n      let visible = false\r\n      let mouseEnterX\r\n      let mouseMoveHandler\r\n\r\n      let getViewPortWidth = function () {\r\n        let d = $document[0]\r\n        return d.documentElement.clientWidth || (d as Document).getElementById('body')[0].clientWidth\r\n      }\r\n\r\n      let updateTooltip = function (x) {\r\n        // Check if info is overlapping with view port\r\n        if (x + $element[0].offsetWidth > getViewPortWidth()) {\r\n          $element.css('left', (x + 20 - $element[0].offsetWidth) + 'px')\r\n          $scope.isRightAligned = true\r\n        } else {\r\n          $element.css('left', (x - 20) + 'px')\r\n          $scope.isRightAligned = false\r\n        }\r\n      }\r\n\r\n      let showTooltip = function (x) {\r\n        visible = true\r\n        mouseMoveHandler.bind()\r\n\r\n        $scope.displayed = true\r\n\r\n        $scope.$evalAsync(function () {\r\n          let restoreNgHide\r\n          if ($element.hasClass('ng-hide')) {\r\n            $element.removeClass('ng-hide')\r\n            restoreNgHide = true\r\n          }\r\n          $scope.elementHeight = $element[0].offsetHeight\r\n          if (restoreNgHide) {\r\n            $element.addClass('ng-hide')\r\n          }\r\n          $scope.taskRect = parentElement[0].getBoundingClientRect()\r\n          updateTooltip(x)\r\n        })\r\n      }\r\n\r\n      let hideTooltip = function () {\r\n        visible = false\r\n        mouseMoveHandler.unbind()\r\n        $scope.$evalAsync(function () {\r\n          $scope.displayed = false\r\n        })\r\n      }\r\n\r\n      let displayTooltip = function (newValue, showDelayed?) {\r\n        if (showTooltipPromise) {\r\n          $timeout.cancel(showTooltipPromise)\r\n        }\r\n\r\n        let taskTooltips = $scope.task.model.tooltips\r\n        let rowTooltips = $scope.task.row.model.tooltips\r\n\r\n        if (typeof (taskTooltips) === 'boolean') {\r\n          taskTooltips = { enabled: taskTooltips }\r\n        }\r\n\r\n        if (typeof (rowTooltips) === 'boolean') {\r\n          rowTooltips = { enabled: rowTooltips }\r\n        }\r\n\r\n        let enabled = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'enabled', $scope.pluginScope.enabled)\r\n        if (enabled && !visible && mouseEnterX !== undefined && newValue) {\r\n          let content = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'content', $scope.pluginScope.content)\r\n          $scope.content = content\r\n\r\n          if (showDelayed) {\r\n            showTooltipPromise = $timeout(function () {\r\n              showTooltip(mouseEnterX)\r\n            }, $scope.pluginScope.delay, false)\r\n          } else {\r\n            showTooltip(mouseEnterX)\r\n          }\r\n        } else if (!newValue) {\r\n          if (!$scope.task.active) {\r\n            hideTooltip()\r\n          }\r\n        }\r\n      }\r\n\r\n      mouseMoveHandler = new GanttSmartEvent($scope, bodyElement, 'mousemove', ganttDebounce(function (e) {\r\n        if (!visible) {\r\n          mouseEnterX = e.clientX\r\n          displayTooltip(true, false)\r\n        } else {\r\n          // check if mouse goes outside the parent\r\n          if (\r\n            !$scope.taskRect ||\r\n            e.clientX < $scope.taskRect.left ||\r\n            e.clientX > $scope.taskRect.right ||\r\n            e.clientY > $scope.taskRect.bottom ||\r\n            e.clientY < $scope.taskRect.top\r\n          ) {\r\n            displayTooltip(false, false)\r\n          }\r\n\r\n          updateTooltip(e.clientX)\r\n        }\r\n      }, 5, false))\r\n\r\n      $scope.getFromLabel = function () {\r\n        let taskTooltips = $scope.task.model.tooltips\r\n        let rowTooltips = $scope.task.row.model.tooltips\r\n\r\n        if (typeof (taskTooltips) === 'boolean') {\r\n          taskTooltips = { enabled: taskTooltips }\r\n        }\r\n\r\n        if (typeof (rowTooltips) === 'boolean') {\r\n          rowTooltips = { enabled: rowTooltips }\r\n        }\r\n\r\n        // let dateFormat = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'dateFormat', $scope.pluginScope.dateFormat)\r\n        return $scope.task.model.from.format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n\r\n      $scope.getToLabel = function () {\r\n        let taskTooltips = $scope.task.model.tooltips\r\n        let rowTooltips = $scope.task.row.model.tooltips\r\n\r\n        if (typeof (taskTooltips) === 'boolean') {\r\n          taskTooltips = { enabled: taskTooltips }\r\n        }\r\n\r\n        if (typeof (rowTooltips) === 'boolean') {\r\n          rowTooltips = { enabled: rowTooltips }\r\n        }\r\n\r\n        // let dateFormat = ganttUtils.firstProperty([taskTooltips, rowTooltips], 'dateFormat', $scope.pluginScope.dateFormat)\r\n        return $scope.task.model.to.format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n\r\n      $scope.task.getContentElement().bind('mousemove', function (evt) {\r\n        mouseEnterX = evt.clientX\r\n      })\r\n\r\n      $scope.task.getContentElement().bind('mouseenter', function (evt) {\r\n        mouseEnterX = evt.clientX\r\n        displayTooltip(true, true)\r\n      })\r\n\r\n      $scope.task.getContentElement().bind('mouseleave', function () {\r\n        displayTooltip(false)\r\n      })\r\n\r\n      if ($scope.pluginScope.api.tasks.on.moveBegin) {\r\n        $scope.pluginScope.api.tasks.on.moveBegin($scope, function (task) {\r\n          if (task === $scope.task) {\r\n            displayTooltip(true)\r\n          }\r\n        })\r\n\r\n        $scope.pluginScope.api.tasks.on.moveEnd($scope, function (task) {\r\n          if (task === $scope.task) {\r\n            displayTooltip(false)\r\n          }\r\n        })\r\n\r\n        $scope.pluginScope.api.tasks.on.resizeBegin($scope, function (task) {\r\n          if (task === $scope.task) {\r\n            displayTooltip(true)\r\n          }\r\n        })\r\n\r\n        $scope.pluginScope.api.tasks.on.resizeEnd($scope, function (task) {\r\n          if (task === $scope.task) {\r\n            displayTooltip(false)\r\n          }\r\n        })\r\n      }\r\n\r\n      if ($scope.task.isMoving) {\r\n        // Display tooltip because task has been moved to a new row\r\n        displayTooltip(true, false)\r\n      }\r\n\r\n      $scope.gantt.api.directives.raise.new('ganttTooltip', $scope, $element)\r\n      $scope.$on('$destroy', function () {\r\n        $scope.gantt.api.directives.raise.destroy('ganttTooltip', $scope, $element)\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tooltips/tooltip.directive.ts","import angular from 'angular'\r\n\r\nexport default function ($compile, $document) {\r\n  'ngInject'\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      dateFormat: '=?',\r\n      content: '=?',\r\n      delay: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.tooltips) === 'object') {\r\n        for (let option in scope.options.tooltips) {\r\n          scope[option] = scope.options.tooltips[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n      if (scope.dateFormat === undefined) {\r\n        scope.dateFormat = 'MMM DD, HH:mm'\r\n      }\r\n      if (scope.delay === undefined) {\r\n        scope.delay = 500\r\n      }\r\n      if (scope.content === undefined) {\r\n        scope.content = '{{task.model.name}}</br>' +\r\n          '<small>' +\r\n          '{{task.isMilestone() === true && getFromLabel() || getFromLabel() + \\' - \\' + getToLabel()}}' +\r\n          '</small>'\r\n      }\r\n\r\n      scope.api = api\r\n\r\n      api.directives.on.new(scope, function (directiveName, taskScope, taskElement) {\r\n        if (directiveName === 'ganttTask') {\r\n          let tooltipScope = taskScope.$new()\r\n\r\n          tooltipScope.pluginScope = scope\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n\r\n          let tooltipElement = $document[0].createElement('gantt-tooltip')\r\n          if (attrs.templateUrl !== undefined) {\r\n            angular.element(tooltipElement).attr('data-template-url', attrs.templateUrl)\r\n          }\r\n          if (attrs.template !== undefined) {\r\n            angular.element(tooltipElement).attr('data-template', attrs.template)\r\n          }\r\n\r\n          angular.element(ifElement).append(tooltipElement)\r\n          taskElement.append($compile(ifElement)(tooltipScope))\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tooltips/tooltips.directive.ts","import angular from 'angular'\r\n\r\nimport uiTree from 'angular-ui-tree'\r\n\r\nimport ganttModule from '../../index'\r\n\r\nimport ganttTreeDirective from './tree.directive'\r\nimport ganttRowTreeLabelDirective from './rowTreeLabel.directive'\r\nimport ganttSideContentTreeDirective from './sideContentTree.directive'\r\nimport ganttTreeBodyDirective from './treeBody.directive'\r\nimport ganttTreeHeaderDirective from './treeHeader.directive'\r\nimport GanttUiTreeController from './uiTree.controller'\r\nimport GanttTreeNodeController from './treeNode.controller'\r\nimport GanttTreeController from './tree.controller'\r\n\r\nconst pluginModule = 'gantt.tree'\r\n\r\nrequire('angular-ui-tree/dist/angular-ui-tree.css')\r\nrequire('./tree.css')\r\n\r\nangular.module(pluginModule, [ganttModule, uiTree || 'ui.tree']) // https://github.com/angular-ui-tree/angular-ui-tree/issues/937\r\n  .directive('ganttTree', ganttTreeDirective)\r\n  .directive('ganttRowTreeLabel', ganttRowTreeLabelDirective)\r\n  .directive('ganttSideContentTree', ganttSideContentTreeDirective)\r\n  .directive('ganttTreeBody', ganttTreeBodyDirective)\r\n  .directive('ganttTreeHeader', ganttTreeHeaderDirective)\r\n  .controller('GanttUiTreeController', GanttUiTreeController)\r\n  .controller('GanttTreeNodeController', GanttTreeNodeController)\r\n  .controller('GanttTreeController', GanttTreeController)\r\n\r\nexport default pluginModule\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader??ref--1!./src/plugins/tree/index.ts","export default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttRowTreeLabel')\r\n  builder.restrict = 'A'\r\n  builder.templateUrl = undefined\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/rowTreeLabel.directive.ts","require('./sideContentTree.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttSideContentTree', 'plugins/tree/sideContentTree.tmpl.html')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/sideContentTree.directive.ts","import {GanttHierarchy} from '../../core/logic/util/hierarchy.factory'\r\n\r\nexport default function ($scope, $filter, GanttHierarchy: { new(): GanttHierarchy; }) {\r\n  'ngInject'\r\n  $scope.rootRows = []\r\n\r\n  $scope.getHeader = function () {\r\n    return $scope.pluginScope.header\r\n  }\r\n\r\n  let hierarchy = new GanttHierarchy()\r\n\r\n  $scope.pluginScope.$watchGroup(['keepAncestorOnFilterRow', 'enabled'], function (value) {\r\n    let keepAncestor = value[0] && value[1]\r\n\r\n    if (keepAncestor) {\r\n      let filterImpl = function (sortedRows, filterRow, filterRowComparator) {\r\n        hierarchy.refresh(sortedRows)\r\n\r\n        let leaves = []\r\n        for (let sortedRow of sortedRows) {\r\n          let children = hierarchy.children(sortedRow)\r\n          if (!children || children.length === 0) {\r\n            leaves.push(sortedRow)\r\n          }\r\n        }\r\n\r\n        let filteredLeaves = $filter('filter')(leaves, filterRow, filterRowComparator)\r\n\r\n        let filterRowKeepAncestor = function (row) {\r\n          if (filteredLeaves.indexOf(row) > -1) {\r\n            return true\r\n          }\r\n\r\n          let descendants = hierarchy.descendants(row)\r\n\r\n          for (let descendant of descendants) {\r\n            if (filteredLeaves.indexOf(descendant) > -1) {\r\n              return true\r\n            }\r\n          }\r\n\r\n          return false\r\n        }\r\n\r\n        return $filter('filter')(sortedRows, filterRowKeepAncestor, filterRowComparator)\r\n      }\r\n      $scope.gantt.rowsManager.setFilterImpl(filterImpl)\r\n    } else {\r\n      $scope.gantt.rowsManager.setFilterImpl(false)\r\n    }\r\n  })\r\n\r\n  let isVisible = function (row) {\r\n    let parentRow = $scope.parent(row)\r\n    while (parentRow !== undefined) {\r\n      if (parentRow !== undefined && parentRow._collapsed) {\r\n        return false\r\n      }\r\n      parentRow = $scope.parent(parentRow)\r\n    }\r\n    return true\r\n  }\r\n\r\n  let filterRowsFunction = function (rows) {\r\n    return rows.filter(function (row) {\r\n      return isVisible(row)\r\n    })\r\n  }\r\n\r\n  let sortRowsFunction = function (rows) {\r\n    let sortedRows = []\r\n    let rootRows = []\r\n\r\n    let hasParent = false\r\n\r\n    for (let row of rows) {\r\n      let rowParent = $scope.parent(row)\r\n      if (rowParent === undefined) {\r\n        rootRows.push(row)\r\n      } else {\r\n        hasParent = true\r\n      }\r\n    }\r\n\r\n    let handleChildren = function (row) {\r\n      sortedRows.push(row)\r\n      let children = $scope.children(row)\r\n\r\n      if (children !== undefined && children.length > 0) {\r\n        let sortedChildren = children.sort(function (a, b) {\r\n          return rows.indexOf(a) - rows.indexOf(b)\r\n        })\r\n\r\n        for (let sortedChild of sortedChildren) {\r\n          handleChildren(sortedChild)\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let rootRow of rootRows) {\r\n      handleChildren(rootRow)\r\n    }\r\n\r\n    return sortedRows\r\n  }\r\n  $scope.gantt.api.rows.addRowSorter(sortRowsFunction)\r\n  $scope.gantt.api.rows.addRowFilter(filterRowsFunction)\r\n\r\n  $scope.$on('$destroy', function () {\r\n    $scope.gantt.api.rows.removeRowSorter(sortRowsFunction)\r\n    $scope.gantt.api.rows.removeRowFilter(filterRowsFunction)\r\n  })\r\n\r\n  let refresh = function () {\r\n    $scope.rootRows = hierarchy.refresh($scope.gantt.rowsManager.filteredRows)\r\n\r\n    if ($scope.gantt.rowsManager.filteredRows.length > 0) {\r\n      $scope.gantt.api.rows.sort()\r\n      $scope.gantt.api.rows.refresh()\r\n    }\r\n  }\r\n\r\n  $scope.gantt.api.rows.on.remove($scope, refresh)\r\n  $scope.gantt.api.rows.on.add($scope, refresh)\r\n\r\n  let isRowCollapsed = function (rowId) {\r\n    let row\r\n    if (typeof rowId === 'string') {\r\n      row = $scope.gantt.rowsManager.rowsMap[rowId]\r\n    } else {\r\n      row = rowId\r\n    }\r\n    if (row === undefined) {\r\n      return undefined\r\n    }\r\n    if (row._collapsed === undefined) {\r\n      return false\r\n    }\r\n    return row._collapsed\r\n  }\r\n\r\n  let expandRow = function (rowId) {\r\n    let row\r\n    if (typeof rowId === 'string') {\r\n      row = $scope.gantt.rowsManager.rowsMap[rowId]\r\n    } else {\r\n      row = rowId\r\n    }\r\n    if (row === undefined) {\r\n      return\r\n    }\r\n\r\n    let rowScope = $scope.nodeScopes[row.model.id]\r\n    if (rowScope.collapsed) {\r\n      rowScope.toggle()\r\n    }\r\n  }\r\n\r\n  let collapseRow = function (rowId) {\r\n    let row\r\n    if (typeof rowId === 'string') {\r\n      row = $scope.gantt.rowsManager.rowsMap[rowId]\r\n    } else {\r\n      row = rowId\r\n    }\r\n    if (row === undefined) {\r\n      return\r\n    }\r\n\r\n    let rowScope = $scope.nodeScopes[row.model.id]\r\n    if (!rowScope.collapsed) {\r\n      rowScope.toggle()\r\n    }\r\n  }\r\n\r\n  let getHierarchy = function () {\r\n    return hierarchy\r\n  }\r\n\r\n  $scope.getHeaderContent = function () {\r\n    return $scope.pluginScope.headerContent\r\n  }\r\n\r\n  $scope.gantt.api.registerMethod('tree', 'refresh', refresh, this)\r\n  $scope.gantt.api.registerMethod('tree', 'isCollapsed', isRowCollapsed, this)\r\n  $scope.gantt.api.registerMethod('tree', 'expand', expandRow, this)\r\n  $scope.gantt.api.registerMethod('tree', 'collapse', collapseRow, this)\r\n\r\n  $scope.gantt.api.registerEvent('tree', 'collapsed')\r\n\r\n  $scope.gantt.api.registerMethod('tree', 'getHierarchy', getHierarchy, this)\r\n\r\n  $scope.$watchCollection('gantt.rowsManager.filteredRows', function () {\r\n    refresh()\r\n  })\r\n\r\n  $scope.children = function (row) {\r\n    if (row === undefined) {\r\n      return $scope.rootRows\r\n    }\r\n    return hierarchy.children(row)\r\n  }\r\n\r\n  $scope.parent = function (row) {\r\n    return hierarchy.parent(row)\r\n  }\r\n\r\n  $scope.nodeScopes = {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/tree.controller.ts","import angular from 'angular'\r\n\r\nimport GanttUtilsService from '../../core/logic/util/utils.service'\r\n\r\nexport default function (ganttUtils: GanttUtilsService, $compile, $document) {\r\n  'ngInject'\r\n  // Provides the row sort functionality to any Gantt row\r\n  // Uses the sortableState to share the current row\r\n\r\n  return {\r\n    restrict: 'E',\r\n    require: '^gantt',\r\n    scope: {\r\n      enabled: '=?',\r\n      header: '=?',\r\n      content: '=?',\r\n      headerContent: '=?',\r\n      keepAncestorOnFilterRow: '=?'\r\n    },\r\n    link: function (scope, element, attrs, ganttCtrl) {\r\n      let api = ganttCtrl.gantt.api\r\n\r\n      // Load options from global options attribute.\r\n      if (scope.options && typeof(scope.options.tree) === 'object') {\r\n        for (let option in scope.options.tree) {\r\n          scope[option] = scope.options.tree[option]\r\n        }\r\n      }\r\n\r\n      if (scope.enabled === undefined) {\r\n        scope.enabled = true\r\n      }\r\n\r\n      if (scope.header === undefined) {\r\n        scope.header = 'Name'\r\n      }\r\n\r\n      if (scope.headerContent === undefined) {\r\n        scope.headerContent = '{{getHeader()}}'\r\n      }\r\n\r\n      if (scope.keepAncestorOnFilterRow === undefined) {\r\n        scope.keepAncestorOnFilterRow = false\r\n      }\r\n\r\n      api.directives.on.new(scope, function (directiveName, sideContentScope, sideContentElement) {\r\n        if (directiveName === 'ganttSideContent') {\r\n          let labelsScope = sideContentScope.$new()\r\n          labelsScope.pluginScope = scope\r\n\r\n          let ifElement = $document[0].createElement('div')\r\n          angular.element(ifElement).attr('data-ng-if', 'pluginScope.enabled')\r\n          angular.element(ifElement).addClass('side-element')\r\n\r\n          let labelsElement = $document[0].createElement('gantt-side-content-tree')\r\n          angular.element(ifElement).append(labelsElement)\r\n\r\n          sideContentElement.append($compile(ifElement)(labelsScope))\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/tree.directive.ts","require('./treeBody.tmpl.html')\r\nrequire('./treeBodyChildren.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder, ganttLayout) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTreeBody', 'plugins/tree/treeBody.tmpl.html')\r\n  builder.controller = function ($scope) {\r\n    let hScrollBarHeight = ganttLayout.getScrollBarHeight()\r\n\r\n    $scope.getLabelsCss = function () {\r\n      let css = {}\r\n\r\n      let maxHeight = $scope.maxHeight\r\n      if (!maxHeight) {\r\n        maxHeight = $scope.gantt.getContainerHeight()\r\n      }\r\n\r\n      let bodyScrollBarHeight = $scope.gantt.scroll.isHScrollbarVisible() ? hScrollBarHeight : 0\r\n      css['max-height'] = maxHeight - bodyScrollBarHeight - $scope.gantt.header.getHeight() + 'px'\r\n\r\n      return css\r\n    }\r\n  }\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/treeBody.directive.ts","require('./treeHeader.tmpl.html')\r\n\r\nexport default function (GanttDirectiveBuilder) {\r\n  'ngInject'\r\n  let builder = new GanttDirectiveBuilder('ganttTreeHeader', 'plugins/tree/treeHeader.tmpl.html')\r\n  return builder.build()\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/treeHeader.directive.ts","export default function ($scope) {\r\n  'ngInject'\r\n  $scope.$parent.nodeScopes[$scope.row.model.id] = $scope\r\n  $scope.$on('$destroy', function () {\r\n    delete $scope.$parent.nodeScopes[$scope.row.model.id]\r\n  })\r\n\r\n  $scope.$watch('children(row)', function (newValue) {\r\n    if (newValue) {\r\n      // Children rows may have been filtered out\r\n      // So we need to filter the raw hierarchy before displaying children in tree.\r\n      let visibleRows = $scope.row.rowsManager.filteredRows\r\n\r\n      let filteredChildrenRows = []\r\n      for (let childRow of newValue) {\r\n        if (visibleRows.indexOf(childRow) > -1) {\r\n          filteredChildrenRows.push(childRow)\r\n        }\r\n      }\r\n\r\n      $scope.$parent.childrenRows = filteredChildrenRows\r\n    } else {\r\n      $scope.$parent.childrenRows = newValue\r\n    }\r\n  })\r\n\r\n  $scope.isCollapseDisabled = function () {\r\n    return !$scope.$parent.childrenRows || $scope.$parent.childrenRows.length === 0\r\n  }\r\n\r\n  $scope.getValue = function () {\r\n    return $scope.row.model.name\r\n  }\r\n\r\n  $scope.getRowContent = function () {\r\n    if ($scope.row.model.content !== undefined) {\r\n      return $scope.row.model.content\r\n    }\r\n    if ($scope.pluginScope.content !== undefined) {\r\n      return $scope.pluginScope.content\r\n    }\r\n\r\n    let content = $scope.row.rowsManager.gantt.options.value('rowContent')\r\n    if (content === undefined) {\r\n      content = '{{row.model.name}}'\r\n    }\r\n    return content\r\n  }\r\n\r\n  $scope.$watch('collapsed', function (newValue) {\r\n    if ($scope.$modelValue._collapsed !== newValue) {\r\n      let oldValue = $scope.$modelValue._collapsed\r\n      $scope.$modelValue._collapsed = newValue // $modelValue contains the Row object\r\n      if (oldValue !== undefined && newValue !== oldValue) {\r\n        $scope.gantt.api.tree.raise.collapsed($scope, $scope.$modelValue, newValue)\r\n        $scope.gantt.api.rows.refresh()\r\n      }\r\n    }\r\n  })\r\n\r\n  $scope.getDownTest = function () {\r\n    if (!$scope.row.model.children || $scope.row.model.children.length === 0) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/treeNode.controller.ts","export default function ($scope) {\r\n  'ngInject'\r\n  let collapseAll = function () {\r\n    $scope.$broadcast('angular-ui-tree:collapse-all')\r\n  }\r\n\r\n  let expandAll = function () {\r\n    $scope.$broadcast('angular-ui-tree:expand-all')\r\n  }\r\n\r\n  $scope.gantt.api.registerMethod('tree', 'collapseAll', collapseAll, $scope)\r\n  $scope.gantt.api.registerMethod('tree', 'expandAll', expandAll, $scope)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/tree/uiTree.controller.ts","var path = 'plugins/bounds/taskBounds.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-bounds ng-style=getCss() ng-class=getClass()></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/bounds/taskBounds.tmpl.html\n// module id = 381\n// module chunks = 1","var path = 'plugins/corner/corner.tmpl.html';\nvar html = \"<div class=gantt-corner-area-content> <div ng-show=$parent.ganttHeaderHeight class=gantt-header-row ng-repeat=\\\"header in headers\\\"> <div class=gantt-column-header><span class=gantt-label-text gantt-bind-compile-html=getLabelContent(header)></span></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/corner/corner.tmpl.html\n// module id = 382\n// module chunks = 1","var path = 'plugins/groups/taskGroup.tmpl.html';\nvar html = \"<div ng-controller=GanttGroupController> <div class=gantt-task-group-overview ng-if=\\\"taskGroup.overviewTasks.length > 0\\\"> <gantt-task-overview ng-repeat=\\\"task in taskGroup.overviewTasks\\\"></gantt-task-overview> </div> <div class=gantt-task-group-promote ng-if=\\\"taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0\\\"> <gantt-task ng-repeat=\\\"task in taskGroup.promotedTasks\\\"></gantt-task> </div> <div class=gantt-task-group ng-if=taskGroup.showGrouping ng-style=\\\"{'left': taskGroup.left + 'px', 'width': taskGroup.width + 'px'}\\\"> <div class=gantt-task-group-left-main></div> <div class=gantt-task-group-right-main></div> <div class=gantt-task-group-left-symbol></div> <div class=gantt-task-group-right-symbol></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/groups/taskGroup.tmpl.html\n// module id = 383\n// module chunks = 1","var path = 'plugins/groups/taskOverview.tmpl.html';\nvar html = \"<div class=\\\"gantt-task gantt-task-overview\\\" ng-class=task.model.classes> <gantt-task-background></gantt-task-background> <gantt-task-content></gantt-task-content> <gantt-task-foreground></gantt-task-foreground> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/groups/taskOverview.tmpl.html\n// module id = 384\n// module chunks = 1","var path = 'plugins/labels/labelsBody.tmpl.html';\nvar html = \"<div class=gantt-labels-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> <div gantt-row-label class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <span class=gantt-label-text>{{row.model.name}}</span> </div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/labels/labelsBody.tmpl.html\n// module id = 385\n// module chunks = 1","var path = 'plugins/labels/labelsHeader.tmpl.html';\nvar html = \"<div class=gantt-labels-header> <div ng-show=\\\"gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0\\\"> <div ng-repeat=\\\"header in gantt.columnsManager.headers\\\"> <div class=gantt-row-height ng-class=\\\"{'gantt-labels-header-row': $last, 'gantt-labels-header-row-last': $last}\\\"><span>{{$last ? pluginScope.header : \\\"\\\"}}</span></div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/labels/labelsHeader.tmpl.html\n// module id = 386\n// module chunks = 1","var path = 'plugins/labels/sideContentLabels.tmpl.html';\nvar html = \"<div class=gantt-side-content-labels> <gantt-labels-header> </gantt-labels-header> <gantt-labels-body> </gantt-labels-body> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/labels/sideContentLabels.tmpl.html\n// module id = 387\n// module chunks = 1","var path = 'plugins/progress/taskProgress.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-progress ng-style=getCss() ng-class=getClasses()></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/progress/taskProgress.tmpl.html\n// module id = 388\n// module chunks = 1","var path = 'plugins/sections/taskSection.tmpl.html';\nvar html = \"<div ng-style=sectionCss ng-class=section.classes class=gantt-task-section></div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/sections/taskSection.tmpl.html\n// module id = 389\n// module chunks = 1","var path = 'plugins/sections/taskSections.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-sections> <gantt-task-section section=section task=task options=task.model.sections index=$index ng-repeat=\\\"section in task.model.sections.items track by $index\\\"> </gantt-task-section> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/sections/taskSections.tmpl.html\n// module id = 390\n// module chunks = 1","var path = 'plugins/table/sideContentTable.tmpl.html';\nvar html = \"<div class=gantt-side-content-table> <div class=\\\"gantt-table-column {{getClass()}}\\\" ng-repeat=\\\"column in pluginScope.columns\\\" ng-controller=TableColumnController> <div class=gantt-table-header ng-style=\\\"{height: ganttHeaderHeight + 'px'}\\\"> <div ng-show=ganttHeaderHeight class=\\\"gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row\\\"> <span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /> </div> </div> <div class=gantt-table-content ng-style=getMaxHeightCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-table-row ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\" ng-controller=TableColumnRowController> <div gantt-row-label class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <div class=gantt-valign-container> <div class=gantt-valign-content> <span class=gantt-label-text gantt-bind-compile-html=getRowContent()></span> </div> </div> </div> </div> </div> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/table/sideContentTable.tmpl.html\n// module id = 391\n// module chunks = 1","var path = 'plugins/tooltips/tooltip.tmpl.html';\nvar html = \"<div ng-cloak class=gantt-task-info ng-show=displayed ng-class=\\\"isRightAligned ? 'gantt-task-infoArrowR' : 'gantt-task-infoArrow'\\\" ng-style=\\\"{top: taskRect.top + 'px', marginTop: -elementHeight - 8 + 'px'}\\\"> <div class=gantt-task-info-content> <div gantt-bind-compile-html=content></div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/tooltips/tooltip.tmpl.html\n// module id = 392\n// module chunks = 1","var path = 'plugins/tree/sideContentTree.tmpl.html';\nvar html = \"<div class=gantt-side-content-tree ng-controller=GanttTreeController> <gantt-tree-header> </gantt-tree-header> <gantt-tree-body> </gantt-tree-body> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/tree/sideContentTree.tmpl.html\n// module id = 393\n// module chunks = 1","var path = 'plugins/tree/treeBody.tmpl.html';\nvar html = \"<div class=gantt-tree-body ng-style=getLabelsCss()> <div gantt-vertical-scroll-receiver> <div class=gantt-row-label-background> <div class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\" ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> &nbsp; </div> </div> <div ui-tree ng-controller=GanttUiTreeController data-drag-enabled=false data-empty-place-holder-enabled=false> <ol class=gantt-tree-root ui-tree-nodes ng-model=rootRows> <li ng-repeat=\\\"row in rootRows\\\" ui-tree-node ng-include=\\\"'plugins/tree/treeBodyChildren.tmpl.html'\\\"> </li> </ol> </div> </div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/tree/treeBody.tmpl.html\n// module id = 394\n// module chunks = 1","var path = 'plugins/tree/treeBodyChildren.tmpl.html';\nvar html = \"<div ng-controller=GanttTreeNodeController class=\\\"gantt-row-label gantt-row-height\\\" ng-class=row.model.classes ng-style=\\\"{'height': row.model.height}\\\"> <div class=gantt-valign-container> <div class=gantt-valign-content> <a ng-disabled=isCollapseDisabled() data-nodrag class=\\\"gantt-tree-handle-button btn btn-xs\\\" ng-class=\\\"{'gantt-tree-collapsed': collapsed, 'gantt-tree-expanded': !collapsed}\\\" ng-click=\\\"!isCollapseDisabled() && toggle()\\\"><span class=\\\"gantt-tree-handle glyphicon\\\" ng-class=\\\"{'glyphicon-chevron-down': getDownTest()}\\\"></span> </a> <span gantt-row-label class=gantt-label-text gantt-bind-compile-html=getRowContent() /> </div> </div> </div> <ol ui-tree-nodes ng-class=\\\"{hidden: collapsed}\\\" ng-model=childrenRows> <li ng-repeat=\\\"row in childrenRows\\\" ui-tree-node> <div ng-include=\\\"'plugins/tree/treeBodyChildren.tmpl.html'\\\"></div> </li> </ol> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/tree/treeBodyChildren.tmpl.html\n// module id = 395\n// module chunks = 1","var path = 'plugins/tree/treeHeader.tmpl.html';\nvar html = \"<div class=gantt-tree-header ng-style=\\\"{height: $parent.ganttHeaderHeight + 'px'}\\\"> <div ng-if=$parent.ganttHeaderHeight class=\\\"gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row\\\"><span class=gantt-label-text gantt-bind-compile-html=getHeaderContent() /></div> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/plugins/tree/treeHeader.tmpl.html\n// module id = 396\n// module chunks = 1","var path = 'template/gantt.tmpl.html';\nvar html = \"<div class=\\\"gantt unselectable\\\" ng-cloak gantt-scroll-manager gantt-container-height-listener=ganttContainerHeight gantt-container-width-listener=ganttContainerWidth gantt-element-height-listener=ganttElementHeight gantt-element-width-listener=ganttElementWidth> <gantt-side> <gantt-side-background> </gantt-side-background> <gantt-side-content> </gantt-side-content> <div gantt-resizer=gantt.side.$element gantt-resizer-event-topic=side gantt-resizer-enabled=\\\"{{$parent.gantt.options.value('allowSideResizing')}}\\\" resizer-width=sideWidth class=gantt-resizer> <div ng-show=\\\"$parent.gantt.options.value('allowSideResizing')\\\" class=gantt-resizer-display></div> </div> </gantt-side> <gantt-scrollable-header> <gantt-header gantt-element-height-listener=$parent.ganttHeaderHeight> <gantt-header-columns> <div ng-repeat=\\\"header in gantt.columnsManager.visibleHeaders track by $index\\\"> <div class=gantt-header-row ng-class=\\\"{'gantt-header-row-last': $last, 'gantt-header-row-first': $first}\\\"> <gantt-column-header ng-repeat=\\\"column in header\\\"></gantt-column-header> </div> </div> </gantt-header-columns> </gantt-header> </gantt-scrollable-header> <gantt-scrollable> <gantt-body> <gantt-body-background> <gantt-row-background ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"></gantt-row-background> </gantt-body-background> <gantt-body-foreground> <div class=gantt-current-date-line ng-show=\\\"currentDate === 'line' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width\\\" ng-style=\\\"{'left': gantt.currentDateManager.position + 'px' }\\\"></div> </gantt-body-foreground> <gantt-body-columns> <gantt-column ng-repeat=\\\"column in gantt.columnsManager.visibleColumns\\\"> <gantt-time-frame ng-repeat=\\\"timeFrame in column.visibleTimeFrames\\\"></gantt-time-frame> </gantt-column> </gantt-body-columns> <div ng-if=\\\"gantt.columnsManager.visibleColumns == 0\\\" style=background-color:grey></div> <gantt-body-rows> <gantt-timespan ng-repeat=\\\"timespan in gantt.timespansManager.timespans track by timespan.model.id\\\"></gantt-timespan> <gantt-row ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"> <gantt-task ng-repeat=\\\"task in row.visibleTasks track by task.model.id\\\" ng-if=task.model.visible> </gantt-task> </gantt-row> </gantt-body-rows> </gantt-body> </gantt-scrollable> <ng-transclude></ng-transclude> <script type=text/ng-template id=template/ganttBody.tmpl.html> <div ng-transclude class=\\\"gantt-body\\\" ng-style=\\\"{'width': gantt.width > 0 ? gantt.width +'px' : undefined}\\\"></div> </script> <script type=text/ng-template id=template/ganttHeader.tmpl.html> <div ng-transclude class=\\\"gantt-header\\\"\\r\\n             ng-show=\\\"gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0\\\"></div> </script> <script type=text/ng-template id=template/ganttSide.tmpl.html> <div ng-transclude class=\\\"gantt-side\\\" style=\\\"width: auto;\\\"></div> </script> <script type=text/ng-template id=template/ganttSideContent.tmpl.html> <div class=\\\"gantt-side-content\\\" ng-style=\\\"getSideCss()\\\">\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttHeaderColumns.tmpl.html> <div ng-transclude class=\\\"gantt-header-columns\\\"\\r\\n              gantt-horizontal-scroll-receiver></div> </script> <script type=text/ng-template id=template/ganttColumnHeader.tmpl.html> <div class=\\\"gantt-column-header\\\" ng-class=\\\"{'gantt-column-header-last': $last, 'gantt-column-header-first': $first}\\\">{{::column.label}}</div> </script> <script type=text/ng-template id=template/ganttBodyBackground.tmpl.html> <div ng-transclude class=\\\"gantt-body-background\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyForeground.tmpl.html> <div ng-transclude class=\\\"gantt-body-foreground\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyColumns.tmpl.html> <div ng-transclude class=\\\"gantt-body-columns\\\"></div> </script> <script type=text/ng-template id=template/ganttColumn.tmpl.html> <div ng-transclude class=\\\"gantt-column gantt-foreground-col\\\" ng-class=\\\"{'gantt-column-last': $last, 'gantt-column-first': $first}\\\"></div> </script> <script type=text/ng-template id=template/ganttTimeFrame.tmpl.html> <div class=\\\"gantt-timeframe\\\"></div> </script> <script type=text/ng-template id=template/ganttScrollable.tmpl.html> <div ng-transclude class=\\\"gantt-scrollable\\\" gantt-scroll-sender ng-style=\\\"getScrollableCss()\\\"></div> </script> <script type=text/ng-template id=template/ganttScrollableHeader.tmpl.html> <div ng-transclude class=\\\"gantt-scrollable-header\\\" ng-style=\\\"getScrollableHeaderCss()\\\"></div> </script> <script type=text/ng-template id=template/ganttBodyRows.tmpl.html> <div ng-transclude class=\\\"gantt-body-rows\\\"></div> </script> <script type=text/ng-template id=template/ganttTimespan.tmpl.html> <div class=\\\"gantt-timespan\\\" ng-class=\\\"timespan.model.classes\\\">\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTask.tmpl.html> <div class=\\\"gantt-task\\\" ng-class=\\\"task.model.classes\\\">\\r\\n            <gantt-task-background></gantt-task-background>\\r\\n            <gantt-task-foreground></gantt-task-foreground>\\r\\n            <gantt-task-content></gantt-task-content>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTaskBackground.tmpl.html> <div class=\\\"gantt-task-background\\\" ng-style=\\\"{'background': task.model.color}\\\"></div> </script> <script type=text/ng-template id=template/ganttTaskForeground.tmpl.html> <div class=\\\"gantt-task-foreground\\\">\\r\\n            <div ng-if=\\\"task.truncatedRight\\\" class=\\\"gantt-task-truncated-right\\\" ng-style=\\\"{'padding-right': task.truncatedRightOffset + 'px'}\\\">&gt;</div>\\r\\n            <div ng-if=\\\"task.truncatedLeft\\\" class=\\\"gantt-task-truncated-left\\\" ng-style=\\\"{'padding-left': task.truncatedLeftOffset + 'px'}\\\">&lt;</div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttTaskContent.tmpl.html> <div class=\\\"gantt-task-content\\\" unselectable=\\\"on\\\"><span unselectable=\\\"on\\\" gantt-bind-compile-html=\\\"getTaskContent()\\\"/></div> </script> <script type=text/ng-template id=template/ganttRowBackground.tmpl.html> <div class=\\\"gantt-row gantt-row-height\\\"\\r\\n             ng-class=\\\"row.model.classes\\\"\\r\\n             ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n             ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n             ng-style=\\\"{'height': row.model.height}\\\">\\r\\n            <div class=\\\"gantt-row-background\\\"\\r\\n                 ng-style=\\\"{'background-color': row.model.color}\\\">\\r\\n            </div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttRow.tmpl.html> <div class=\\\"gantt-row gantt-row-height\\\"\\r\\n             ng-class=\\\"row.model.classes\\\"\\r\\n             ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n             ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n             ng-style=\\\"{'height': row.model.height}\\\">\\r\\n            <div ng-transclude class=\\\"gantt-row-content\\\"></div>\\r\\n        </div> </script> <script type=text/ng-template id=template/ganttSideBackground.tmpl.html> <div class=\\\"gantt-side-background\\\">\\r\\n            <div class=\\\"gantt-side-background-header\\\" ng-style=\\\"{height: $parent.ganttHeaderHeight + 'px'}\\\">\\r\\n                <div ng-show=\\\"$parent.ganttHeaderHeight\\\" class=\\\"gantt-header-row gantt-side-header-row\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"gantt-side-background-body\\\" ng-style=\\\"getMaxHeightCss()\\\">\\r\\n                <div gantt-vertical-scroll-receiver>\\r\\n                    <div class=\\\"gantt-row gantt-row-height \\\"\\r\\n                         ng-class-odd=\\\"'gantt-row-odd'\\\"\\r\\n                         ng-class-even=\\\"'gantt-row-even'\\\"\\r\\n                         ng-class=\\\"row.model.classes\\\"\\r\\n                         ng-repeat=\\\"row in gantt.rowsManager.visibleRows track by row.model.id\\\"\\r\\n                         ng-style=\\\"{'height': row.model.height}\\\">\\r\\n                        <div class=\\\"gantt-row-label gantt-row-background\\\"\\r\\n                             ng-style=\\\"{'background-color': row.model.color}\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div> </script> </div> \";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/template/gantt.tmpl.html\n// module id = 397\n// module chunks = 1"],"sourceRoot":""}